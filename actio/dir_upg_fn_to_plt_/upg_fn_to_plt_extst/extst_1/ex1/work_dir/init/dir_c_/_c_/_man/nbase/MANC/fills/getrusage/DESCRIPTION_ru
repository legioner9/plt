https://ru.manpages.org/getrusage/2

getrusage() возвращает текущие ограничения на ресурсы для значения who, которое может быть:

RUSAGE_SELF
Возвращает статистику по использованию ресурсов вызывающим процессом (суммируются значения всех нитей процесса).
RUSAGE_CHILDREN
Возвращает статистику по использованию ресурсов всех потомков вызывающего процесса, которые завершились или завершение которых ожидается. Эта статистика включает в себя ресурсы, использованные внучками и дальнейшими потомками, если все промежуточные потомки завершились или их завершение ожидается.
RUSAGE_THREAD (начиная с Linux 2.6.26)
Возвращает статистику по использованию ресурсов вызывающей нити. Чтобы получить определение этой константы из <sys/resource.h> должен быть определён макрос тестирования свойств _GNU_SOURCE (до включения всех заголовочных файлов).