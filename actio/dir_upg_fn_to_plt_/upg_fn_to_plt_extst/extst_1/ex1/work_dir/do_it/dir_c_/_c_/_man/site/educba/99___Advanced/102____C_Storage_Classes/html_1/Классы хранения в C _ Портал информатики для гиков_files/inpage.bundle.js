!function(){function e(r){var n=i[r];if(void 0!==n)return n.exports;var o=i[r]={id:r,exports:{}};return t[r](o,o.exports,e),o.exports}var t={1256:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".fmL{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.RON5ADg{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,HoneypotButton:"fmL",HoneypotButton__content:"RON5ADg"},e.exports=a},6383:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".zAD7{background-color:#000;opacity:.5}",""]),n.locals={HoneypotOverlay:"zAD7"},e.exports=n},5046:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".bEtRRo9FnP{position:relative}.Pjf7onO{cursor:pointer}.xWi9{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.LWv96KJ{position:absolute;top:0;left:0}",""]),n.locals={HoneypotScreen:"bEtRRo9FnP",HoneypotScreen_clickable:"Pjf7onO",HoneypotScreen__buttonWrapper:"xWi9",HoneypotScreen__honeypotOverlayWrapper:"LWv96KJ"},e.exports=n},9881:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,":root{}.kuAXbP8cu{display:flex;flex-grow:1;flex-shrink:1;align-items:center;justify-content:center;box-shadow:none}.ewoUUZpiG{z-index:10000}.ONEz{box-sizing:content-box;padding-top:32px;background-color:#ecf4f9;border-radius:4px;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)}.ONEz .pLZDzxa{position:absolute;top:0;left:0;width:100%;height:32px}.wGvnOx8{box-shadow:0 0 20px 20px rgba(96,109,128,.15)}.pz6rN{background-color:#fff}.oKX{background-color:#283459}.ifui9sJV2p{position:relative;z-index:2;flex-shrink:0;width:100%;height:100%;overflow:hidden;font-size:0}.HuX{position:relative;display:flex;flex-grow:1;flex-shrink:1;align-items:stretch;visibility:hidden}.YuzLmZo{position:absolute;top:0;left:0;display:block;width:100%;height:100%;margin:0;padding:0}.cVhhCJjXO,.hnC{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.cVhhCJjXO{display:none;background-position:50%;background-size:cover}.cXyA4WY{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;padding:0;overflow:hidden}.pLZDzxa{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0;transition:opacity .2s}.wgP4dtd{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.wgP4dtd svg{width:12px;height:12px;vertical-align:top}.tBRP9KisaO .hgCX3SIpq{min-width:0;max-width:44vh;margin:0 3.5vh 0 3vh}.hgCX3SIpq{font-size:18px}.R7fk7lk{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.L55mDrke,.ccGQqFQk{cursor:pointer}.ccGQqFQk{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.L55mDrke{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.L55mDrke:hover{background-color:#d9e9ff}.qIYwthbA{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.zlLza .ccGQqFQk{color:#fff}.zlLza .L55mDrke{color:#fff;background-color:#535c7a}.zlLza .L55mDrke:hover{background-color:#5d6682}.tBRP9KisaO{transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease;will-change:width,height,left,top,bottom,right}.i4h5d{transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease}.tBRP9KisaO .ifui9sJV2p{transition:width .4s,height .4s;will-change:width,height}.LPZ{transition:none}.R68goAH .pLZDzxa{display:block;opacity:0}.kuAXbP8cu:not(.ea51HELHc) .pLZDzxa,.AquqsX .pLZDzxa{opacity:0}.kuAXbP8cu:not(.ea51HELHc) .wgP4dtd,.AquqsX .wgP4dtd{display:none}.OGaJjCx.ea51HELHc.i4h5d{margin-top:32px}.ewoUUZpiG .pLZDzxa{opacity:1}.ewoUUZpiG .wgP4dtd{display:block}.wGvnOx8 .ifui9sJV2p{width:auto}",""]),n.locals={yaInPageStickyWrapper:"kuAXbP8cu",yaInPageStickyWrapper__sticky:"ewoUUZpiG",yaInPageStickyWrapper__sticky__flyroll:"ONEz",yaInpageAdditionalContentContainer:"pLZDzxa",yaInPageStickyWrapper__sticky__covering:"wGvnOx8",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"pz6rN",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"oKX",yaInPageWrapper:"ifui9sJV2p",yaInPagePlaceholderElement:"HuX",InPageLayout__videoSlot:"YuzLmZo",InPageLayout__packshotContainer:"cVhhCJjXO",InPageLayout__slot:"hnC",InPageLayout__videoSlotContainer:"cXyA4WY",yaInpageCross:"wgP4dtd",yaInPageStickyWrapper__variant__covering:"tBRP9KisaO",yaInpageAdditionalContent:"hgCX3SIpq",yaInpageAdditionalContent__adTitle:"R7fk7lk",yaInpageAdditionalContent__button:"L55mDrke",yaInpageAdditionalContent__description:"ccGQqFQk",yaInpageAdditionalContent__buttonClickableArea:"qIYwthbA",yaInpageAdditionalContent_dark:"zlLza",yaInPageStickyWrapper__variant__flyroll:"i4h5d",yaInPageStickyWrapper__unAnimated:"LPZ",yaInPageStickyWrapper__additionalContent_enabled:"R68goAH",yaInPageStickyWrapper__detached:"ea51HELHc",yaInPageStickyWrapper__inline:"AquqsX",yaInPageStickyWrapper__isAnimating:"OGaJjCx"},e.exports=n},5432:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".bFzf{color:inherit;text-decoration:none;pointer-events:auto}.bFzf[data-pointer-events]{pointer-events:none}",""]),n.locals={ClickThroughLink:"bFzf"},e.exports=n},7480:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".nQ8FndM1L{display:inline-block;color:#000;font-size:16px;font-family:"+o.locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.SEttQyRln{padding:10px 16px;line-height:16px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotButton:"nQ8FndM1L",PackshotButton__content:"SEttQyRln"},e.exports=a},4368:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".rhwS{background-color:#000;opacity:.5}",""]),n.locals={PackshotOverlay:"rhwS"},e.exports=n},2670:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".EtFDyJhfg{position:relative}.p70vZyS{cursor:pointer}.JONfRgLJB6{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.QzBe1jJ{font-weight:700;cursor:pointer}.WyMXCf7i,.QzBe1jJ{box-sizing:border-box;text-align:center;margin:4px 0;width:100%;color:#fff;font-family:"+o.locals.AD_FONT+"}.oON9mXNn{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.vPMMoPfHVp{margin:4px}.YEnapb{position:absolute;top:0;left:0}.jBnRA26LiS{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+o.locals.AD_FONT+"}.XIXI{position:absolute;bottom:0;width:100%;padding:4px;color:#fff;opacity:.85;font-family:"+o.locals.AD_FONT+"}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,PackshotScreen:"EtFDyJhfg",PackshotScreen_clickable:"p70vZyS",PackshotScreen__content:"JONfRgLJB6",PackshotScreen__title:"QzBe1jJ",PackshotScreen__body:"WyMXCf7i",PackshotScreen__buttonWrapper:"oON9mXNn",PackshotScreen__buttonWrapper_newDesign:"vPMMoPfHVp",PackshotScreen__packshotOverlayWrapper:"YEnapb",PackshotScreen__textBlock:"jBnRA26LiS",PackshotScreen__textBlock_newDesgin:"XIXI"},e.exports=a},2935:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".vm4P{height:100%;opacity:0}.QgBvRmh0b{opacity:1}.hPfc3g0rYM{height:calc(100% - var(--ctat-margin-top) - var(--ctat-margin-bottom));display:flex;align-items:center;justify-content:center;margin-left:var(--ctat-horizontal-margin);margin-right:var(--ctat-horizontal-margin);margin-top:var(--ctat-margin-top);position:relative}.gcKk,.Tpi{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;font-family:"+o.locals.AD_FONT+";font-weight:600;text-shadow:0 0 16px rgba(0,0,0,.05),0 0 8px rgba(0,0,0,.05),0 4px 4px rgba(0,0,0,.05),0 2px 2px rgba(0,0,0,.05),0 1px 1px rgba(0,0,0,.05)}.QgBvRmh0b .Tpi .aXi{--ctat-animation-delay-line:calc(var(--ctat-animation-title-part-duration)*3*var(--stw-text-line-index));--ctat-animation-delay-third:calc(var(--ctat-animation-title-part-duration)*var(--stw-text-char-inside-line-third));--ctat-animation-overlap-char:calc(var(--ctat-animation-delay-third) + var(--ctat-animation-delay-line));animation-name:RZN;animation-duration:var(--ctat-animation-title-part-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-overlap-char) + var(--ctat-animation-title-animation-show-delay));animation-fill-mode:both;animation-timing-function:ease-in-out;animation-play-state:var(--ctat-animation-playing-state)}@keyframes RZN{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.QgBvRmh0b .Tpi .Q7ulHHgA{--ctat-animation-title-animation-enlarge-current-line-delay:calc(var(--ctat-animation-title-animation-enlargement-delay) + (var(--ctat-animation-title-animation-enlargement-duration) + var(--ctat-animation-title-enlargement-next-line-delay))*var(--stw-text-line-index));--ctat-animation-title-animation-hide-current-line-delay:calc(var(--ctat-animation-title-animation-hide-delay) + var(--ctat-animation-title-animation-hide-duration)*var(--stw-text-line-index));animation-name:SgH9Oujnu,cSzoDm4RZ;animation-duration:var(--ctat-animation-title-animation-enlargement-duration),var(--ctat-animation-title-animation-hide-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-enlarge-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-title-animation-hide-current-line-delay));animation-fill-mode:both,forwards;animation-timing-function:cubic-bezier(.35,0,.65,1),ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}.gcKk .Q7ulHHgA,.Tpi .Q7ulHHgA{overflow:clip;pointer-events:auto}@keyframes SgH9Oujnu{0%{transform:scale(1) translateY(0)}to{transform:scale(1.1) translateY(0)}}@keyframes cSzoDm4RZ{0%{transform:scale(1.1) translateY(0);opacity:1}99%{transform:scale(1.1) translateY(100%);opacity:0}to{transform:scale(1.1) translateY(9999px);opacity:0}}.QgBvRmh0b .gcKk .Q7ulHHgA{--ctat-animation-body-animation-show-current-line-delay:calc(var(--ctat-animation-body-animation-show-delay) + (var(--ctat-animation-body-animation-show-duration)*0.5 + var(--ctat-animation-body-animation-show-line-delay))*var(--stw-text-line-index));--ctat-animation-body-animation-enlargement-current-line-delay:calc(var(--ctat-animation-body-animation-enlargement-delay) + var(--ctat-animation-body-animation-show-duration)*var(--stw-text-line-index));animation-name:FiFw9ti,IyB5V;animation-duration:var(--ctat-animation-body-animation-show-duration),var(--ctat-animation-body-animation-enlargement-duration);animation-delay:calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-show-current-line-delay)),calc(var(--ctat-animation-current-time)*-1 + var(--ctat-animation-body-animation-enlargement-current-line-delay));animation-fill-mode:both,none;animation-timing-function:ease-in-out,ease-in-out;animation-play-state:var(--ctat-animation-playing-state),var(--ctat-animation-playing-state)}@keyframes FiFw9ti{0%{transform:translateY(9999px);opacity:0}1%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes IyB5V{0%{transform:scale(1);letter-spacing:normal}33%{transform:scale(1.1);letter-spacing:.1em}to{transform:scale(1);letter-spacing:normal}}.eo22{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;background-color:rgba(0,0,0,.1)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,CallToActionText:"vm4P",CallToActionText__animated:"QgBvRmh0b",CallToActionText__overlay:"hPfc3g0rYM",CallToActionText__body:"gcKk",CallToActionText__title:"Tpi",SplitTextLinesWrapper__char:"aXi","title-char-reveal":"RZN",SplitTextLinesWrapper__textLine:"Q7ulHHgA","title-line-enlargement":"SgH9Oujnu","title-line-hide":"cSzoDm4RZ","body-line-show":"FiFw9ti","body-line-enlargement":"IyB5V",CallToActionTextContainer:"eo22"},e.exports=a},8866:function(e,t,i){var r=i(1907),n=i(6939),o=i(9792),a=i(2840),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".TDkK{border-radius:16px;cursor:pointer;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+";will-change:background-color}.TDkK:not(.IID5b3u3gO),.IID5b3u3gO{background-color:rgba(35,37,38,.1)}.TDkK:not(.IID5b3u3gO):hover,.IID5b3u3gO:hover{background-color:rgba(35,37,38,.4)}.T2p2dRbZ{transform:translate(12px,12px);will-change:transform}.bwlP{transform:rotate(45deg);opacity:0}.fAqlDLv478,.bwlP{transition:"+o.locals.default_transition_duration+" transform "+a.locals.default_transition_timing_function+","+o.locals.default_transition_duration+" opacity "+a.locals.default_transition_timing_function+";will-change:transform,opacity}.IID5b3u3gO .fAqlDLv478{opacity:0}.IID5b3u3gO .bwlP{opacity:1}.IID5b3u3gO .FKZd166F5F{transform:translateY(6px)}.IID5b3u3gO .hzWZLYQZ{transform:translateY(-6px)}.IID5b3u3gO .sh2eAcqtO{transform:rotate(0deg)}.IID5b3u3gO .bUoDJ91W{transform:rotate(90deg)}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseAnimationIcon:"TDkK",AbuseAnimationIcon_cross:"IID5b3u3gO",AbuseAnimationIcon__lines:"T2p2dRbZ",AbuseAnimationIcon__line:"bwlP",AbuseAnimationIcon__dot:"fAqlDLv478",AbuseAnimationIcon__dot_top:"FKZd166F5F",AbuseAnimationIcon__dot_bottom:"hzWZLYQZ",AbuseAnimationIcon__line_left:"sh2eAcqtO",AbuseAnimationIcon__line_right:"bUoDJ91W"},e.exports=s},2013:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".vDMZTGdd{}.rzBu{fill:rgba(35,37,38,.1)}.vDMZTGdd:hover .rzBu{fill:rgba(35,37,38,.4)}.Z8zPu,.K6zSQa{}.CjOh,.qOeo1{visibility:hidden}",""]),n.locals={AbuseNoAnimationIcon:"vDMZTGdd",AbuseNoAnimationIcon__circle:"rzBu",AbuseNoAnimationIcon__dots:"Z8zPu",AbuseNoAnimationIcon__lines:"K6zSQa",AbuseNoAnimationIcon__dots_Hidden:"CjOh",AbuseNoAnimationIcon__lines_Hidden:"qOeo1"},e.exports=n},5170:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(5092),s=i(1307),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".qZMaF{position:absolute;top:4px;left:4px;display:inline-flex;align-items:center;padding:4px 6px;color:#b1b1b1;font-weight:400;font-size:6px;font-family:"+o.locals.AD_FONT+";line-height:normal;letter-spacing:.075em;text-transform:uppercase;text-decoration:none;text-shadow:0 2px 2px rgba(0,0,0,.1);background:rgba(38,38,38,.65);border-radius:24px;transform-origin:bottom left;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.ER5Qt{font-size:8px}.ICy5a{cursor:pointer}.G7jQ97{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}.Jvd9{margin:0 3px;font-weight:700;font-size:4px;line-height:1.5}.ER5Qt .Jvd9{font-size:6px}.CfH4KA6nX{}.jZI{font-size:8px;background:#eef1f4;text-shadow:none}.jZI .Jvd9{font-size:8px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_LABEL_SMALL_HEIGHT:""+a.locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+s.locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"qZMaF",AdLabel_fullSize:"ER5Qt",AdLabel_clickable:"ICy5a",AdLabel__icon:"G7jQ97",AdLabel__delimiter:"Jvd9",AdLabel__ageLabel:"CfH4KA6nX",AdLabel_survey:"jZI"},e.exports=l},2020:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(7441),s=i(1154),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".yxa{display:inline-block;color:#000;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+o.locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ksTCCZbo{cursor:pointer}.pXP{text-decoration:none}.ksTCCZbo .oOambzsJt{opacity:.915}.ksTCCZbo:hover .oOambzsJt{opacity:1}.vvgnsHwO{padding:4px;pointer-events:auto}.oOambzsJt{display:flex;align-items:center;height:"+s.locals.SMALL_BUTTON_HEIGHT+";opacity:.6}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,SMALL_BUTTON_HEIGHT:""+s.locals.SMALL_BUTTON_HEIGHT,Button:"yxa",Button_active:"ksTCCZbo",Button_link:"pXP",Button__content:"oOambzsJt",Button__clickable:"vvgnsHwO"},e.exports=l},5050:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".m1F1naM{position:absolute;bottom:0;left:0;width:100%;height:88px;background-image:linear-gradient(-180deg,transparent,rgba(0,0,0,.3) 35%,rgba(0,0,0,.6) 99%);pointer-events:none}",""]),n.locals={ControlsBottomShadow:"m1F1naM"},e.exports=n},1796:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".KNuRgEbr1{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),n.locals={MuteIcon:"KNuRgEbr1"},e.exports=n},6937:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".fmm9g9yv3H{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+o.locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,SocialAdvertisingAdLabel:"fmm9g9yv3H"},e.exports=a},4115:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"@keyframes nDqicbmC{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.mJ8jvOc{animation-name:nDqicbmC;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),n.locals={SpinnerIcon__css_animated:"mJ8jvOc",spin:"nDqicbmC"},e.exports=n},5751:function(e,t,i){var r=i(1907),n=i(6939),o=i(1154),a=i(4430),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".dc0BSb{font-size:18px}.dc0BSb .XW8IF{height:"+o.locals.MIDDLE_BUTTON_HEIGHT+"}.FXQLox{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.FXQLox .X1J9L9j{position:relative;background-color:"+a.locals.BUTTON_INACTIVE_BACKGROUND_COLOR+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.FXQLox.RaOVoVt2rP:hover .X1J9L9j{background-color:"+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR+"}.RaOVoVt2rP .oOambzsJt{opacity:1}.RaOVoVt2rP .X1J9L9j{background-color:"+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+"}",""]),s.locals={MIDDLE_BUTTON_HEIGHT:""+o.locals.MIDDLE_BUTTON_HEIGHT,BUTTON_INACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_INACTIVE_BACKGROUND_COLOR,BUTTON_ACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,BUTTON_HOVERED_BACKGROUND_COLOR:""+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR,SquareButton_fullSize:"dc0BSb",SquareButton__basecontent:"XW8IF",SquareButton:"FXQLox",SquareButton__basebutton:"X1J9L9j",SquareButton_active:"RaOVoVt2rP",Button__content:"oOambzsJt"},e.exports=s},1172:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".z46ve{width:100%;transform-origin:0;will-change:transform}.z46ve,.Ggx{position:absolute;height:2px}.r5G8k26{background-color:#ff1a2d;transform:scaleX(0)}.RnMMupD8{background-color:#cdcdcd;transform:scaleX(1)}",""]),n.locals={TimelineBar:"z46ve",TimelineBar__container:"Ggx",TimelineBar__progress:"r5G8k26",TimelineBar__background:"RnMMupD8"},e.exports=n},1197:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".oAEMcn{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),n.locals={UnmuteIcon:"oAEMcn"},e.exports=n},1155:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".S1nZbYC{}",""]),n.locals={AbuseContainer:"S1nZbYC"},e.exports=n},7486:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(9792),s=i(2840),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".Ow8ikuyau{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:"+a.locals.default_transition_duration+" opacity "+s.locals.default_transition_timing_function+","+a.locals.default_transition_duration+" height "+s.locals.default_transition_timing_function+";pointer-events:none;will-change:opacity,height}.Ow8ikuyau:not(.IhHW1Q){visibility:hidden}.IhHW1Q{opacity:1;pointer-events:auto}.Ow8ikuyau:not(.B5L7X6vc0){top:36px;right:4px;width:240px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.B5L7X6vc0{top:0;right:0;bottom:0;left:0}.SQtBX{box-sizing:border-box;padding:8px}.B5L7X6vc0 .SQtBX{height:100%;overflow:auto}.vYL{display:flex;align-items:center;height:36px}.QjRzip{box-sizing:border-box;width:100%;height:112px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:3px;outline:none;resize:none;pointer-events:auto}.QjRzip:focus{border-color:#498bff}.yXJd6rWK{margin-top:8px;background-color:#498bff;border-radius:8px}.yXJd6rWK:hover{background-color:#2e71e5}.qFVr3w97xZ{justify-content:center;height:26px;color:#fff;font-weight:400;line-height:20px}.qVmSg{padding:8px;color:#3a3d40}.qFVr3w97xZ,.ejCk1wgGz,.qVmSg{font-size:15px}.ejCk1wgGz{color:#a3acbf;line-height:16px;word-break:break-word}.lzGJ .ejCk1wgGz,.V4t .ejCk1wgGz{padding:10px 8px}.Nw6jCUO .ejCk1wgGz{margin-right:15px;margin-left:10px}.ejCk1wgGz,.qVmSg{font-weight:600;font-family:"+o.locals.AD_FONT+";line-height:16px}.J3JNF0dhU{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:"+a.locals.default_transition_duration+" background-color "+s.locals.default_transition_timing_function+";pointer-events:auto}.J3JNF0dhU:hover{background-color:#f4f8ff}.BSr2ZC5rm{display:flex;flex-direction:column}.A6Qw{max-height:70px;margin:8px;overflow-y:auto;color:#a3acbf;font-size:11px;font-family:"+o.locals.AD_FONT+";line-height:14px;white-space:pre-line}.B5L7X6vc0 .A6Qw{margin-right:18px}.B5L7X6vc0 .BSr2ZC5rm{height:calc(100% - 36px);min-height:120px}.B5L7X6vc0 .Nw6jCUO,.B5L7X6vc0 .QjRzip{height:100%}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,default_transition_duration:""+a.locals.default_transition_duration,default_transition_timing_function:""+s.locals.default_transition_timing_function,AbuseDisplay:"Ow8ikuyau",AbuseDisplay_visible:"IhHW1Q",AbuseDisplay_fullSize:"B5L7X6vc0",AbuseDisplay__content:"SQtBX",AbuseDisplay__customReasonDisplayHeader:"vYL",AbuseDisplay__customReasonDisplayTextarea:"QjRzip",AbuseDisplay__customReasonDisplayButton:"yXJd6rWK",AbuseDisplay__customReasonDisplayButtonContent:"qFVr3w97xZ",AbuseDisplay__text:"qVmSg",AbuseDisplay__hint:"ejCk1wgGz",AbuseDisplay__complaintDisplay:"lzGJ",AbuseDisplay__hideDisplay:"V4t",AbuseDisplay__customReasonDisplay:"Nw6jCUO",AbuseDisplay__arrowLeftIcon:"J3JNF0dhU",AbuseDisplay__messageBox:"BSr2ZC5rm",AbuseDisplay__legal:"A6Qw"},e.exports=l},8561:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".yEJxjhNRq{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background:#f4f6fb;pointer-events:none}.Sjua{justify-content:center}.mLe8p3SLrD{justify-content:left}.mLe8p3SLrD .SMFQH4iq{max-width:200px;margin-left:20px}.Sjua .SMFQH4iq{text-align:center}.BLlSFy7{color:#3a3d40;font-weight:600;font-size:16px;font-family:"+o.locals.AD_FONT+";line-height:22px}.obA{margin-top:8px;color:#a3acbf;font-size:14px;font-family:"+o.locals.AD_FONT+";line-height:20px}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,AbusePlaceholder:"yEJxjhNRq",AbusePlaceholder_place_center:"Sjua",AbusePlaceholder_place_left:"mLe8p3SLrD",AbusePlaceholder__container:"SMFQH4iq",AbusePlaceholder__text:"BLlSFy7",AbusePlaceholder__hint:"obA"},e.exports=a},2990:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".QRzGXhN{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-flow:column nowrap;justify-content:flex-end;color:#fff}.cERfM8{display:flex;align-items:flex-end;margin:2px 6px 10px}.enzFeTElyU{position:relative}.UJy8eSMaBV{visibility:visible;opacity:1}.YUWiR{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}.k4J7{visibility:visible;opacity:1}.SWo1Wd{visibility:hidden;opacity:0;transition:visibility 0s .3s,opacity .3s ease-in-out}",""]),n.locals={BottomControls__container:"QRzGXhN",ButtonControls:"cERfM8",DisclaimerContainer:"enzFeTElyU",ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:"UJy8eSMaBV",ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden:"YUWiR",ComboVideoControls__controlsBottomShadow_visible:"k4J7",ComboVideoControls__controlsBottomShadow_hidden:"SWo1Wd"},e.exports=n},9976:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".eh9YL{padding:0 6px;display:grid;grid-template-columns:fit-content(1ch) 1fr fit-content(1ch);align-items:end}.aSBUsEGAVN .LGoW{grid-column:1/2}.aSBUsEGAVN .sptMPgQV3{grid-column:2/3}.aSBUsEGAVN .er0KCeVMWx{grid-column:3/4}.utIKkd .LGoW{grid-row:2;grid-column:1/2}.utIKkd .sptMPgQV3{grid-row:1;grid-column:1/4}.utIKkd .er0KCeVMWx{grid-row:2;grid-column:3/4}",""]),n.locals={CallToActionControls:"eh9YL",CallToActionControls_oneLine:"aSBUsEGAVN",CallToActionControls__ActionPanel:"LGoW",CallToActionControls__TitleAndBody:"sptMPgQV3",CallToActionControls__SkipButton:"er0KCeVMWx",CallToActionControls_twoLines:"utIKkd"},e.exports=n},7012:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".CI8mx7qc{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),n.locals={CenterControls:"CI8mx7qc"},e.exports=n},2636:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".HhqY{position:absolute;bottom:0;left:0;right:0;display:flex;flex-direction:column}",""]),n.locals={BottomControlsLayer:"HhqY"},e.exports=n},873:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,'.dZVoLd{padding-top:4px;margin:0 16px;display:flex;align-items:flex-end}.gyoDf{flex:1;letter-spacing:.01em;display:flex;pointer-events:auto;color:#fff;opacity:.85;text-shadow:0 0 4px rgba(0,0,0,.75);font-size:12px;white-space:nowrap;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gyoDf>:not(:last-child):after{content:"\u2022";padding:0 .3em}.QyLi0irjw{flex:0 0 auto}',""]),n.locals={Backpack:"dZVoLd",Backpack_labels:"gyoDf",Backpack_buttons:"QyLi0irjw"},e.exports=n},4647:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".p42{pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}",""]),n.locals={BackpackAdLabel:"p42"},e.exports=n},2219:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".ZTkCV{font-family:"+o.locals.AD_FONT+';position:relative;display:flex;flex-flow:column nowrap;min-height:10%;z-index:0;justify-content:flex-end}.eSyzB4,.CnoJp{}.ZTkCV:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(180deg,transparent,rgba(0,0,0,.00432) 6.67%,rgba(0,0,0,.0177) 13.33%,rgba(0,0,0,.04) 20%,rgba(0,0,0,.073) 26.67%,rgba(0,0,0,.115) 33.33%,rgba(0,0,0,.165) 40%,rgba(0,0,0,.221) 46.67%,rgba(0,0,0,.278) 53.33%,rgba(0,0,0,.334) 60%,rgba(0,0,0,.384) 66.67%,rgba(0,0,0,.426) 73.33%,rgba(0,0,0,.459) 80%,rgba(0,0,0,.482) 86.67%,rgba(0,0,0,.495) 93.33%,rgba(0,0,0,.5));opacity:.65}.eSyzB4.ZTkCV:before{top:30px}.sR8{opacity:1;transition:none}.eSyzB4 .sR8{order:-1;opacity:0;transition:opacity .3s ease-in-out,order 0s .3s}.XLJ0{margin:4px 16px 0;transition:none}.eSyzB4 .XLJ0,.CnoJp .XLJ0{margin:4px 0 0;transition:margin 0s .3s}',""]),a.locals={AD_FONT:""+o.locals.AD_FONT,ControlPanel:"ZTkCV",ControlPanel_minimized:"eSyzB4",ControlPanel_small:"CnoJp",ControlPanel__controls:"sR8",ControlPanel__timeLine:"XLJ0"},e.exports=a},8409:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".rcp{width:43px;height:43px;display:flex;align-items:center;justify-content:center;cursor:pointer;pointer-events:auto}.rcp svg{fill:#fff;opacity:.85;width:40px;height:44px}.rcp:hover svg{opacity:1}",""]),n.locals={ControlPanelButton:"rcp"},e.exports=n},8265:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".Q5S6at{display:flex;padding:0 16px;pointer-events:auto}.S4mBqm9{margin-left:auto}",""]),n.locals={ControlPanelControls:"Q5S6at",ControlPanelControls__fullscreenButton:"S4mBqm9"},e.exports=n},6535:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".p6d6dNj{cursor:pointer;display:flex}.AfXgbPa{will-change:width;width:0;height:43px;position:relative;overflow:hidden;transition:width .2s ease-out}.i6z .AfXgbPa{width:48px}.rvhp{position:absolute;left:0;right:0;top:50%;box-shadow:0 0 1px 0 rgba(0,0,0,.75);height:2px;background:#fff;transform:translateY(-50%);opacity:.5}.hZzf2{position:absolute;top:0;bottom:0;left:0;width:calc(100% - 10px)}.djgu0mq8Ry{position:absolute;background:#fff;width:10px;height:10px;border-radius:5px;top:50%;transform:translateY(-50%);will-change:left}",""]),n.locals={ControlPanelSoundButton:"p6d6dNj",ControlPanelSoundButton__SliderContainer:"AfXgbPa",ControlPanelSoundButton_opened:"i6z",ControlPanelSoundButton__SliderContainerLiner:"rvhp",ControlPanelSoundButton__SliderContainerThumbContainer:"hZzf2",ControlPanelSoundButton__SliderContainerThumb:"djgu0mq8Ry"},e.exports=n},9740:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".osQdlf1{height:3px;border-radius:3px;background-color:rgba(0,0,0,.2);position:relative;display:flex}.i5uOjYzest{width:100%;border-radius:3px;background-color:#f8cc46}",""]),n.locals={ContolPanelTimeLine:"osQdlf1",ContolPanelTimeLine_bar:"i5uOjYzest"},e.exports=n},1054:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".lJcwz{position:absolute;bottom:0;left:0;right:0}",""]),n.locals={DisclaimersLayer:"lJcwz"},e.exports=n},8315:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".U1XEYfLB{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}.NJAs1gCdS{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);background-color:rgba(0,0,0,.2);display:grid;align-items:center;justify-items:center;place-items:center;pointer-events:auto;filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}.NJAs1gCdS svg{fill:#fff;width:40px;height:43px}.Lpj{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:auto}",""]),n.locals={OverlayLayer__spinnerContainer:"U1XEYfLB",OverlayLayer__playButtonContainer:"NJAs1gCdS",OverlayLayer__pauseContainer:"Lpj"},e.exports=n},9931:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".Ww16tB3bc{position:absolute;top:0;right:35px;left:0;display:flex}.Ww16tB3bc .f9LD4aE{margin-left:auto}.Ww16tB3bc .S1MnmwiI3{width:28px;height:28px;padding:2px}.Ww16tB3bc .S1MnmwiI3 svg{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#f2f2f2;opacity:1}",""]),n.locals={TopControlsLayer:"Ww16tB3bc",TopControlsLayer__skipButton:"f9LD4aE",TopControlsLayer__playButton:"S1MnmwiI3"},e.exports=n},4061:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(4430),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".BCq{display:flex;flex-flow:column nowrap;padding:4px 10px;overflow:hidden;font-size:16px;font-family:"+o.locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.YxC{margin:2px auto 0;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:"+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";border-radius:4px}",""]),s.locals={AD_FONT:""+o.locals.AD_FONT,BUTTON_ACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,Subtitles__container:"BCq",Subtitles__subtitle:"YxC"},e.exports=s},4499:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".w05K{position:absolute;top:0;right:0;left:0}.w05K .cjXY{position:absolute;top:0;right:35px}",""]),n.locals={TopControls:"w05K",TopControls__skinButton:"cjXY"},e.exports=n},8971:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".RADc{position:absolute;top:4px;right:4px;width:24px;height:24px;cursor:pointer;pointer-events:auto}.jxXkHhro{z-index:2}",""]),n.locals={AbuseBurgerButton:"RADc",AbuseBurgerButton_inFullSize:"jxXkHhro"},e.exports=n},2645:function(e,t,i){var r=i(1907),n=i(6939),o=i(9792),a=i(2840),s=n(r);s.i(o,"",!0),s.i(a,"",!0),s.push([e.id,".DQnZAyhbNh{display:block;width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:"+o.locals.default_transition_duration+" background-color "+a.locals.default_transition_timing_function+"}.piR0VYnhoW{display:flex;align-items:center;margin-right:13px}.k8eLeqIl{margin-left:auto}.DQnZAyhbNh:hover{background-color:#e5f2ff}.DQnZAyhbNh .vvgnsHwO{padding:0}.XLem{padding:8px}.FqgLTi{height:auto;font-size:15px;line-height:16px}",""]),s.locals={default_transition_duration:""+o.locals.default_transition_duration,default_transition_timing_function:""+a.locals.default_transition_timing_function,AbuseOptionButton:"DQnZAyhbNh",AbuseOptionButton__leftIcon:"piR0VYnhoW",AbuseOptionButton__rightIcon:"k8eLeqIl",Button__clickable:"vvgnsHwO",AbuseOptionButton__clickable:"XLem",AbuseOptionButton__content:"FqgLTi"},e.exports=s},7276:function(e,t,i){var r=i(1907),n=i(6939),o=i(1154),a=n(r);a.i(o,"",!0),a.push([e.id,".gMZXlMWXc{cursor:pointer}.fjG02l{font-size:18px}.fjG02l .HEWREdNH{height:"+o.locals.MIDDLE_BUTTON_HEIGHT+"}.aCWAPh{width:60px;height:60px}.t52{width:80px;height:80px}",""]),a.locals={MIDDLE_BUTTON_HEIGHT:""+o.locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"gMZXlMWXc",CirclePlayButton_fullSize:"fjG02l",CirclePlayButton__basecontent:"HEWREdNH",CirclePlayButton__icon:"aCWAPh",CirclePlayButton__icon_fullSize:"t52"},e.exports=a},4659:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".TsA1F0Z4le{width:100%;height:100%;font-weight:100;fill:#c4c4c4}.NTjx{text-transform:uppercase}",""]),n.locals={DisclaimerSvg:"TsA1F0Z4le",DisclaimerSvg_text:"NTjx"},e.exports=n},550:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".WYx0UXHh{display:flex;box-sizing:border-box;width:100%;padding:2px .2em;font-family:Arial,Helvetica,sans-serif;background:rgba(0,0,0,.4)}",""]),n.locals={Disclaimer:"WYx0UXHh"},e.exports=n},9130:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".knKYDIopUB{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),n.locals={Spinner:"knKYDIopUB"},e.exports=n},3683:function(e,t,i){var r=i(1907),n=i(6939),o=i(1154),a=n(r);a.i(o,"",!0),a.push([e.id,".tXGrDdF,.X9u0hRy,.nOhgLqC{}.nkHG{visibility:hidden}.v8u,.TBOnUIN1{display:flex;align-items:center;justify-content:center}.TBOnUIN1{width:"+o.locals.SMALL_BUTTON_HEIGHT+";height:"+o.locals.SMALL_BUTTON_HEIGHT+"}.V76YIwYJ{width:"+o.locals.MIDDLE_BUTTON_HEIGHT+";height:"+o.locals.MIDDLE_BUTTON_HEIGHT+"}.lgs3r{width:29px;height:24px}.BDFY6N70{position:relative;bottom:1px;margin-right:"+o.locals.SMALL_BUTTON_LEFT_RIGHT_MARGIN+"}.QySPW1IQYo{white-space:nowrap;transform-origin:left center}.osVm{margin-right:"+o.locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}",""]),a.locals={SMALL_BUTTON_HEIGHT:""+o.locals.SMALL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+o.locals.MIDDLE_BUTTON_HEIGHT,SMALL_BUTTON_LEFT_RIGHT_MARGIN:""+o.locals.SMALL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+o.locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,MuteButton:"tXGrDdF",UnmuteButton:"X9u0hRy",VolumeButton:"nOhgLqC",MuteButton__hidden:"nkHG",VolumeButton__content:"v8u",VolumeButton__iconContainer:"TBOnUIN1",VolumeButton__iconContainer_fullSize:"V76YIwYJ",VolumeButton__icon:"lgs3r",UnmuteButton__text:"BDFY6N70",UnmuteButton__text_animation:"QySPW1IQYo",UnmuteButton__text_fullSize:"osVm"},e.exports=a},8453:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".UaMhYD9EMi{width:28px;height:28px;padding:10px 10px 4px 21px;cursor:pointer;pointer-events:auto}",""]),n.locals={MuteUnmuteButtonWithoutBackground:"UaMhYD9EMi"},e.exports=n},2563:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".RNmw4ka{line-height:3;display:flex;align-items:center;box-sizing:border-box;min-width:0;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";white-space:nowrap;background-color:#ffd500;border-radius:4px;cursor:pointer;pointer-events:auto}.yHga8{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.MtVsShZONy,.qp0h{height:2.1em;font-size:.9em}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,ActionButton:"RNmw4ka",ActionButton__textWrapper:"yHga8",ActionButton__content_middle:"MtVsShZONy",ActionButton__content_small:"qp0h"},e.exports=a},6246:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".HYQ35{flex:1 1 0;margin-right:13px;color:#fff;font-weight:700;font-size:1em;font-family:"+o.locals.AD_FONT+";line-height:1.3;max-width:10em}.BMsrrLD{line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.umeW{white-space:nowrap}.g7TjCUhE9,.umeW{font-weight:400;font-size:.8em}.umeW,.BMsrrLD{overflow:hidden;text-overflow:ellipsis}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,InfoBlock:"HYQ35",InfoBlock__title:"BMsrrLD",InfoBlock__greenUrl:"umeW",InfoBlock__ageRestriction:"g7TjCUhE9"},e.exports=a},9461:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(2100),s=i(4430),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".rtRNQvgd{height:100%;font-family:"+o.locals.AD_FONT+"}.i3hgRkpA{padding:4px;overflow:hidden;cursor:pointer;pointer-events:auto}.Xj9kk{position:relative;min-width:200px;height:100%}.YmYGqP1NM4{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;background-color:"+s.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";border-radius:4px;-webkit-backdrop-filter:"+a.locals.BUTTON_BACKDROP_FILTER+";backdrop-filter:"+a.locals.BUTTON_BACKDROP_FILTER+"}.uug5Y0bb{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.P5o{display:flex;flex-wrap:nowrap;align-items:center;margin-left:35pt;overflow:hidden}.aeT{margin-left:10px}.uug5Y0bb img{border-radius:2px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,BUTTON_BACKDROP_FILTER:""+a.locals.BUTTON_BACKDROP_FILTER,BUTTON_ACTIVE_BACKGROUND_COLOR:""+s.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,ActionPanel:"rtRNQvgd",ActionPanel__clickableLayer:"i3hgRkpA",ActionPanel__content:"Xj9kk",ActionPanel__mask:"YmYGqP1NM4",ActionPanel__favicon:"uug5Y0bb",ActionPanel__wrapper:"P5o",ActionPanel__wrapper_wide:"aeT"},e.exports=l},6413:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(4430),s=i(1154),l=n(r);l.i(o,"",!0),l.i(a,"",!0),l.i(s,"",!0),l.push([e.id,".u4QSHt{padding:4px;color:#fff;font-family:"+o.locals.AD_FONT+";cursor:pointer;pointer-events:auto}.L3RP{position:relative;display:flex;align-items:center;height:"+s.locals.SMALL_BUTTON_HEIGHT+";font-size:.8em;background-color:"+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);padding-left:4px}.iBY7:hover .L3RP{background-color:"+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR+"}.zwOZcF{width:100%;height:100%;border-radius:4px}.bRw49{display:flex;align-items:center;width:20px;height:20px;margin-right:.35em;font-size:2em;padding-left:3px}.xzFYuj7V .bRw49{width:26px;height:26px}.rKei8A{display:inline-block;max-width:90px;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.xzFYuj7V .rKei8A{max-width:120px;margin-left:17px}",""]),l.locals={AD_FONT:""+o.locals.AD_FONT,BUTTON_HOVERED_BACKGROUND_COLOR:""+a.locals.BUTTON_HOVERED_BACKGROUND_COLOR,BUTTON_ACTIVE_BACKGROUND_COLOR:""+a.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,MIDDLE_BUTTON_HEIGHT:""+s.locals.MIDDLE_BUTTON_HEIGHT,SMALL_BUTTON_HEIGHT:""+s.locals.SMALL_BUTTON_HEIGHT,ActionPanelSmall__clickableContainer:"u4QSHt",ActionPanelSmall:"L3RP",ActionPanelSmall__container:"iBY7",ActionPanelSmall__favIcon:"zwOZcF",ActionPanelSmall__favIconContainer:"bRw49",ActionPanelSmall__middle:"xzFYuj7V",ActionPanelSmall__label:"rKei8A"},e.exports=l},3765:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=i(7441),s=i(2100),l=i(4430),d=n(r);d.i(o,"",!0),d.i(a,"",!0),d.i(s,"",!0),d.i(l,"",!0),d.push([e.id,".hlXSj6{position:relative;display:inline-block;height:3em;padding:4px;color:#fff;font-weight:"+a.locals.AD_FONT_WEIGHT+";font-size:12px;font-family:"+o.locals.AD_FONT+";text-shadow:0 2px 2px rgba(0,0,0,.1);cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.SUt{position:relative;display:flex;box-sizing:border-box;height:100%;padding:.17em;background-color:"+l.locals.BUTTON_INACTIVE_BACKGROUND_COLOR+";border-radius:.5em;opacity:.7;-webkit-backdrop-filter:"+s.locals.BUTTON_BACKDROP_FILTER+";backdrop-filter:"+s.locals.BUTTON_BACKDROP_FILTER+";word-break:normal}.ToGEmc2l{cursor:pointer}.hlXSj6.ToGEmc2l:hover>.SUt{background-color:"+l.locals.BUTTON_HOVERED_BACKGROUND_COLOR+"}.ToGEmc2l>.SUt{background-color:"+l.locals.BUTTON_ACTIVE_BACKGROUND_COLOR+";opacity:1}.chVu,.nmw2OWVGw{display:flex;align-items:center;height:100%}.nmw2OWVGw{justify-content:center;width:2.5em}.Yly39N0HRZ{margin-left:.8em}.LBXT{height:100%;border-radius:4px}.VtjVk50{width:100%}.JUoKMlR3ui{display:inline-block;width:50%;text-align:right}.DXb2{display:inline-block;width:50%}.kW4Tp{width:.8em;height:1.2em}",""]),d.locals={AD_FONT:""+o.locals.AD_FONT,AD_FONT_WEIGHT:""+a.locals.AD_FONT_WEIGHT,BUTTON_BACKDROP_FILTER:""+s.locals.BUTTON_BACKDROP_FILTER,BUTTON_INACTIVE_BACKGROUND_COLOR:""+l.locals.BUTTON_INACTIVE_BACKGROUND_COLOR,BUTTON_ACTIVE_BACKGROUND_COLOR:""+l.locals.BUTTON_ACTIVE_BACKGROUND_COLOR,BUTTON_HOVERED_BACKGROUND_COLOR:""+l.locals.BUTTON_HOVERED_BACKGROUND_COLOR,SkipButton__clickable:"hlXSj6",SkipButton:"SUt",SkipButton_active:"ToGEmc2l",SkipButton__contentLeft:"chVu",SkipButton__contentRight:"nmw2OWVGw",SkipButton__skipText:"Yly39N0HRZ",SkipButton__leftImage:"LBXT",SkipButton__timeToSkipString:"VtjVk50",SkipButton__timeToSkipString__leftDigit:"JUoKMlR3ui",SkipButton__timeToSkipString__rightDigit:"DXb2",SkipButton__icon:"kW4Tp"},e.exports=d},7864:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".BT4ll{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),n.locals={Timeline:"BT4ll"},e.exports=n},4993:function(e,t,i){var r=i(1907),n=i(6939),o=i(6799),a=n(r);a.i(o,"",!0),a.push([e.id,".drllrDy{position:relative;flex:1;min-width:0;padding-bottom:10px;color:#fff;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.i7S{position:relative;width:100%;padding:0 5px;font-family:"+o.locals.AD_FONT+";text-shadow:0 2px 3px rgba(0,0,0,.25);cursor:pointer}.drllrDy:hover .i7S{border-bottom:1px solid #fff;filter:drop-shadow(0 0 1px #000)}",""]),a.locals={AD_FONT:""+o.locals.AD_FONT,TitleAndBody:"drllrDy",TitleAndBody_line:"i7S"},e.exports=a},5676:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,".D4o6oQQ{--stw-max-width:100%;font-size:0;pointer-events:none}.bO5mGuRxYv{text-align:center}.nRwT{position:absolute;top:0;left:0;width:100%;width:var(--stw-max-width);height:100%;font:var(--stw-font);pointer-events:none}.Q7ulHHgA{display:inline-block;white-space:nowrap}.aXi,.GPVU{display:inline-block;font:var(--stw-font)}",""]),n.locals={SplitTextLinesWrapper__container:"D4o6oQQ",SplitTextLinesWrapper__lines:"bO5mGuRxYv",SplitTextLinesWrapper__canvas:"nRwT",SplitTextLinesWrapper__textLine:"Q7ulHHgA",SplitTextLinesWrapper__char:"aXi",SplitTextLinesWrapper__word:"GPVU"},e.exports=n},1154:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={SMALL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",SMALL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"},e.exports=n},6799:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={AD_FONT:'YS Text, -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'},e.exports=n},7441:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={AD_FONT_WEIGHT:"500"},e.exports=n},1307:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={AD_LABEL_MIDDLE_HEIGHT:"10px"},e.exports=n},5092:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={AD_LABEL_SMALL_HEIGHT:"10px"},e.exports=n},2100:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={BUTTON_BACKDROP_FILTER:"blur(8px)"},e.exports=n},4430:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={BUTTON_INACTIVE_BACKGROUND_COLOR:"rgba(38, 38, 38, 0.3)",BUTTON_ACTIVE_BACKGROUND_COLOR:"rgba(38, 38, 38, 0.65)",BUTTON_HOVERED_BACKGROUND_COLOR:"rgba(0, 0, 0, 0.65)"},e.exports=n},9792:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={default_transition_duration:"100ms"},e.exports=n},2840:function(e,t,i){var r=i(1907),n=i(6939)(r);n.push([e.id,"",""]),n.locals={default_transition_timing_function:"ease-in"},e.exports=n},7176:function(e,t,i){"use strict";function r(e,t,i,r,n,o,a){var s,l,d=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:o},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{l=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,l=window}return l[t]=u,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+n+"/moat/"+r+"/moatvideo.js#"+t,u}i.r(t),i.d(t,{initMoatTracking:function(){return r}})},6939:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",r="undefined"!==typeof t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,r,n,o){"string"===typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&a[c[0]]||("undefined"!==typeof o&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},1907:function(e){"use strict";e.exports=function(e){return e[1]}},5335:function(e){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},3438:function(e){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},4738:function(e){"use strict";e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},3716:function(e){"use strict";e.exports=JSON.parse('{"be":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","OF":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"en":{"adsdk":{"ABUSE_ADS_TEXT":"Ad","ABUSE_COPIED":"Copied","ABUSE_COPY_TEXT":"Copy link","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Enter your message","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"Submit","ABUSE_IMPROVE_REASON_TEXT":"State the reason:","ABUSE_OPTION_ABOUT":"Ads on Yandex","ABUSE_OPTION_ADVERTISER_INFO":"Advertiser info","ABUSE_OPTION_ALREADY_PURCHASED":"Already purchased","ABUSE_OPTION_ANOTHER_REASON":"Another reason","ABUSE_OPTION_COMPLAINT":"Report","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Speculation","ABUSE_OPTION_HIDE":"Hide","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Illegal goods or services","ABUSE_OPTION_NOT_INTERESTED":"Not interested","ABUSE_OPTION_OVERLAP_CONTENT":"Covers page content","ABUSE_OPTION_POLITICAL_SOCIAL":"Political ad","ABUSE_OPTION_SCAMMERS":"Scammers","ABUSE_OPTION_SEEN_TOO_OFTEN":"I see this ad too often","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Shocking content","ABUSE_OPTION_UNPLEASANT_CONTENT":"I don\'t like it","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Thanks! The moderators will review this ad","ABUSE_PLACEHOLDER_HINT_HIDE":"We use your responses to suggest ads that will be interesting for you","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"Report registered","ABUSE_PLACEHOLDER_TEXT_HIDE":"Ad hidden","ABUSE_SCREEN_DESCRIPTION":"We try to show you ads that match your interests. Tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_DESCRIPTION_SHORT":"Please tell us why you didn\'t like this video. This will help us select better ads for you.","ABUSE_SCREEN_TITLE":"Report this ad","ABUSE_VARIANT_ANNOYING":"Intrusive or annoying","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"False information","ABUSE_VARIANT_NOT_INTERESTED":"I\'m not interested in this","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"I\'m not interested in this","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"Political ad","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"Shocking content","ABUSE_VARIANT_SPAM":"Inappropriate content or spam","ABUSE_VARIANT_SPAM_SHORT":"Looks like spam","AD_TITLE":"Ad","LEARN_MORE":"Learn more","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"For more information, see the advertiser\'s website","MORE":"More","MOTION_BTN":"Learn more","MOTION_BTN_WITHOUT_GREEN_URL":"Address and phone number","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","OF":"of","REPEAT":"Repeat","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sec","SKIP":"Skip","SKIP_TIME_LEFT":"Skip ad","SOCIAL_ADVERTISING_AD_LABEL":"Social ad","SURVEY_AD_LABEL":"Survey","SURVEY_AD_LABEL_OF_QUESTIONS":"questions","SURVEY_CONTINUE_BUTTON_TEXT":"Continue","SURVEY_PACKSHOT_COMPANY":"Yandex Surveys","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"Thank you!","SURVEY_SKIP_BUTTON_TEXT":"Skip","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"Read more","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"Read more on the website","THEME_EMPTY_ACTION_BUTTON_LABEL":"Go","TIME_LEFT":"Ad","UNMUTE":"Unmute","UNMUTE_INVITE":"Move mouse over ad<br>to hear sound","VISIT_SITE":"Go to advertiser\u2019s site","YANDEX_DIRECT":"Yandex.Direct","YANDEX_DIRECT_LINK":""}},"kk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","OF":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"ru":{"adsdk":{"ABUSE_ADS_TEXT":"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435","ABUSE_COPIED":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e","ABUSE_COPY_TEXT":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","ABUSE_IMPROVE_REASON_TEXT":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:","ABUSE_OPTION_ABOUT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435","ABUSE_OPTION_ADVERTISER_INFO":"\u041e \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u0435","ABUSE_OPTION_ALREADY_PURCHASED":"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e","ABUSE_OPTION_ANOTHER_REASON":"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430","ABUSE_OPTION_COMPLAINT":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f","ABUSE_OPTION_FALSE_INFO_SOCIAL":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_OPTION_HIDE":"\u0421\u043a\u0440\u044b\u0442\u044c","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430","ABUSE_OPTION_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442","ABUSE_OPTION_OVERLAP_CONTENT":"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_POLITICAL_SOCIAL":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_OPTION_SCAMMERS":"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438","ABUSE_OPTION_SEEN_TOO_OFTEN":"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_OPTION_UNPLEASANT_CONTENT":"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f","ABUSE_PLACEHOLDER_HINT_HIDE":"\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u0416\u0430\u043b\u043e\u0431\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430","ABUSE_PLACEHOLDER_TEXT_HIDE":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e","ABUSE_SCREEN_DESCRIPTION":"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_DESCRIPTION_SHORT":"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","ABUSE_SCREEN_TITLE":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443","ABUSE_VARIANT_ANNOYING":"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","ABUSE_VARIANT_NOT_INTERESTED":"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","ABUSE_VARIANT_SPAM":"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c","ABUSE_VARIANT_SPAM_SHORT":"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c","AD_TITLE":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","LEARN_MORE":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","MORE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","MOTION_BTN_WITHOUT_GREEN_URL":"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","MOTION_DIETARYSUPPL_DISCLAIMER":"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c","MOTION_DISTANCE_SALES":"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.","MOTION_DRUG_DISCLAIMER":"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.","MOTION_HIDE_DISCLAIMER":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443","MOTION_SHOW_DISCLAIMER":"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","OF":"\u0438\u0437","REPEAT":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","REWARDED_TIMER_1":"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b","REWARDED_TIMER_2":"\u0441\u0435\u043a","SECONDS":"\u0441\u0435\u043a","SKIP":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","SKIP_TIME_LEFT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443","SOCIAL_ADVERTISING_AD_LABEL":"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430","SURVEY_AD_LABEL":"\u041e\u043f\u0440\u043e\u0441","SURVEY_AD_LABEL_OF_QUESTIONS":"\u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432","SURVEY_CONTINUE_BUTTON_TEXT":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","SURVEY_PACKSHOT_COMPANY":"\u042f\u043d\u0434\u0435\u043a\u0441 \u0412\u0437\u0433\u043b\u044f\u0434","SURVEY_PACKSHOT_FROM":"\u041e\u043f\u0440\u043e\u0441 \u0441\u0434\u0435\u043b\u0430\u043d \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u0445","SURVEY_PACKSHOT_TEXT":"\u0421\u043f\u0430\u0441\u0438\u0431\u043e!","SURVEY_SKIP_BUTTON_TEXT":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","THEME_EMPTY_ACTION_BUTTON_LABEL":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438","TIME_LEFT":"\u0420\u0435\u043a\u043b\u0430\u043c\u0430","UNMUTE":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","UNMUTE_INVITE":"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a","VISIT_SITE":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f","YANDEX_DIRECT":"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442","YANDEX_DIRECT_LINK":"https://direct.yandex.ru/?partner"}},"tr":{"adsdk":{"ABUSE_ADS_TEXT":"Reklam","ABUSE_COPIED":"Kopyaland\u0131","ABUSE_COPY_TEXT":"Ba\u011flant\u0131y\u0131 kopyala","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"Mesaj\u0131n\u0131z\u0131 girin","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"G\xf6nder","ABUSE_IMPROVE_REASON_TEXT":"Nedenini a\xe7\u0131klay\u0131n:","ABUSE_OPTION_ABOUT":"Yandex\'te reklam","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"Zaten sat\u0131n al\u0131nd\u0131","ABUSE_OPTION_ANOTHER_REASON":"Ba\u015fka bir neden var","ABUSE_OPTION_COMPLAINT":"\u015eikayet et","ABUSE_OPTION_FALSE_INFO_SOCIAL":"Yanl\u0131\u015f bilgi","ABUSE_OPTION_HIDE":"Gizle","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"Yasad\u0131\u015f\u0131 mal/hizmet","ABUSE_OPTION_NOT_INTERESTED":"\u0130lgilenmiyorum","ABUSE_OPTION_OVERLAP_CONTENT":"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor","ABUSE_OPTION_POLITICAL_SOCIAL":"Siyasi i\xe7erikli reklam","ABUSE_OPTION_SCAMMERS":"Doland\u0131r\u0131c\u0131lar","ABUSE_OPTION_SEEN_TOO_OFTEN":"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"Rahats\u0131z edici i\xe7erik","ABUSE_OPTION_UNPLEASANT_CONTENT":"Ho\u015fuma gitmiyor","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"Te\u015fekk\xfcr ederiz! Moderat\xf6r k\u0131sa s\xfcre i\xe7erisinde reklam\u0131 kontrol edecektir","ABUSE_PLACEHOLDER_HINT_HIDE":"Size en uygun reklam\u0131 se\xe7mek i\xe7in yan\u0131tlar\u0131n\u0131z\u0131 de\u011ferlendiriyoruz","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"\u015eikayet kay\u0131t alt\u0131na al\u0131nd\u0131","ABUSE_PLACEHOLDER_TEXT_HIDE":"Reklam gizlendi","ABUSE_SCREEN_DESCRIPTION":"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_DESCRIPTION_SHORT":"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?","ABUSE_SCREEN_TITLE":"Reklam\u0131 \u015fikayet et","ABUSE_VARIANT_ANNOYING":"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"Bu konuyla ilgilenmiyorum","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"G\xfcvenilir olmayan i\xe7erik veya spam","ABUSE_VARIANT_SPAM_SHORT":"Spam gibi g\xf6r\xfcn\xfcyor","AD_TITLE":"Reklam","LEARN_MORE":"Daha fazla bilgi edinin","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"Reklam verenin sitesinden daha fazla bilgi","MORE":"Daha fazla","MOTION_BTN":"Daha fazla bilgi","MOTION_BTN_WITHOUT_GREEN_URL":"Adres ve telefon","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","OF":"","REPEAT":"Tekrarla","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"sn","SKIP":"Atla","SKIP_TIME_LEFT":"Reklam\u0131 atla","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"Reklam","UNMUTE":"Sesi a\xe7","UNMUTE_INVITE":"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin","VISIT_SITE":"Reklam verenin sitesine git","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uk":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","OF":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}},"uz":{"adsdk":{"ABUSE_ADS_TEXT":"","ABUSE_COPIED":"","ABUSE_COPY_TEXT":"","ABUSE_CUSTOM_FIELD_PLACEHOLDER":"","ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT":"","ABUSE_IMPROVE_REASON_TEXT":"","ABUSE_OPTION_ABOUT":"","ABUSE_OPTION_ADVERTISER_INFO":"","ABUSE_OPTION_ALREADY_PURCHASED":"","ABUSE_OPTION_ANOTHER_REASON":"","ABUSE_OPTION_COMPLAINT":"","ABUSE_OPTION_FALSE_INFO_SOCIAL":"","ABUSE_OPTION_HIDE":"","ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE":"","ABUSE_OPTION_NOT_INTERESTED":"","ABUSE_OPTION_OVERLAP_CONTENT":"","ABUSE_OPTION_POLITICAL_SOCIAL":"","ABUSE_OPTION_SCAMMERS":"","ABUSE_OPTION_SEEN_TOO_OFTEN":"","ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL":"","ABUSE_OPTION_UNPLEASANT_CONTENT":"","ABUSE_PLACEHOLDER_HINT_COMPLAINT":"","ABUSE_PLACEHOLDER_HINT_HIDE":"","ABUSE_PLACEHOLDER_TEXT_COMPLAINT":"","ABUSE_PLACEHOLDER_TEXT_HIDE":"","ABUSE_SCREEN_DESCRIPTION":"","ABUSE_SCREEN_DESCRIPTION_SHORT":"","ABUSE_SCREEN_TITLE":"","ABUSE_VARIANT_ANNOYING":"","ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD":"","ABUSE_VARIANT_NOT_INTERESTED":"","ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD":"","ABUSE_VARIANT_POLITICAL_SOCIAL_AD":"","ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD":"","ABUSE_VARIANT_SPAM":"","ABUSE_VARIANT_SPAM_SHORT":"","AD_TITLE":"","LEARN_MORE":"","LEARN_MORE_ON_ADVERTISERS_WEBSITE":"","MORE":"","MOTION_BTN":"","MOTION_BTN_WITHOUT_GREEN_URL":"","MOTION_DIETARYSUPPL_DISCLAIMER":"","MOTION_DISTANCE_SALES":"","MOTION_DRUG_DISCLAIMER":"","MOTION_HIDE_DISCLAIMER":"","MOTION_SHOW_DISCLAIMER":"","OF":"","REPEAT":"","REWARDED_TIMER_1":"","REWARDED_TIMER_2":"","SECONDS":"","SKIP":"","SKIP_TIME_LEFT":"","SOCIAL_ADVERTISING_AD_LABEL":"","SURVEY_AD_LABEL":"","SURVEY_AD_LABEL_OF_QUESTIONS":"","SURVEY_CONTINUE_BUTTON_TEXT":"","SURVEY_PACKSHOT_COMPANY":"","SURVEY_PACKSHOT_FROM":"","SURVEY_PACKSHOT_TEXT":"","SURVEY_SKIP_BUTTON_TEXT":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE":"","THEME_EMPTY_ACTION_BUTTON_LABEL":"","TIME_LEFT":"","UNMUTE":"","UNMUTE_INVITE":"","VISIT_SITE":"","YANDEX_DIRECT":"","YANDEX_DIRECT_LINK":""}}}')}},i={};e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";function t(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!function(e){void 0===e&&(e=window);return Nl(e)>11}(e)}function i(e){return"function"===typeof e||"Function"===Ll(e)}function r(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function n(e,t){if(!i(e.matchMedia))return!1;const n=e.matchMedia(t);return r(n)&&Boolean(n.matches)}function o(e){return void 0===e&&(e=window),t(e)||function(e){return n(e,xl)}(e)||function(e){return n(e,Ul)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||function(e){return"ontouchstart"in e}(e)}function a(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!function(e){void 0===e&&(e=window);return e.navigator.userAgent.indexOf("UCBrowser")>-1}(e)}function s(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(Kg){return""}}function l(e,t){if(void 0===t&&(t=!0),Fl&&t)return[];{const t=[];let i=e;for(;;)try{if(i=i.ownerDocument.defaultView.frameElement,!i)return t;t.push(i)}catch(Kg){return t}}}function d(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function c(e){let t="";for(let i=0;i<e;i++)t+=(16*ed()|0).toString(16);return t}function u(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function h(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}function p(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function A(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function m(e){return"string"===typeof e}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t,i){for(const r in e)v(e,r)&&t.call(i,e[r],r,e)}function g(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}function y(e){const t=l(e.documentElement).map((e=>e.ownerDocument));return t.unshift(e),t.map((e=>({location:g(e.defaultView),referrer:e.referrer})))}function f(e){return m(e)&&e.length>0}function S(e,t){let i=e[t];if(!d(i)){const r=i;try{delete e[t];const n=e[t];"function"===typeof n&&(i=n),e[t]=r}catch(Kg){}}return i}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},T.apply(this,arguments)}function E(e){hd.href=e;let t=hd.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(hd.search||"")+(hd.hash||""),r=e.lastIndexOf(i),n=-1===r?e:e.slice(0,r);if(pd.test(e)){const t=E(e.replace(pd,"https:"));return hd.href=e,T({},t,{originalPath:n,protocol:e.slice(0,e.indexOf(":")+1),href:hd.href})}const o=hd.protocol&&/^[a-z\-]+:/i.test(hd.protocol)?hd.protocol:"";return{originalPath:n,href:hd.href,protocol:o,host:hd.host,hostname:hd.hostname,port:hd.port,pathname:t,search:hd.search,hash:hd.hash}}function b(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function C(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let n,o;if(-1===e?(n=Ad(i[r]),o=""):(n=Ad(i[r].slice(0,e)),o=i[r].slice(e+1)),n){const e=Boolean(/(\[\])$/.exec(n));n=n.replace(/\[\]$/,""),e?void 0===t[n]?t[n]=[Ad(o)]:t[n]=[].concat(t[n],Ad(o)):t[n]=Ad(o)}}return t}function O(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];dd(r)?t.push(md(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function w(e,t,i){let{override:r=!0,saveOriginalPath:n=!1}=void 0===i?{}:i;const o=E(e),a=C(o.search);_(t,((e,t)=>{(void 0===a[t]||r)&&(a[t]=e)}));return b(T({},o,{search:O(a)}),n)}function P(e){return E(e).pathname.split("/").pop()||""}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e){if("function"===typeof Object.keys)return Object.keys(e);const t=[];for(const i in e)I(e,i)&&t.push(i);return t}function N(e,t){try{return e()}catch(Kg){"function"===typeof t&&t(Kg)}}function R(e){u(console)&&i(console.warn)&&console.warn(e)}function k(e){return"function"===typeof Object.entries?Object.entries(e):Sd(D(e),(t=>[t,e[t]]))}function V(e,t){const i={UrlParams:()=>Td[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const n of sd(e)){var i,r;const e=null==(i=n.Ya)||null==(r=i.hardcodedParams)?void 0:r[t];if(e)return String(e)}}};for(const[r,n]of k(i)){const e=N(n);if(f(e))return R("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},L.apply(this,arguments)}function B(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}function M(e,t){return-1!==e.indexOf(t)}function x(e){return"number"===typeof e&&isFinite(e)}function U(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}function F(){}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},H.apply(this,arguments)}function z(e){const t=(Wl||window).console;if(!Qd||void 0===t)return;null==t.log||t.log("AdSDKJS[InPage]:",e)}function j(e){return"number"===typeof e&&isFinite(e)&&e>=0}function W(e,t,i){return e>i?i:e<t?t:e}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},G.apply(this,arguments)}function Y(e){const t=Number(e);return j(t)?W(t,0,1):void 0}function X(e){var t;return(void 0===t&&(t=window),void 0===hc&&(hc=t.JSON),hc).stringify(e,function(){const e=[],t=function(){const e="undefined"===typeof WeakMap?void 0:new WeakMap,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=rd(t,(e=>e.value===i));return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(r,n)=>{if(i(n))return m(n.name)?n.name:"[Function]";if(ad(n))return uc(n);if(!u(n))return n;const o=t.get(n);if(o)return"[Circular "+o+"]";for(;e.length>0&&e[e.length-1].value[r]!==n;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(r?"/"+r:"~");return e.push({path:a,value:n}),t.set(n,a),n}}())}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},K.apply(this,arguments)}function q(e){setTimeout((()=>{throw e}),0)}function Q(e){return wc?h(e.location.ancestorOrigins):[]}function J(e){let t="",i="";if(e){y(e).reverse().forEach((e=>{let{location:r,referrer:n}=e;t=t||r,i=i||n}))}return{location:t,referrer:i}}function Z(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments),i};return function(){return t.apply(this,arguments)}}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},$.apply(this,arguments)}function ee(e){const{method:t,url:i,async:r=!0,data:n,responseType:o="text",onBeforeSend:a=F,onRetry:s=F,checkStatus:l=(e=>Vc===e),headers:d={},xhrConstructor:c=XMLHttpRequest,retries:u=0,timeout:h=0,withCredentials:p,onAbort:A,onSetup:m}=e;if(!c)return;const v=e.onSuccess?Z(e.onSuccess):F,g=e.onError?Z(e.onError):F;let y,f=!1,S=0,T=e=>{f=!0,T=F,y=e,E(new Error("Abort request")),"function"===typeof A&&A(e)};const E=t=>{b.onerror=null,b.onreadystatechange=null,S&&clearTimeout(S);if(S&&4!==b.readyState||f)try{b.abort()}catch(t){}if(!f)if(u>0){const i=s(t,b);if("boolean"!==typeof i||Boolean(i)||T(),f)return;ee($({},e,{onSetup:e=>{let{abort:t}=e;T=e=>t(e),f&&t(y)},retries:u-1}))}else T=F,g(t,b)},b=new c;try{b.open(t,i,r)}catch(Kg){return void E(Kg)}if(b.responseType=o,b.withCredentials=Boolean(p),_(d,((e,t)=>{try{b.setRequestHeader(t,e)}catch(Kg){}})),h>0&&isFinite(h)&&(S=window.setTimeout((()=>{E(new Error("Request timeout, "+i))}),h)),b.onerror=E,b.onreadystatechange=()=>{if(4===b.readyState){const{status:e}=b;l(e)?(T=F,clearTimeout(S),v(b)):E(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof m||(m({abort:e=>T(e)}),!f))&&(a(b,e),!f))try{b.send(n)}catch(Kg){E(Kg)}}function te(e){return"ontouchstart"in e}function ie(e){return e.screen.availHeight>e.screen.availWidth?"portrait":"landscape"}function re(){if(Wl&&void 0!==Wl.document&&"function"===typeof Wl.document.hasFocus)try{return Wl.document.hasFocus()}catch(e){}}function ne(e){const t={};return Cd(e,(e=>{let[i,r]=e;t[i]=r})),t}function oe(e,t,i){for(const r in e)I(e,r)&&t.call(i,e[r],r,e)}function ae(e,t){const i={};return Cd(D(e),(r=>{i[r]=t(e[r],r)})),i}function se(e){const t=[];for(const[i,r]of e){const e=le(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function le(e,t){const i=function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2);return de(i,t)}function de(e,t){return B(e,t,"0")}function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ce.apply(this,arguments)}function ue(e,t){void 0===t&&(t=!0);const i=Wc(e);if(!i)return t;return!e[i]}function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},he.apply(this,arguments)}function pe(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];wd(e)&&Cd(e,(e=>{"function"===typeof e&&e(...i)}))}function Ae(){}function me(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function ve(e){let{element:t,eventName:r,listener:n,options:o,ignoreBubbling:a=!1}=e;const s=a?function(e){e.target===t&&n.call(this,e)}:n,l=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(o),d=Qc?l:l.capture,c=l.once&&!Kc?function(e){u(),s.call(this,e)}:s,u=()=>{i(t.removeEventListener)&&t.removeEventListener(r,c,d)};return t.addEventListener(r,c,d),u}function _e(e,t){void 0===t&&(t=window);let i=Ae;const r=t=>{"pagehide"===t.type&&t.persisted||(e(t),i())},n=Sd(Jc,(e=>ve({element:t,eventName:e,listener:r})));return i=A((()=>{pe(n)})),i}function ge(e,t){return function(){try{e(...arguments)}catch(i){Xc.error({error:new fc(i,{code:t})}),q(i)}}}function ye(e){const{hostname:t,pathname:i}=E(e),r=Zc.test(t),n=t===zd&&i.startsWith("/adfox"),o=t===jd&&$c.test(i);return r||n||o}function fe(e){if(!e)return!1;const{hostname:t}=E(e);return!(!t||0===t.length)&&eu(tu,(e=>{return e===t||(r="."+e)===(i=t).substring(i.length-r.length);var i,r}))}function Se(e){(new Image).src=e}function Te(e,t){if(fe(e)||ye(e)){const i=function(e,t){return!!iu&&window.navigator.sendBeacon(e,t)}(e,t);if(i)return}else fe(e)&&Xc.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:dc});Se(e)}function Ee(e){return"number"===typeof e&&isFinite(e)&&e>0}function be(){return be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},be.apply(this,arguments)}function Ce(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(u(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?be({},nu,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):nu}(e),{droppedVideoFrames:i,totalVideoFrames:r}=t;let n=ou.droppedVideoFramesRatio;return Ee(r)&&x(i)&&(n=i/r),be({},t,{droppedVideoFramesRatio:n})}function Oe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},we.apply(this,arguments)}function Pe(e){let{url:t,options:r,ignoreAbd:n=!1,win:o}=e;if(i(Oc)&&!n)return t;if(!fe(t)&&!ye(t))return t;const a=Iu(r.size),s=Math.round(100*r.visibility),l=Math.round(100*r.videoVolume),d=Math.round(r.videoAvatarSize.width),c=Math.round(r.videoAvatarSize.height),u=re();return w(t,{"adsdk-bundle-version":String(Bd),"adsdk-bundle-name":Hd,"adsdk-container-visibility":String(s),"adsdk-container-width":String(a.width),"adsdk-container-height":String(a.height),"video-avatar-width":String(d),"video-avatar-height":String(c),[xc]:String(jc.serialize()),"ad-session-id":Ou(),[lu]:oc,[du]:nc,shyid:wu(o),"top-ancestor":Rc,"top-ancestor-undetermined":kc?"0":"1","client-ts":String(Date.now()),"client-timezone-offset":String((new Date).getTimezoneOffset()),"viewability-undetermined":Ru()?"0":"1","video-volume":String(l),"video-muted":r.videoMuted?"1":"0","pcode-active-testids":rc.getActiveTestIds().join(";")||void 0,"document-has-focus":void 0===u?"unknown":String(u),"is-fullscreen":void 0===r.isFullscreen?"unknown":String(r.isFullscreen),"device-orientation":te(o)?ie(o):void 0,[cu]:void 0===r.adPodId?"unknown":r.adPodId},{override:!1})}function Ie(e){let{error:t,trackingUrls:i}=e;z("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Sd(e,(e=>Pe({url:e,options:su,win:window})));Cd(t,(e=>Te(e)))}(i)}function De(e,t){void 0===t&&(t=[]),Xc.errorToStats(e),Ie({error:e,trackingUrls:t})}function Ne(e,t){try{return e()}catch(Kg){"function"===typeof t&&t(Kg)}}function Re(e,t){let{content:i,size:r}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",r&&(n.height=r.height,n.width=r.width),e.appendChild(n);const o=n.contentDocument;return o.open(),i&&o.write(i),o.close(),o.body.style.margin="0",n.style.borderWidth="0",n}function ke(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function Ve(e){return void 0===e&&(e=window),void 0===Bu&&(Bu=function(e){void 0===e&&(e=window);return e.JSON&&d(e.JSON.stringify)&&d(e.JSON.parse)}(e)?e.JSON:{stringify:xu("stringify"),parse:xu("parse")}),Bu}function Le(e){return Ve().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Lu(t,(e=>e.value===i));return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(n,o)=>{if(i(o))return m(o.name)?o.name:"[Function]";if(!r(o))return o;const a=t.get(o);if(a)return"[Circular "+a+"]";for(;e.length>0&&e[e.length-1].value[n]!==o;)e.pop();const s=(e.length>0?e[e.length-1].path:"")+(n?"/"+n:"~");return e.push({path:s,value:o}),t.set(o,s),o}}())}function Be(e){return void 0===e&&(e=""),e.replace(Qu,(e=>e in Ju?Ju[e]:e))}function Me(e){if(!u(e))return{};const{AUCTION_DC_PARAMS:t,HAS_TITLE:i,HAS_BODY:r}=e;if(!u(t)||!u(t.data_params))return{};const n=$u(t.data_params);if(!u(n)||!u(n.text))return{};const o=n.text;return{title:f(o.title)?Be(o.title):void 0,body:f(o.body)?Be(o.body):void 0,hasBody:"boolean"===typeof r?r:void 0,hasTitle:"boolean"===typeof i?i:void 0}}function xe(e,t){void 0===t&&(t=1e6);const i=function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);let o;if(n<128?o=String.fromCharCode(n):n>127&&n<2048?(o=String.fromCharCode(n>>6|192),o+=String.fromCharCode(63&n|128)):(o=String.fromCharCode(n>>12|224),o+=String.fromCharCode(n>>6&63|128),o+=String.fromCharCode(63&n|128)),i.length+o.length>t)break;i+=o}return i}(e,3*t/4|0);return function(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),n=e.charCodeAt(i++),o=e.charCodeAt(i++),a=r>>2,s=(3&r)<<4|n>>4;let l=(15&n)<<2|o>>6,d=63&o;isNaN(n)?l=d=64:isNaN(o)&&(d=64),t=t+th.charAt(a)+th.charAt(s)+th.charAt(l)+th.charAt(d)}return t}(i)}function Ue(e){const t=function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=th.indexOf(e.charAt(i++)),n=th.indexOf(e.charAt(i++)),o=th.indexOf(e.charAt(i++)),a=th.indexOf(e.charAt(i++)),s=r<<2|n>>4,l=(15&n)<<4|o>>2,d=(3&o)<<6|a;t.push(String.fromCharCode(s)),64!==o&&t.push(String.fromCharCode(l)),64!==a&&t.push(String.fromCharCode(d))}return t.join("")}(e);return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const n=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&n)),i+=2}else{const n=e.charCodeAt(i+1),o=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&n)<<6|63&o)),i+=3}}return t.join("")}(t)}function Fe(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:r},isAdFox:n,url:o,adPlacementOptions:a,adConfig:s}=e;return t=n||o&&ye(o)?"AD_FOX":o&&fe(o)?"YANDEX":"EXTERNAL",{adPlacementOptions:a,vastSourceType:t,vastTimeout:i,wrapperMaxCount:r,requestMethod:ah({secureMode:s.secureMode,url:o})?"VASFrame":"XMLHttpRequest"}}function He(e){if(!u(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!u(t)||!u(t.data_params))return;const i=$u(t.data_params);if(!u(i))return;const r=i.target_url;return f(r)?r:void 0}function ze(e,t){const i={};return Cd(D(e),(r=>{const n=t(r,e[r]);i[n]=e[r]})),i}function je(e){let{type:t}=e;return f(t)&&lh.indexOf(t)>-1?"js":"video"}function We(e){return!!r(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ge.apply(this,arguments)}function Ye(e){const t={};return oe(e,((e,i)=>{t[e]=i})),t}function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xe.apply(this,arguments)}function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ke.apply(this,arguments)}function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},qe.apply(this,arguments)}function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Qe.apply(this,arguments)}function Je(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!u(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!u(i))return!1;const{data_params:r}=i;if(!u(r))return!1;const{misc:n}=r;if(!u(n))return!1;const{layout_type:o}=n;return"clickable_video"===o}function Ze(e){return function(e){return Dh+"1.0-"+e+"/"}(e)}function $e(e){let t;try{t=JSON.parse(e)}catch(h){throw new fc({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!u(t))throw new fc({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i,theme:r}=t,n=r===Bh;if(!wd(i)||0===i.length)return n?{url:xh,adFormatType:"survey",isOldVastFormat:!0}:{url:Nh,adFormatType:"motion",isOldVastFormat:!0};const[o]=i;if(!We(o))throw new fc({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const{type:a}=o;if(a===dh){const e=(e=>{const{type:t,url:i}=e;if(t!==dh)throw new fc({code:"DETECT_AD_CREATIVE_AD_FORMAT_NO_AD_CREATIVE",details:e});const r=P(i);if(!(r in wh))throw new fc({code:"DETECT_AD_CREATIVE_AD_FORMAT_UNMATCHED_FILENAME",details:e});const n=wh[r];return Oh[n]})(o);return{url:fh,adFormatType:e,isOldVastFormat:!1}}const s=f(r),l="video-banner_theme_empty"===r,d="video-banner_interactive-viewer"===r,c={url:Ph,adFormatType:"interactiveViewer",isOldVastFormat:Sh(i,(e=>e.url!==yh.url))};if(d)return c;if(Je(r,t))return{url:xh,adFormatType:"clickableVideo",isOldVastFormat:!0};if(s){const e=(()=>{switch(!0){case l:return"themeEmpty";case n:return"survey";default:return"vpaidCreative"}})();return{url:l||n?xh:Mh,adFormatType:e,isOldVastFormat:!0}}return Xc.event({name:"DetectInteractiveViewerAsDefault",probability:lc,data:{adParametersObject:t}}),c}function et(e){const t=null==e?void 0:e.mediaFiles[0];if(!u(t))return"external";const{type:i,url:r}=t;if("js"!==je({type:i}))return"video";if(!fe(r))return"external";try{const{adFormatType:t}=$e(e.adParameters);return t}catch(n){return"external"}}function tt(e){return(e=>{if(!u(e))return!1;if(!m(e.name))return!1;if(!m(e.message))return!1;return!0})(e)&&Boolean(e.code)}function it(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function rt(e,t){Cd(e,(e=>{it(e,t)}))}function nt(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[Zh(r)]=t[r]}}function ot(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)v(e,i)&&t.push(i);return t}}function at(e,t){ot(t).forEach((i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)}))}function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},st.apply(this,arguments)}function lt(){return lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lt.apply(this,arguments)}function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},dt.apply(this,arguments)}function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ct.apply(this,arguments)}function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ut.apply(this,arguments)}function ht(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function pt(){return pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},pt.apply(this,arguments)}function At(e){let{url:t,data:i,timeout:r,doRequest:n=Pp,withCredentials:o}=e;return new Promise((async(e,a)=>{"https:"===window.location.protocol&&(t=function(e){return hd.href=e,hd.protocol="https:",hd.href}(t));const s=wp(r),l=n({url:t,data:i,withCredentials:o});try{const t=await Promise.race([l,s]);if(t){return e(pt({},t,{xml:ht(t.responseText)}))}return a({reason:"timeout",error:new Error("XHR Timeout")})}catch(d){return a(d)}}))}function mt(e){return[].concat.apply([],e)}function vt(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function _t(e){return-1!==e.search(/[rR]each/)}function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gt.apply(this,arguments)}function yt(){return yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},yt.apply(this,arguments)}function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ft.apply(this,arguments)}function St(e){const t=[];if(!wd(e))return t;for(const i of e){const e=Tt(i);e&&t.push(e)}return t}function Tt(e){if(!u(e))return;const{width:t,height:i,url:r,type:n}=e;if(!f(r))return;return ft({},Ee(t)&&Ee(i)?{width:t,height:i}:void 0,f(n)?{type:n}:void 0,{url:r})}function Et(){return Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Et.apply(this,arguments)}function bt(e){if(!u(e))return Bp;const{type:t,poster:i}=e;return Et({},t in Vp?{type:t}:void 0,{poster:St(i)})}function Ct(){return Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ct.apply(this,arguments)}function Ot(e){return!!u(e)&&(!!e.id&&!!f(e.description))}function wt(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!=(r=null==i?void 0:i.trim())?r:""}return i}function Pt(e){var t,i;return null!=(t=null==e||null==(i=e.textContent)?void 0:i.trim())?t:""}function It(e){return Boolean(e&&Pt(e).length)}function Dt(e){const t=parseInt(wt(e,"width",0),10),i=parseInt(wt(e,"height",0),10),r=parseInt(wt(e,"bitrate",0),10),n=wt(e,"minBitrate",""),o=n?parseInt(n,10):void 0,a=wt(e,"maxBitrate",""),s=a?parseInt(a,10):void 0,l=wt(e,"vmafAvg",""),d=l?parseFloat(l):void 0,c=wt(e,"codec",""),u={width:t,height:i,bitrate:r,type:wt(e,"type"),url:Pt(e)};return f(c)&&(u.codec=c),Ee(o)&&(u.minBitrate=o),Ee(s)&&(u.maxBitrate=s),Ee(o)&&Ee(s)&&o>s&&Xc.error({error:new fc({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:u}})}),Ee(d)&&(u.vmafAvg=d),u.url?u.type?u:(Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:u}})}),null):(Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:u}})}),null)}function Nt(e){var t,i,r;if(!u(e))return;const n=null==(t=e.AUCTION_DC_PARAMS)||null==(i=t.data_params)||null==(r=i.misc)?void 0:r.productType;return f(n)?n:void 0}function Rt(e){const t={};return u(e)&&Cd(D(e),(i=>{const r=e[i];Array.isArray(r)&&(t[i]=cc(r,(e=>"string"===typeof e)))})),t}function kt(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return Cd(i,(t=>{Cd(D(t),(i=>{const r=e[i]||[],n=t[i]||[];e[i]=[...r,...n]}))})),e}function Vt(e){if(void 0===e)return;const t=Number(e);return Ee(t)?t:void 0}function Lt(e,t){const i={};return Cd(D(e),(r=>{t(e[r],r)&&(i[r]=e[r])})),i}function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Bt.apply(this,arguments)}function Mt(e){const t=Np(Xp);if(!u(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),u(e.controlsSettings)&&(u(e.controlsSettings.controlsVisibility)&&_(e.controlsSettings.controlsVisibility,((e,i)=>{Gp.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)})),!1===e.controlsSettings.visibility)){const e=Lt(t.controlsVisibility,(e=>!0===e));t.controlsVisibility=Bt({},Yp,e)}return delete t.visibility,t}function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},xt.apply(this,arguments)}function Ut(e){const{packshotSettings:t}=e;if(!u(t))return Kp;const{isEnabled:i}=t;return xt({},Kp,{isEnabled:!1!==i&&void 0})}function Ft(e){const t=u(e)?e:{},i="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,zp):void 0;return{config:{pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,videoTimeout:Ee(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:Ee(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:i,bufferEmptyLimit:Ee(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?Rt(t.trackingEvents):{},controlsSettings:Mt(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:Vt(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:Yu,packshotSettings:Ut(t),contentAfterAd:bt(t.contentAfterAd)},errors:[]}}function Ht(e){try{return"string"===typeof e?JSON.parse(e):void 0}catch(Kg){return}}function zt(e){return"string"!==typeof e?NaN:Kd(e.split(":").reverse(),((e,t,i)=>e+parseFloat(t)*60**i),0)}function jt(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return x(t)?{unit:"portion",value:t/100}:void 0}const t=zt(e);if(x(t))return{unit:"seconds",value:t}}function Wt(){return Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Wt.apply(this,arguments)}function Gt(){return Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Gt.apply(this,arguments)}function Yt(e){Cd(e,(e=>Xc.error({error:e})))}function Xt(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function Kt(e){let{win:t,methodName:i,data:r,id:n}=e;t.postMessage({methodName:i,data:r,id:n},"*")}function qt(e){const t=Object.values;if("function"===typeof t)return t(e);const i=[];for(const r in e)I(e,r)&&i.push(e[r]);return i}function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Qt.apply(this,arguments)}function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Jt.apply(this,arguments)}function Zt(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case dA.BLUETOOTH:return 3;case lA.CELL_2G:return.384;case lA.CELL_3G:case dA.CELLULAR:return 2;case dA.WIMAX:return 37;case dA.NONE:return 0;case lA.ETHERNET:case dA.ETHERNET:case lA.WIFI:case dA.WIFI:case dA.MIXED:return 10;case lA.UNKNOWN:case dA.UNKNOWN:case dA.OTHER:}return-1}function $t(){const e={width:window.innerWidth,height:window.innerHeight},t=sA(),i={win_width:cA(e.width),win_height:cA(e.height),pixel_ratio:aA(),bandwidth:Zt()};return t&&(i.quirks=t),i}function ei(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function ti(){return ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ti.apply(this,arguments)}function ii(e,t){const i=window,r=i.document;if(t&&(n=function(e){return e.location.host}(i))&&n&&0!==n.length&&((e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1})(mA,(e=>{return e===n||(i="."+e)===(t=n).substring(t.length-i.length);var t,i})))return t;var n;let o=ri(e,r);if("t\n"===o&&i.top!==i.self)try{o=ri(e,i.parent.document)}catch(Kg){}return xe(o,e)}function ri(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let n=1;n<4&&r<e;n++){const e=t.getElementsByTagName("h"+n),o=e.length;for(let t=0;t<o;t++){const o=ni(e[t]);r+=o.length,i.push(""+n+o)}}return i.join("\n")+"\n"}function ni(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function oi(e){return Boolean(e.YA_TURBO_PAGES)}function ai(e){let t;try{t=JSON.stringify(e)}catch(Kg){}return t}function si(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function li(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return si(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function di(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return _A()+e}function ci(e){return void 0===e&&(e=window),String(e.location)}function ui(e){return void 0===e&&(e=window),xe(((e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(Kg){}const r=/(%[0-9A-Z]{2})+/g;let n;for(let o=0;o<i.length;o++){const e=i[o].split("="),a=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(a.replace(r,decodeURIComponent),t===i){n=decodeURIComponent(a);break}}catch(Kg){return}}return n})(e.document,"_ym_uid")||"")}function hi(e){return void 0===e&&(e=window),e.location.hostname}function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},pi.apply(this,arguments)}function Ai(){return Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ai.apply(this,arguments)}function mi(e,t){void 0===t&&(t="");const{params:i,bids:r,matchIdDirect:n=!1,reloadCounter:o}=e,a=Ai({},function(e){const t=e.win||window,i=void 0===e.isTurbo?oi(t):e.isTurbo,r=eu(TA,(e=>e.test(t.location.hostname)));return(e=>{let{win:t,date:i=new Date,pr1:r,pr:n,testtag:o,isTurbo:a=oi(t),addsSsSkipToken:s=!1,layoutConfig:l=new uA,cookies:d,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;l.set("req_no",(()=>{0;return SA++})()),l.set("ad_no",di());const v=pi({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:n=fA(),location:o,extid_loader:a,extid_tag_loader:s}=e;const l=si(t)&&t.context&&t.context.sourceUrl||void 0,d=l||t.document.referrer;return{dl:l||o||ci(t),date:yA(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:n,pr:i,prr:d,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===a?ui(t):a,extid_tag_loader:void 0===s?hi(t):s}})({win:t,date:i,pr1:r,pr:n,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:o?o.toString():"","is-turbo":Number(a),"skip-token":li(),"ad-session-id":h||Cu(),"layout-config":l.toString(),"enable-flat-highlight":1},d);s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0);return v})(Ai({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},n?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Cd(EA,(e=>{a[e]=void 0})),a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(Kg){}if(r){const e=Sd(r,(e=>Ai({},e,{placement_id:e.placement_id?String(e.placement_id):void 0})));e.toJSON&&(e.toJSON=void 0),a.bids=xe(ai(e)||"")}return a.grab=ii(2048-t.length),a.utf8="\u2713",o&&(a.adf_refresh=o),a}function vi(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:n,domain:o=bA}=e;return t=r?"getBulk/v2":i?"getCodeTest":"prepareCode","https://"+o+"/"+n+"/"+t}(e);return{base:t,queryParams:mi(e,t)}}function _i(){const e=window;var t,i,r;"number"!==typeof e.pr&&(e.pr=(null==e||null==(t=e.Ya)?void 0:t.headerBidding)&&(null==e||null==(i=e.Ya)||null==(r=i.headerBidding)?void 0:r.pr)||fA());return e.pr}function gi(){return gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gi.apply(this,arguments)}function yi(e,t){const i=Cc(window);let r;const n="ads"===rc.getFlagValueAndActivateTestId("REQUEST_ADFOX_PATH_PREFIX")?"ads":"an",o=CA?jd+"/"+n+"/adfox":zd+"/adfox";try{r=function(e){const{base:t,queryParams:i}=vi(e);return w(t,i)}(gi({},e,{layoutConfig:new uA,useXhr:!0,domain:o,pr:_i()}))}catch(s){throw new fc(s,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!ei(r))throw new fc({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const a=Pe({url:r,options:t,ignoreAbd:!0,win:window});return i?i(a):a}async function fi(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const n=yi(t,i),o=ah({secureMode:r,url:n})?Op:Pp;try{const e=await o({url:n,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=Ht(e),i=[];if(!u(t))throw new fc({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{errors:r,data:n}=t;if(Array.isArray(r)&&r.length>0)throw new fc({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(n))throw new fc({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const o=cc(n,((e,r)=>{if(!u(e)||!u(e.attributes))return i.push(new fc({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:o}=e.attributes;return"string"===typeof o&&o.length>0||"string"===typeof n&&n.length>0||(i.push(new fc({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1)}));if(0===o.length)throw new fc({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return o.length>1&&i.push(new fc({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:o[0].attributes,errors:i}}(e.responseText);return Yt(i),t}catch(a){if(tt(a))throw a;throw new fc(a,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:n}})}}function Si(){return Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Si.apply(this,arguments)}function Ti(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){let{url:t}=e;return t===fh}(i)}function Ei(){return Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ei.apply(this,arguments)}function bi(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=cc(i,(e=>"video"===je(e)||fe(e.url)))),i}function Ci(e,t){const i=bi(e,t);return Sd(i,(e=>"video"!==je(e)?e:NA(e)))}function Oi(e){let{secureMode:t,vastAd:i}=e;const r=Ci(i.mediaFiles,t);return!!r.length&&Sh(r,(e=>"video"===je(e)))}function wi(){return wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},wi.apply(this,arguments)}function Pi(){return Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pi.apply(this,arguments)}function Ii(){return Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ii.apply(this,arguments)}function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Di.apply(this,arguments)}function Ni(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Ri(e){var t;const{adParametersObject:i,description:r}=e,{AB_FLAGS_STORE:n}=ic;if(!u(i))throw new fc({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:o,interactiveElements:a,mediaFiles:s}=i,l=Ni(i,BA),d=o&&o.isVisible&&f(o.text),c=Array.isArray(a)&&a.length>0;const h=Di({},l,{adParameters:{description:r,tickerData:o,interactiveElements:a},mediaFiles:!(!d&&!c&&"DO_NOT_LOAD"===n.getFlagValueAndActivateTestId("IV_CONCEALED_ANIMATION_LOADING_POLICY"))?[...s,yh]:s}),p=null==(t=e.playbackAdParameters)?void 0:t.clickThroughUrl,A=f(e.clickThrough)?e.clickThrough:void 0,m=null!=p?p:A,v=Di({},e.playbackAdParameters,{clickThroughUrl:m});return Di({},e,{mediaFiles:[kp],adParametersObject:h,adParameters:JSON.stringify(h),originallyConvertedFromVast:e,playbackAdParameters:v})}function ki(e){const{adParametersObject:t}=e;if(!u(t))throw new fc({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:n,HAS_AGE:o,HAS_LEGAL:a,LEGAL_TEXT:s}=t,l=Ni(t,MA),d=LA||"TRUE"===rc.getFlagValueAndActivateTestId("VAS_DISABLE_MOTION_TAILOR")?RA:kA,c=Di({},l,{adParameters:Di({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:n}:{},"HAS_AGE"in t?{HAS_AGE:o}:{},"HAS_LEGAL"in t?{HAS_LEGAL:a}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[d]});return Di({},e,{mediaFiles:[kp],adParametersObject:c,adParameters:JSON.stringify(c),originallyConvertedFromVast:e})}function Vi(e){const{adParametersObject:t}=e;if(!u(t))throw new fc({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});let i;if(!(wd(t.mediaFiles)&&t.mediaFiles.length>0))throw new fc({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:e}});i=t.mediaFiles;const r=Di({},t,{mediaFiles:i,adParameters:Di({},t),adCreativeConversionType:"theme-empty"});return Di({},e,{mediaFiles:[kp],adParametersObject:r,adParameters:JSON.stringify(r),originallyConvertedFromVast:e})}function Li(e){let{secureMode:t,vastAd:i}=e;const{trackingEvents:r}=i,n=bi(i.mediaFiles,t);if(0===n.length)throw new fc({code:"CANNOT_CONVERT_VIDEO_VAST_INTO_AD_CREATIVE_WITHOUT_MEDIA_FILES",details:{vastAd:i}});const o={adParameters:{},interactiveElements:[],mediaFiles:n,tickerData:{}},a=X(o);return Di({},i,{mediaFiles:[kp],adParametersObject:o,adParameters:a,playbackAdParameters:{clickThroughUrl:i.clickThrough,trackingEvents:r,controlsSettings:{controlsVisibility:{}},lang:"ru",packshotSettings:{},contentAfterAd:Bp},originallyConvertedFromVast:i})}function Bi(e){const{adParametersObject:t}=e;if(!u(t))throw new fc({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!u(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!u(t))return;const{data_params:i}=t;if(!u(i))return;const{misc:r}=i;if(!u(r))return;const{object_id:n}=r;if(!m(n))return;const o=i[n];if(!u(o))return;const{click_url:a}=o;if(!u(a))return;const{action_button:s}=a;return m(s)?s:void 0}(e.adParametersObject),r=Di({},e.adParametersObject,{adParameters:e.adParametersObject});return Di({},e,{mediaFiles:[kp],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:Di({clickThroughUrl:i},t.playbackParameters)})}function Mi(e){var t,i;const{adParametersObject:r,clickThrough:n}=e,{AB_FLAGS_STORE:o,VAS_UAAS_CONFIG:a}=ic;if(!u(r))throw new fc({code:"CANNOT_CONVERT_SURVEY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const s="TRUE"===o.getFlagValueAndActivateTestId("SHOULD_NOT_USE_SURVEY_CLICK_THROUGH_URL_AS_CLICK_TRACKING"),l=null!=(t=r.trackingEvents)?t:{};if(!s){const e=wd(l.clickThrough)?l.clickThrough:[];l.clickThrough=[...e,n],Xc.event({name:"UseSurveyClickThroughUrlAsClickTracking",data:{adParametersObject:r},probability:lc})}const d=Di({},r,{uaas_config:a});if("TRUE"===o.getFlagValueAndActivateTestId("VAS_ENABLE_SURVEY_OLD_AD_CREATIVE_INTERNAL_MODULE")){const t=Di({},r,{mediaFiles:[VA],adParameters:Di({},r),trackingEvents:l});return Di({},e,{mediaFiles:[kp],adParametersObject:t,adParameters:JSON.stringify(t)})}const c=Di({},d,{mediaFiles:[Ch,...null!=(i=d.mediaFiles)?i:[]],adParameters:Di({},d),trackingEvents:l});return Di({},e,{mediaFiles:[kp],adParametersObject:c,adParameters:JSON.stringify(c)})}function xi(e){var t,i,r,n,o;let{vastAd:a,secureMode:s}=e;if(void 0===a.mediaFiles[0])return{vastAd:a,reason:void 0};let l;const d=Oi({secureMode:s,vastAd:a});try{l=d?void 0:$e(a.adParameters)}catch(v){return Xc.event({name:"PrepareYandexVastDetectionError",data:v}),{vastAd:a,reason:void 0}}const c=Ti(a),u="motion"===(null==(t=l)?void 0:t.adFormatType),h="themeEmpty"===(null==(i=l)?void 0:i.adFormatType),p="survey"===(null==(r=l)?void 0:r.adFormatType),A="interactiveViewer"===(null==(n=l)?void 0:n.adFormatType),m="clickableVideo"===(null==(o=l)?void 0:o.adFormatType);if(a.adParametersObject){const{mediaFiles:e}=a.adParametersObject;!c&&u&&Array.isArray(e)&&e.length>0&&Xc.error({error:new fc({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:a}})})}if(d)return{vastAd:Li({secureMode:s,vastAd:a}),reason:"ConvertVideoVastIntoAdCreative"};if(!l||IA)return{vastAd:a,reason:void 0};if(l.isOldVastFormat){if(m)return{vastAd:Bi(a),reason:"ConvertClickableOnlyVideo"};if(h)return{vastAd:Vi(a),reason:"ConvertVideoBannerThemeEmpty"};if(A)return{vastAd:Ri(a),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(u)return{vastAd:ki(a),reason:"ConvertMotionVpaidIntoAdCreative"};if(p)return{vastAd:Mi(a),reason:"ConvertVideoBannerSurveyAdCreative"}}return{vastAd:a,reason:void 0}}function Ui(e){const{adParametersObject:t}=e;return!!t&&Je(t.theme,t)}function Fi(e){const t=PA(e);return M(Lh,t)}function Hi(e){var t;const{mediaFiles:i,adParametersObject:r}=e;if(!u(null==r||null==(t=r.adParameters)?void 0:t.pythia))return!1;const[n]=i;return void 0!==n&&Ti(e)}function zi(e){let{mediaFiles:t,adParametersObject:i}=e;if((null==i?void 0:i.theme)===Bh)return!0;const[r]=t;return void 0!==r&&function(e){const t=PA(e);return M(xA,t)}(r.url)}function ji(e){const{adParametersObject:t}=e;return"video-banner_theme_empty"===(null==t?void 0:t.theme)&&UA(e)}function Wi(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function Gi(e){if(!u(e))return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function Yi(){return Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Yi.apply(this,arguments)}function Xi(e){return"number"===typeof e.repeatNumber}function Ki(){return Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ki.apply(this,arguments)}function qi(e){const{adBreak:t}=e;return i(Oc)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return fe(r)?Pe({url:w(r,WA(e)),options:i,win:window}):r}(e)}function Qi(e){const{text:t,textColor:i,isVisible:r}=e||KA;return{text:f(t)?t:KA.text,textColor:i||KA.textColor,isVisible:"boolean"===typeof r?r:KA.isVisible}}function Ji(e,t){const i=[],r=[];return Cd(e,((n,o)=>{t(n,o,e)?i.push(n):r.push(n)})),[i,r]}function Zi(e){const t=[];if(!Array.isArray(e))throw new fc({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new fc({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=cc(e,We);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new fc({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const[r,n]=Ji(i,(e=>e.type===dh));if(r.length>1)throw new fc({code:"AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});return{errorCodes:t,videoMediaFiles:n,animationMediaFile:r[0]}}function $i(e){const t=[];let i={};if(u(e))i=e;else{if("string"!==typeof e)throw new fc({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(p){throw new fc(p,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}}if(!u(i))throw new fc({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:n,interactiveElements:o=[],mediaFiles:a}=i,{errorCodes:s,animationMediaFile:l,videoMediaFiles:d}=Zi(a),c=Sd(s,(t=>new fc({code:t,details:{adParametersString:JSON.stringify(e)}})));return t.push(...c),{raw:i,parsed:{tickerData:Qi(r),animationMediaFile:l,videoMediaFiles:d,adParameters:(h=n,"string"===typeof h?h:u(h)?ai(h):void 0),interactiveElements:o},errors:t};var h}function er(e){for(const{width:t,height:i}of e){const e=Number(t),r=Number(i);if(Ee(e)&&Ee(r))return{width:e,height:r}}}function tr(e,t){return rd(Ci(e,t),(e=>"js"===je(e)))}function ir(e){let{adParametersObject:t}=e;const i=null==t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return u(r)&&(r.url===RA.url||r.url===kA.url)}function rr(e,t){var i,r,n;return null==(i=t.ya)||null==(r=i.videoAd)||null==(n=r.loadedModules)?void 0:n[e]}function nr(e,t){void 0===t&&(t=window);const{hostname:i}=E(e),r=Cc(t);return r?-1===Yd.indexOf(i)?e:r(e):e}function or(e){return function(e){const{src:t,win:i,onBeforeLoad:r=Ae}=e,n=new yc({});let o=Ae;return{promise:new Promise(((e,a)=>{const s=i.document.createElement("script");let l=!1;o=()=>{l=!0,me(s)};const d=()=>{l||e()},c=e=>{l||(a(new yc(n,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),o())};s.type="text/javascript",s.async=!0,s.onload=d,s.onerror=c,s.src=t,s.charset=$A,r(s),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(s)})),teardown:o}}(e)}function ar(){return ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ar.apply(this,arguments)}function sr(e){const{src:t,win:i}=e;return or(ar({},em,e,{src:nr(t,i)}))}function lr(e){let{moduleName:t,version:r=Ih,onSuccess:n,onError:o,win:a,timeout:s}=e,l="loading";const d=Date.now(),c=A(ge((e=>{l="success";const i=Date.now()-d;Xc.values({name:"ModuleLoaded",probability:lc,labels:{bundleName:t},data:{loaderVersion:Bd,bundleVersion:r},values:{timeSpent:i},sensors:{bundleName:t}}),n(e)}),"LOAD_MODULE_CALLBACK_ERROR")),u=A(ge((e=>{l="error",Xc.error({error:e}),o(e)}),"LOAD_MODULE_CALLBACK_ERROR")),h=rr(t,a);if(h)return c(h),Ae;const p=(e=>{let{bundleName:t,win:r,ecmaVersion:n,version:o}=e;const a=Yh[n],s=Cc(r),l=(e=>Ah[e]+".bundle.js")(t),d=""+Ze(o)+a+"/"+l;return i(s)?s(d):d})({version:r,bundleName:t,win:a,ecmaVersion:ZA}),{promise:m,teardown:v}=(e=>{let{src:t,win:i}=e;return sr({src:t,onBeforeLoad:tm,win:i})})({src:p,win:a}),{promise:_,clear:g}=eh(s),y=ve({element:a,eventName:"unload",listener:()=>{u(new fc({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:r,timeout:s}}))}}),f=()=>{y(),g()};return _.then((()=>{u(new fc({code:"LOAD_MODULE_TIMEOUT",details:{moduleUrl:p,moduleName:t,version:r,timeout:s}}))})),m.then((()=>{f();const e=rr(t,a);e?c(e):u(new fc({code:"CANNOT_INIT_MODULE",details:{moduleUrl:p,moduleName:t,version:r}}))})).catch((e=>{f(),u(new fc(e,{code:"CANNOT_LOAD_MODULE",details:{moduleUrl:p,moduleName:t,version:r}}))})),()=>{f(),v(),"loading"===l&&Xc.event({name:"LoadModuleTeardownCalled",data:void 0})}}function dr(){return dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},dr.apply(this,arguments)}function cr(e){let{animationMediaFile:t,win:i}=e;const{url:r}=t,n=gh[r];if(r===Up)return{teardown:Ae,promise:Promise.resolve((e=>{const t=function(e){let{adCreativeInitParameters:{slot:t,adParametersString:i},duration:r}=e;const n=new rm;let o;return{startAd(){if(!f(i))throw new fc({code:"NO_AIM_AD_CREATIVE_INVALID_PARAMETERS",details:{adParametersString:i}});const{filterReasons:e}=JSON.parse(i);o=t.ownerDocument.createElement("div"),nt(o,nm);const a=t.ownerDocument.createElement("h2");a.textContent="\u041d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e",nt(a,om),o.appendChild(a);const s=t.ownerDocument.createElement("p");if(nt(s,am),s.textContent="\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430\u0446\u0435\u043b\u0438\u0432\u0430\u043d\u0438\u0435, \u043d\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0435",o.appendChild(s),e&&e.length){s.textContent=s.textContent+". \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u044b:";const i=t.ownerDocument.createElement("ul");nt(i,sm),Cd(e,(e=>{let{id:r,description:n}=e;const o=t.ownerDocument.createElement("li");o.textContent="#"+r+": "+n,i.appendChild(o)})),o.appendChild(i)}return t.append(o),Xc.event({name:"NoAimScreenShowStarted",data:void 0}),new Promise((e=>{n.start(),n.addCallback(r*im,(()=>{n.destroy(),Xc.event({name:"NoAimScreenShowCompleted",data:void 0}),e({reason:"complete"})}))}))},stopAd(){n.destroy(),Xc.event({name:"NoAimScreenShowStopped",data:void 0}),me(o)},pauseAd(){n.stop()},resumeAd(){n.start()},getAdRemainingTime:()=>Math.max(r-n.getTime()/im,0),getAdDuration:()=>r}}({adCreativeInitParameters:e,duration:15});return{promise:Promise.resolve(t),teardown:Ae}}))};if(void 0!==n){0;let e=Ae;const t=new Promise(((t,r)=>{e=lr({moduleName:n,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:3e4})}));return{teardown:e,promise:t}}const{promise:o,teardown:a}=sr({src:r,win:i});return{promise:o.then((()=>i.initAdCreative)),teardown:a}}function ur(e){return j(e.height)&&j(e.width)}function hr(e,t){return function(e,t,i){if(e.length<1)return;let[r]=e,n=t(r);for(let o=1;o<e.length;o++){const a=e[o],s=t(a);i(s,n)<0&&(r=a,n=s)}return r}(e,t,((e,t)=>e-t))}function pr(e,t){let{height:i}=t;return hr(cc(e,ur),(e=>{let{height:t}=e;return Math.abs(t-i)}))}function Ar(e){let t;try{t=e.devicePixelRatio}catch(Kg){}return Ee(t)?t:1}function mr(e){if(!f(e))return;return e.split(",")[0].trim()}function vr(e){return 0===e.indexOf("avc1.")}function _r(e){return 0===e.indexOf("hvc1.")}function gr(e){return"vp8"===e||"vp08"===e||0===e.indexOf("vp08.")||0===e.indexOf("vp8.")}function yr(e){return"vp9"===e||"vp09"===e||0===e.indexOf("vp9.")||0===e.indexOf("vp09.")}function fr(e){let{mediaFile:t,abFlags:{disableVp8:i,disableVp9:r,enableH265:n,disable144p:o}}=e;const a=mr(t.codec);if(f(a)){if(o&&144===function(e){let{width:t,height:i}=e;if(Ee(t)&&Ee(i))return Math.min(t,i)}(t))return"quality144pIsDisabled";if(!vr(a))return gr(a)?i?"vp8CodecIsDisabled":void 0:function(e){return 0===e.indexOf("hev1.")}(a)||_r(a)?n?void 0:"h265CodecIsDisabled":yr(a)?r?"vp9CodecIsDisabled":void 0:"unsupportedVideoCodec"}}function Sr(e){let{mediaFile:t,canPlayType:i}=e;const{type:r,codec:n}=t;if(!m(r))return"noType";if(r===Mm&&Fl)return"cannotPlayWebmDueToMacOSLimitations";if(!i(xm({type:r,codec:n})))return"cannotPlay";const o=fr({mediaFile:t,abFlags:{disableVp8:"TRUE"===rc.getFlagValueAndActivateTestId("DISABLE_VP8_CODECS"),enableH265:!0===Bm,disableVp9:Lm,disable144p:!0===Vm}});return o||void 0}function Tr(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const n=void 0===r?t.width/t.height:r.width/r.height,o=i.width/i.height>n,a=o?i.height*n:i.width/n,s=o?i.height:i.width,l={width:o?a:s,height:o?s:a},d=Math.min(t.width,l.width)/Math.min(t.height,l.height),c=t.width/t.height>d;return{adjacentSize:c?t.height*d:t.width/d,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function Er(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return Um;if(void 0===i.width&&void 0===i.height)return Um;const{innerSize:n,adjacentSize:o,extraHorizontalSpace:a}=Tr({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=n/(o/(a?t.width:t.height)),l=n/(1-r);return{multiplier:Math.min(s,l)/n,isVertical:a}}function br(e){let{videoContentSize:t,slotSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!t)return{reason:"unknownVideoContentSize",value:su.videoPixelRatio};let{width:n,height:o}=t;if(m(n)&&(n=Number(n),Fm()),m(o)&&(o=Number(o),Fm()),!x(n)||!x(o))return{reason:"hasIncorrectWidthAndOrHeight",value:1e3};if(n<0||o<0)return{reason:"incorrect",value:su.videoPixelRatio};if(0===o||0===i.height)return{reason:"incorrect",value:su.videoPixelRatio};if(0===n||0===i.width)return{reason:"incorrect",value:su.videoPixelRatio};const a=n/o;return{reason:"normal",value:(i.width/i.height>a?o/i.height:n/i.width)/(r?Er({slotSize:i,adContentSize:t,allowedToHideVideoSlotAreaPortion:r}).multiplier:1)}}function Cr(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&i(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&i(t.prototype.appendBuffer)&&i(t.prototype.remove))}(e)?t:void 0}function Or(e){let{type:t}=e;return Gm||Ym?!Gm&&Ym?"noMse":Gm&&!Ym?"noFetch":f(t)?-1===t.toLowerCase().indexOf(Mm)?"isNotWebm":Wm?void 0:"cannotPlayWebmWithMse":"noType":"noMseAndFetch"}function wr(e){return!!f(e)&&Km.indexOf(e.toLowerCase())>-1}function Pr(e){let{mediaFile:t,opts:{desiredBitrate:i}}=e;if(function(e){return!!wr(e.type)&&Sh(qm,(t=>!Ee(e[t])))}(t))return 0;if(function(e){const{minBitrate:t,maxBitrate:i}=e;return Ee(t)&&Ee(i)}(t)){const{minBitrate:e,maxBitrate:r}=t;return i<e?e-i:i>r?r-i:0}const{bitrate:r}=t;return Ee(r)?r-i:2e4}function Ir(e,t){const{value:i,reason:r}=br({videoContentSize:e,slotSize:t.container,allowedToHideVideoSlotAreaPortion:t.allowedToHideVideoSlotAreaPortion}),n=function(e){let{videoPixelRatio:t,opts:{perfectVpr:i,vprMoreThanOneMultiplier:r}}=e;const n=t-i;return n<0?n:n*r}({videoPixelRatio:i,opts:t});let o;o=Ee(t.desiredBitrate)?Math.abs(n*t.vprPriorityFactor):Math.abs(n);const a=function(e){let t,{mediaFile:i,videoPixelRatioDistance:r,opts:{desiredBitrate:n,container:o,bitratePriorityFactor:a}}=e;if(Ee(n)){const e=Pr({mediaFile:i,opts:{desiredBitrate:n,container:o}});return Ae(r),Math.abs(e)}return t=Ee(i.bitrate)?i.bitrate:2e4,a*t}({mediaFile:e,videoPixelRatioDistance:n,opts:t}),s=function(e){let{type:t,mediaFileTypePriorities:{webm:i,mp4:r,hls:n,unknown:o,unset:a}}=e;if(!f(t))return a;const s=t.toLowerCase();return s===Mm?i:"video/mp4"===s?r:wr(t)?n:o}({type:e.type,mediaFileTypePriorities:t.mediaFileTypePriorities}),l=function(e,t){return t.isVideoADB?void 0===Or(e)?0:1:0}(e,t);return{videoPixelRatio:i,videoPixelRatioReason:r,videoPixelRatioSolution:o,mediaFileTypePrioritySolution:s,bitratePrioritySolution:a,adbCompatibilitySolution:l}}function Dr(e){if(!function(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}(e))return"invalidObject";const{type:t,codec:i,url:r,maxBitrate:n,minBitrate:o,vmafAvg:a,hasAudio:s}=e;let{width:l,height:d,bitrate:c}=e;if(l=null===l?void 0:l,d=null===d?void 0:d,c=null===c?void 0:c,void 0===c||Ee(c)||Qm(e),void 0===a||Ee(a)||ev(e),void 0===i||f(i)||Jm(e),void 0===l&&void 0===d||Ee(l)&&Ee(d)||$m(e),(void 0!==o||void 0!==n)&&(!Ee(o)||!Ee(n)||o>=n))return"invalidMinMaxBitrate";if("string"!==typeof r)return"invalidUrl";if(!r.trim())return"emptyUrl";if(void 0!==t){if(!m(t))return"invalidType";0===t.trim().length&&tv(e)}return void 0!==s&&"boolean"!==typeof s&&Zm(e),{type:t,codec:i,url:r,width:l,height:d,bitrate:c,maxBitrate:n,minBitrate:o,vmafAvg:a,hasAudio:s}}function Nr(){return Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Nr.apply(this,arguments)}function Rr(e,t,i){const r=Date.now(),n=[],o=[],a=[];for(const f of e){const e=Dr(f);if(m(e))n.push({mediaFile:f,reason:e});else{const i=e,r=Sr({mediaFile:i,canPlayType:t.canPlayType});m(r)?o.push({mediaFile:i,reason:r}):a.push(i)}}const s=Sd(a,(e=>Ir(e,t))),l=Ee(t.desiredBitrate)?"desiredBitrate":"videoPixelRatio",d=Sd(s,(e=>{let{videoPixelRatioSolution:t,bitratePrioritySolution:i,mediaFileTypePrioritySolution:r,adbCompatibilitySolution:n}=e;return t+i+r+n})),c=Sd(d,((e,t)=>Nr({},a[t],s[t],{prioritySolution:e}))),u=hr(c,(e=>{let{prioritySolution:t}=e;return t}));let h,p;var A;(z("prioritisedMediaFiles=["+JSON.stringify(c)+"]"),z("invalidMediaFiles=["+JSON.stringify(n)+"]"),z("notPlayableMediaFiles=["+JSON.stringify(o)+"]"),u)&&(h=mr(u.codec),p=null==(A=u.type)?void 0:A.split("/")[1]);const v={codec_vp8:0,codec_vp9:0,codec_avc:0,codec_hvc:0,codec_unknown:0};f(h)?gr(h)?v.codec_vp8=1:yr(h)?v.codec_vp9=1:vr(h)?v.codec_avc=1:_r(h)?v.codec_hvc=1:v.codec_unknown=1:v.codec_unknown=1;const _={type_webm:0,type_mp4:0,type_m3u8:0,type_unknown:0};f(p)?"webm"===p?_.type_webm=1:"mp4"===p?_.type_mp4=1:"m3u8"===p?_.type_m3u8=1:_.type_unknown=1:_.type_unknown=1;const g={method_desiredBitrate:"desiredBitrate"===l?1:0,method_videoPixelRatio:"desiredBitrate"===l?0:1},{adBreak:y,adPodId:S,initiator:T}=i,E=Nr({},iv,{["initiator_"+T]:1});return Xc.values({name:"PrioritiseMediaFiles",data:{adBreak:y,adPodId:S,initiator:T,input:Nr({},t,{dpr:Ar(window)}),output:{invalidMediaFiles:Np(n),notPlayableMediaFiles:Np(o),mediaFiles:Np(c),mediaFile:u?Nr({},u):void 0,methodType:l}},labels:{},values:Nr({timeSpent:Date.now()-r},g,_,v,E),sensors:{initiator:T,method:l,type:M(["webm","mp4","m3u8"],p)?p:"unknown",codec:M(["vp8","vp9","avc","hvc"],h)?h:"unknown"}}),{prioritisedMediaFile:u,invalidMediaFiles:n,notPlayableMediaFiles:o,playableMediaFiles:c}}function kr(e){let{scope:t,errorType:i,error:r,details:n}=e;return new fc(r,{code:rv(t,i),details:n})}function Vr(e,t){const i=[];i.push(ve({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{event:e})}})),i.push(ve({element:e,eventName:"error",listener:(e,i,r,n,o)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:n,error:o,filename:null==e?void 0:e.filename,message:null==e?void 0:e.message})}})),i.push(ve({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:l,sourceFile:d,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const r=new nv({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,o=new Error;0===r.length&&0===n.length&&t(o,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Cd(k({reports:r,records:n}),(e=>{let[r,n]=e;return Cd(n,(e=>{t(o,function(e){if(!u(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!f(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(u(i)&&f(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})}))}))}});return i.push((()=>{r.destroy()})),()=>pe(i)}function Lr(e,t){return Vr(e,((e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(ov)>-1)return}}t(e,i,r)}))}function Br(e){return 0===sv.length&&(av=window.setInterval((()=>{sv.forEach((e=>e()))}),250)),sv.push(e),()=>{const t=sv.indexOf(e);t>-1&&sv.splice(t,1),0===sv.length&&clearInterval(av)}}function Mr(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&at(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;me(i)}function xr(){const e=Mr(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ur.apply(this,arguments)}function Fr(e){if(Qd&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function Hr(e){(new Image).src=e}function zr(){return zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},zr.apply(this,arguments)}function jr(){return jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},jr.apply(this,arguments)}function Wr(){return Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Wr.apply(this,arguments)}function Gr(e){return[...e].sort(((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:-1===i?1:-1===r?-1:i-r}))}function Yr(e){return function(e){return void 0===e?"Inline":ye(e)?"AdFox":fe(e)?"Yandex":""}(e)+"WrapperVASTLoaded"}function Xr(){return Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xr.apply(this,arguments)}function Kr(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:n}=e;const o=i.adFoxParameters||t.adFoxParameters;if(o)return async function(e){return new OA(e).loadVastPromise}({adConfig:Xr({},t,{adFoxParameters:o}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:a}=t,s=t.hasOwnProperty("vast")?t.vast:void 0,l=i.inlineVast,d=null!=s?s:l,c=Fe({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r});if(d)return rA({xmlString:d,loadParameters:c,vastUrl:void 0}).then((e=>(a&&0===e.children.length&&a({adPods:Sd(e.ads,(e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}}))}),e)));const u=t.vastUrl?t.vastUrl:qi({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:n});return tA({url:u,loadParameters:Fe({adConfig:t,adBreak:i,isAdFox:!1,url:u,adPlacementOptions:r})})}async function qr(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await Kr(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,De(l),l}const n=[];for(const d of r.ads)try{var o;const e=d.mediaFiles[0],i=null!=(o=null==e?void 0:e.url)?o:"",r=PA(i)===Ph||Fi(i)||ji(d)||Ui(d)||zi(d)||Hi(d)||Oi({secureMode:t.secureMode,vastAd:d});if(Boolean(e)&&r){const{vastAd:e,reason:i}=xi({secureMode:t.secureMode,vastAd:d});i&&Xc.event({name:i,data:{previous:d,next:e},probability:lc}),n.push(e)}else n.push(d)}catch(l){Xc.error({error:l})}r.children.length>0&&Xc.event({name:Yr(r.url),data:{vast:r}});const a=Sd(n,(e=>(e.vast=r,new Sv(i,e,t)))),s=Gr(a);if(0===s.length)throw new fc({code:"NO_AD_SECTION",details:void 0});if(cc(s,(e=>e.hasMediaFiles())).length>0)return{mediaAds:s,vast:r};if(function(e){return eu(e,(e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length))}(s)){const e=wA(Sd(a,(e=>e.vastAd.mediaFiles)));throw new fc({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new fc({code:"NO_AD_TO_DISPLAY",details:void 0})}function Qr(e,t){return cc(e,(e=>e.adType===t))}function Jr(e,t){const i=function(e,t){const i={};return ot(e).forEach((r=>{i[r]=t(e[r],r)})),i}(t,((t,i)=>e.style[i]));return nt(e,t),Z((()=>{nt(e,i)}))}function Zr(e){const t=e.getRootNode;if(i(t))return t.call(e);let r=e;for(;r.parentNode;)r=r.parentNode;return r}function $r(e){return!!e&&"ShadowRoot"===Ll(e)}function en(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=Zr(i);if(!$r(e)||!Tv(e.host))return!1;i=e.host}return!1}function tn(e,t){const i={};return ot(t).forEach((t=>{i[t]=e.getAttribute(t)})),at(e,t),Z((()=>{at(e,i)}))}function rn(e){e&&"function"===typeof e.catch&&e.catch((e=>{}))}function nn(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&d(i)?i:void 0}function on(e){if(!wv)return Promise.reject();const t=(i=e.play)[Iv]||i;var i;if(d(t))return t.call(e);const r=nn("HTMLVideoElement")||nn("HTMLMediaElement");if(r)return r.call(e);const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const o=nn("HTMLMediaElement",Re(n).contentWindow);if(o){const t=o.call(e);return ke(n),t}return e.play()}function an(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);const t=s(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1}(e))return An({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:kv.OrsaySmartTV})}function sn(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);const t=s(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1}(e))return An({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:kv.PlayStationSmartTV})}function ln(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);return s(e).toLowerCase().indexOf("tizen")>-1}(e))return function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=s(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}(e);return 2===t.major&&3===t.minor}(e)?An({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:kv.Tizen23SmartTV}):An({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:kv.TizenSmartTVModern})}function dn(e){if(void 0===e&&(e=window),function(e){void 0===e&&(e=window);return s(e).toLowerCase().indexOf("web0s")>-1}(e))return An({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:kv.WebOSSmartTV})}function cn(e,t,i,r){const n=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),o=xv?n:n.capture,a=n.once&&!Bv?function(e){s(),i.call(this,e)}:i,s=()=>{Lv(e,t,a,o)};return Vv(e,t,a,o),s}function un(e,t){void 0===t&&(t={});let i=0;const r=[],n=(t,n)=>{r.push(cn(e,t,n,Fv)),clearTimeout(i)},o=()=>function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];dd(e)&&e.forEach((e=>{"function"===typeof e&&e(...i)}))}(r),a=new Promise(((r,o)=>{const a=t=>{e.paused&&o(t)},s=on(e);if(a(Uv.VideoTagPaused),n("durationchange",(()=>a(Uv.VideoTagPausedAfterDurationChange))),n("error",(()=>a(Uv.VideoTagPausedAfterError))),n("pause",(()=>o(Uv.PauseEvent))),n("playing",(()=>{r(Uv.PlayingEvent)})),s)t.useProgressEvent&&n("progress",(()=>{r(Uv.ProgressEvent)})),s.then((()=>r(Uv.PromiseResolve))).catch((e=>o(function(e){return e?Uv.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":Uv.PromiseReject}(e))));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout((()=>{o(Uv.Timeout)}),t.timeoutForNonPromisePlay))}}));return a.then(o,o),a}function hn(e,t){const{paused:i}=e,r=t();return i||rn(on(e)),r}function pn(){return pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},pn.apply(this,arguments)}function An(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function mn(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Dv(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),An({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:kv.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),An({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:kv.YaBroAllowedToPlay})):(t(),An({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:kv.YaBroAllowedToPlay})))}(e));const t=dn();if(void 0!==t)return Promise.resolve(t);const i=an();if(void 0!==i)return Promise.resolve(i);const r=sn();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(pn({},Wv,{detectionMethod:kv.TizenAVPlay}));const n=ln();if(void 0!==n)return Promise.resolve(n);return Cv&&bv<=9||Hv?Promise.resolve(pn({},jv,{detectionMethod:kv.IOS9OrLess})):wv?zv?Promise.resolve(pn({},Wv,{detectionMethod:kv.OldIE})):void 0:Promise.resolve(pn({},jv,{detectionMethod:kv.HTML5VideoIsNotSupported}))}function vn(){return vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},vn.apply(this,arguments)}function _n(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!u(i)||!u(i.data_params))return;const r=$u(i.data_params);if(!u(r))return;let n=null==(t=r.click_url)?void 0:t.action_button;const o=rc.getFlagValueAndActivateTestId("CHANGE_CLICK_THROUGH_LOGIC");var a,s;if("ACTION_BUTTON_PRIORITY"===o)n=(null==(a=r.click_url)?void 0:a.action_button)||(null==(s=r.click_url)?void 0:s.text_name);else if("TEXT_NAME_PRIORITY"===o){var l,d;n=(null==(l=r.click_url)?void 0:l.text_name)||(null==(d=r.click_url)?void 0:d.action_button)}return f(n)?n:void 0}function gn(e){return Ee(e)&&function(e){return x(e)&&Math.floor(e)===e}(e)}function yn(e){return!D(e).length}function fn(e){if(!u(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!u(t)||!u(t.data_params))return[];const i=$u(t.data_params);if(!u(i)||!u(i.text))return[];const r=i.text,n=i.unmoderated||r.unmoderated||{};return o_(n.images)}function Sn(e){var t,i;if(!u(e))throw new fc({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:r,LEGAL_TEXT:n,HAS_LEGAL:o}=e,a=$u(null!=(t=null==r?void 0:r.data_params)?t:{}),{warning:s,dynamic_disclaimer:l,banner_flags:d}=null!=(i=null==a?void 0:a.text)?i:{},c=null!=d?d:[],h=M(c,"medicine"),p=M(c,"dietarysuppl"),A=M(c,"distance_sales"),m=o&&(null==n?void 0:n.trim())&&n,v=f(s)&&"1"===l?s:void 0;(o||f(m)||f(v)||h||p||A)&&s_({HAS_LEGAL:o,LEGAL_TEXT:n,dynamic_disclaimer:l,warning:s,hasDrugDisclaimer:h,hasDietarysupplDisclaimer:p,hasDistanceSales:A});return{hasDrugDisclaimer:h,hasDietarysupplDisclaimer:p,hasDistanceSales:A,legalInfoText:m||v||void 0}}function Tn(){return Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Tn.apply(this,arguments)}function En(e,t,i){const r=()=>Sd(e,(e=>e.getValue()));let n=t(...r());i(n);const o=()=>{const e=t(...r());n!==e&&(n=e,i(e))},a=Sd(e,(e=>e.add(o)));return()=>{pe(a)}}function bn(e,t){if(!t)return;if(!function(e){return M(B_,e)}(e))return;const i=D(t);for(const r of i){const t=M_[r][e];Xc.event({name:t,probability:lc,data:void 0})}}function Cn(e,t){let{width:i,height:r}=e;const n=Sd([i,r],(e=>Math.round(e))),o=Math.min(...n),a=Math.max(...n);return t?o>=160&&a*o>=48e3:o>=180&&a*o>=57600}function On(e,t){let r=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||!i(t.querySelector))&&t.querySelector(":hover")===e}(e);r&&t(!0);const n=ve({element:e,eventName:"mouseenter",listener:()=>{r||(r=!0,t(!0))}}),o=ve({element:e,eventName:"mouseleave",listener:()=>{r&&(r=!1,t(!1))}});return()=>{n(),o()}}function wn(){return wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},wn.apply(this,arguments)}function Pn(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return cc(W_,(e=>{let{enabled:i}=e;return i in t}))}(e);if(i.length>0)return i[0];const r=function(e,t){var i,r;return void 0===e&&(e=window),void 0===t&&(t=null!=(i=null==(r=e.HTMLVideoElement)?void 0:r.prototype)?i:{}),cc(W_,(e=>{let{enabled:i}=e;return i in t}))}(e,t);return r.length>0?r[0]:void 0}function In(e,t){const i=Pn(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}function Dn(e,t){const i=In(e);return!!i&&i.contains(t)}function Nn(e){const{videoWidth:t,videoHeight:i}=e;if(Ee(t)&&Ee(i))return{width:t,height:i}}function Rn(e){let{win:t,slotSize:r,slotVisibilityRatio:n,videoSlotSize:o,adPodId:a,videoNode:s,bufferingTime:l,adBreakType:d,adFormatType:c}=e;const u=function(e){void 0===e&&(e=window);if(void 0===e.screen)return j_;const{width:t=j_.width,height:i=j_.height}=e.screen;return{width:t,height:i}}(t),h=u.width*u.height,p=r.width*r.height,A=0===h?0:p/h,m=Ar(t),v=function(e){var t;void 0===e&&(e=window);const{navigator:i={}}=null!=(t=e)?t:{},{connection:r={}}=i;if("number"===typeof r.downlink)return r.downlink;if("number"===typeof r.downlinkMax)return r.downlinkMax;const n=r.type;if("string"===typeof n||"number"===typeof n)switch(n){case"BLUETOOTH":return 3;case X_:return.384;case K_:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case G_:case"ETHERNET":case Y_:case"WIFI":case"MIXED":return 10}return-1}(t),_=s?Nn(s):su.videoContentSize;let g=su.videoAvatarSize,y=su.videoFramesInfo,f=su.videoSrc,S=su.videoCurrentSrc,T=su.videoMuted,E=su.videoVolume,b=su.currentTime,C=su.bufferingTimeRatio,O=su.remainingBufferedTime,w=su.isFullscreen;if(s){const{innerSize:e,adjacentSize:n,extraHorizontalSpace:a}=Tr({slotSize:r,videoContentSize:_,videoSlotSize:o});g={width:a?n:e,height:a?e:n},y=Ce(s),f=s.src,S=s.currentSrc,T=s.muted,E=s.volume;const d=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!x(e.buffered.length)||!i(e.buffered.start)||!i(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map((e=>{let{start:t,end:i}=e;return{start:t,end:i}})).sort(((e,t)=>e.start-t.start)),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],n=i[i.length-1];n.end<e.start?i.push(e):n.end<e.end&&(n.end=e.end)}return i}(t)}(s);b=s.currentTime;const c=(P=b,Lu(d,(e=>{let{start:t,end:i}=e;return t<=P&&P<=i})));c&&(O=c.end-b),x(b)&&x(l)&&l+b>0&&(C=l/(l+b)),w=Dn(t,s)}var P;const{value:I}=br({videoContentSize:_,slotSize:r});let D=su.videoToDevicePixelRatio;return Ee(I)&&(D=I/m),{visibility:n,size:r,adPodId:a,relativeSizeRatio:A,screenSize:u,devicePixelRatio:m,downlink:v,videoContentSize:_,videoSlotSize:o,videoAvatarSize:g,videoPixelRatio:I,videoToDevicePixelRatio:D,videoFramesInfo:y,videoSrc:f,videoCurrentSrc:S===f?void 0:S,videoMuted:T,videoVolume:E,bufferingTime:l,currentTime:b,bufferingTimeRatio:C,remainingBufferedTime:O,adBreakType:d,adFormatType:c,isFullscreen:w}}function kn(e){return function(e,t){let i=e;return Cd(k(t),(r=>{let[n,o]=r;if(void 0===o)return;const a="["+n+"]";if(o!==a)for(;i.indexOf(a)>-1;)Math.random()<sc&&Xc.event({name:"ReplaceVastMacro",data:{macroName:n,macroValue:o,stringToReplace:e,macros:t}}),i=i.replace(a,o)})),i}(e,J_)}function Vn(e){let{trackingUrls:t,options:i,sendBeaconParams:r}=e;if(!Array.isArray(t))return;const n=cc(t,ei),o=Sd(n,kn),a=Sd(o,(e=>Pe({url:e,options:i,win:window})));Cd(a,(e=>Te(e,r)))}function Ln(e,t){void 0===t&&(t=window);return("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function Bn(e){return!!u(e)&&Z_(e)}function Mn(e,t,i){let r;const n=new jh,o=En(e,t,(e=>{r=e,n.dispatch(e)})),a=new Wh(r,i),s=n.add(a);return{valueSignal:a,teardown:()=>{s(),o()}}}function xn(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!$_.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function Un(e,t,i){const r=ne(Sd(k(t),(e=>{let[t,i]=e;return[tg(t),i]})));return eg(e,r,i)}function Fn(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:rg?Math.max(r.clientWidth,(null==i?void 0:i.innerWidth)||0):(null==i?void 0:i.innerWidth)||r.clientWidth||t.body.clientWidth,winHeight:rg?Math.max(r.clientHeight,(null==i?void 0:i.innerHeight)||0):(null==i?void 0:i.innerHeight)||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function Hn(e){let{width:t,height:i,top:r,left:n,winWidth:o,winHeight:a}=e;const s=n+t,l=r+i,d=W(n,0,o),c=W(r,0,a);return{winWidth:o,winHeight:a,left:d,top:c,width:W(s,d,o)-d,height:W(l,c,a)-c}}function zn(e,t){return e.width*e.height/(t.width*t.height)}function jn(e){const t=function(e){return[Fn(e),...Sd(l(e),Fn)]}(e);let i=Hn(t[0]),r=zn(i,t[0]);for(let a=1;a<t.length;a++){const e=t[a];i=Hn((n=i,{winWidth:(o=e).winWidth,winHeight:o.winHeight,left:n.left+o.left,top:n.top+o.top,width:n.width,height:n.height})),r=zn(i,t[0])}var n,o;return r}function Wn(e,t){const i=function(e){const t=Wc(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?ve({element:e,eventName:i,listener:()=>{t(ue(e))}}):Ae}function Gn(e){return Cd(D(O_),(t=>{const i=O_[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){Xc.error({error:new fc({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Xc.error({error:new fc({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})})),Cd(D(w_),(t=>{const i=w_[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(n){Xc.error({error:new fc({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else Xc.error({error:new fc({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})})),e}function Yn(){return Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Yn.apply(this,arguments)}function Xn(){return Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xn.apply(this,arguments)}function Kn(){return Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Kn.apply(this,arguments)}function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},qn.apply(this,arguments)}function Qn(e){return Array.isArray(e)?cc(e,(e=>"string"===typeof e&&e.length>0)):[]}function Jn(e,t){const i=e[t],{AUCTION_DC_PARAMS:r}=e,n=function(e){if(!u(e))return;const{data_params:t}=e;if(!u(t))return;const{misc:i}=t;if(!u(i))return;const{object_id:r}=i,n=t[r];return u(n)?n:void 0}(r),o=null==n?void 0:n[t],a=null==n?void 0:n.unmoderated;return{rootField:i,bannerParametersField:o,unmoderatedBannerParametersField:u(a)?a[t]:void 0}}function Zn(e){const t=[];if(!u(e))return void 0!==e&&t.push(new fc({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t};return{measurers:Lt(e,((i,r)=>r!==fg&&(u(i)?!!function(e){return e===fg||-1!==yg.indexOf(e)}(r)||(t.push(new fc({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new fc({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)))),errors:t}}function $n(){return $n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},$n.apply(this,arguments)}function eo(e){return u(e)?ae(Sg,((t,i)=>Qn(e[i]))):Np(Sg)}function to(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!u(i)&&"sad"===i.sad}function io(e){if(!e)return{parameters:void 0,errors:[new fc({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(c){return{parameters:void 0,errors:[new fc({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:n,start:o,trackingEvents:a,viewedComplete:s}=t,{measurers:l,errors:d}=function(e){const t=[],{rootField:i,bannerParametersField:r,unmoderatedBannerParametersField:n}=Jn(e,"measurers");Boolean(n)&&t.push(new fc({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:o,errors:a}=Zn(n),{measurers:s,errors:l}=Zn(r),{measurers:d,errors:c}=Zn(i);return t.push(...a,...l,...c),Kd([o,s,d],((e,t)=>{const i=D(t).length>0;return e+Number(i)}),0)>1&&t.push(new fc({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:$n({},o,s,d),errors:t}}(t);return{parameters:{measurers:l,viewability:eo(i),dwell:eo(n),trackingEvents:kt(Rt(a),{encounters:Qn(r),viewedComplete:Qn(s),start:Qn(o)}),skipAdSdkDetect:to(t)},errors:d}}function ro(e){return e<2?1e3:2===e?3e3:5e3}function no(){return no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},no.apply(this,arguments)}function oo(e,t,i){void 0===i&&(i={});const r=e,{onStop:n=Ae,onInitMeasurer:o=Ae,onTrackEvent:a=Ae,onExecutionError:s=Ae,onAdError:l=Ae,onPlayingStateChange:d=Ae,onSlotHoverStateChange:c=Ae,onSlotVisibilityStateChange:u=Ae,onSlotSizeChange:h=Ae}=i,p=new Eg(r,t,{onStop:n,onInitMeasurer:o,onTrackEvent:a,onExecutionError:s,onAdError:l,onPlayingStateChange:d,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h}),A=function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r}=t;const n=ae(b_,((e,t)=>function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(t,r)}));return Cd(D(C_),(t=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})})),n}(r,p);return{measurableVPAIDCreative:A,userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function ao(){return ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ao.apply(this,arguments)}function so(e){var t,i;let{eventName:r,trackingEventDetails:n,trackingUrls:o,options:{devicePixelRatio:a,downlink:s,relativeSizeRatio:l,screenSize:d,size:c,visibility:u,videoContentSize:h,videoSlotSize:p,videoAvatarSize:A,videoPixelRatio:m,videoToDevicePixelRatio:v,videoFramesInfo:_,videoSrc:g,videoCurrentSrc:y,videoMuted:f,videoVolume:S,bufferingTime:T,bufferingTimeRatio:E,currentTime:b,remainingBufferedTime:C,adBreakType:O,adFormatType:w,isFullscreen:P,adPodId:I},pixelsSource:D}=e;const N=Cg[r],R=void 0===N?1:N+1;Cg[r]=R;const k={videoSlotSize:p,videoContentSize:h,videoAvatarSize:{width:Math.round(A.width),height:Math.round(A.height)},videoPixelRatio:m,videoToDevicePixelRatio:v,videoFramesInfo:_,videoSrc:g,bufferingTime:T,bufferingTimeRatio:E,currentTime:b,remainingBufferedTime:C},V={devicePixelRatio:a,downlink:s,relativeSizeRatio:l,screenSize:d,size:c,visibility:u,videoCurrentSrc:y,videoMuted:f,videoVolume:S,adBreakType:O,adFormatType:w,isFullscreen:P,adPodId:I},L=ao({trackingUrls:o,trackingEventDetails:n,isVisibilityReliable:Ru(),counterInBundle:R},k,V);1e3===R&&Xc.error({error:new fc({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:ao({eventName:r,eventTrackingsCounts:Cg},L)})});const B="vast"===D?(e=>"VastTracking_"+e)(r):(e=>"AdParametersTracking_"+e)(r),x="vast"===D&&M(bg,r)?ac:lc;Xc.event({name:B,probability:x,data:L,labels:{},queryParams:{"pcode-version":null==(t=ic.AdditionalStatsRootFields)?void 0:t.pcodeVersion,"widget-version":null==(i=ic.AdditionalStatsRootFields)?void 0:i.widgetVersion}})}function lo(e,t){const i=ve({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(n(),t())}}),r=ve({element:e,eventName:"playing",listener:()=>{e.duration>0&&(n(),t())}}),n=()=>{i(),r()};return n}function co(){return co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},co.apply(this,arguments)}function uo(e){const t=new kg(e),i=Gn(t),{measurableVPAIDCreative:r,userInteractionDispatchers:n}=oo(i,e,{onStop:e=>{let{error:t,reason:i}=e;t?Xc.error({error:t}):Xc.event({name:"AdCreativeMeasured",probability:lc,data:{stopReason:i}})},onInitMeasurer:e=>{!function(e){if("yandexTestMeasurer"===e.measurerName)return;const t=L_[e.measurerName];Xc.event({name:t,probability:lc,data:void 0})}(e)},onTrackEvent:e=>{so(e)},onExecutionError:e=>{Xc.error({error:e})},onAdError:e=>{let{error:t}=e;Xc.errorToStats(t)}});return{creative:r,wrapper:t,userInteractionDispatchers:n}}function ho(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function po(e){return Boolean(e.IntersectionObserver)&&!p(e.IntersectionObserver)}function Ao(e){var t,i,r,n,o,a,s,l;const d=null!=(t=null!=(i=null!=(r=null!=(n=e.requestAnimationFrame)?n:e.mozRequestAnimationFrame)?r:e.webkitRequestAnimationFrame)?i:e.msRequestAnimationFrame)?t:t=>e.setTimeout(t,16.666666666666668),c=null!=(o=null!=(a=null!=(s=null!=(l=e.cancelAnimationFrame)?l:e.mozCancelAnimationFrame)?s:e.webkitCancelAnimationFrame)?a:e.msCancelAnimationFrame)?o:t=>e.clearTimeout(t);return{requestAnimationFrame:d.bind(e),cancelAnimationFrame:c.bind(e)}}function mo(e,t){for(var i in t)e[i]=t[i];return e}function vo(e){var t=e.parentNode;t&&t.removeChild(e)}function _o(e,t,i){var r,n,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?n=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Hg.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return go(e,a,r,n,null)}function go(e,t,i,r,n){var o={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==n?++jg:n};return null!=zg.vnode&&zg.vnode(o),o}function yo(e){return e.children}function fo(e,t){this.props=e,this.context=t}function So(e,t){if(null==t)return e.__?So(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?So(e):null}function To(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return To(e)}}function Eo(e){(!e.__d&&(e.__d=!0)&&Wg.push(e)&&!bo.__r++||Yg!==zg.debounceRendering)&&((Yg=zg.debounceRendering)||Gg)(bo)}function bo(){for(var e;bo.__r=Wg.length;)e=Wg.sort((function(e,t){return e.__v.__b-t.__v.__b})),Wg=[],e.some((function(e){var t,i,r,n,o,a;e.__d&&(o=(n=(t=e).__v).__e,(a=t.__P)&&(i=[],(r=mo({},n)).__v=n.__v+1,Ro(a,n,r,t.__n,void 0!==a.ownerSVGElement,null!=n.__h?[o]:null,i,null==o?So(n):o,n.__h),ko(i,n),n.__e!=o&&To(n)))}))}function Co(e,t,i,r,n,o,a,s,l,d){var c,u,h,p,A,m,v,_=r&&r.__k||qg,g=_.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?go(null,p,null,null,p):Array.isArray(p)?go(yo,{children:p},null,null,null):p.__b>0?go(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=_[c])||h&&p.key==h.key&&p.type===h.type)_[c]=void 0;else for(u=0;u<g;u++){if((h=_[u])&&p.key==h.key&&p.type===h.type){_[u]=void 0;break}h=null}Ro(e,p,h=h||Kg,n,o,a,s,l,d),A=p.__e,(u=p.ref)&&h.ref!=u&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(u,p.__c||A,p)),null!=A?(null==m&&(m=A),"function"==typeof p.type&&null!=p.__k&&p.__k===h.__k?p.__d=l=Oo(p,l,e):l=wo(e,p,h,_,A,l),d||"option"!==i.type?"function"==typeof i.type&&(i.__d=l):e.value=""):l&&h.__e==l&&l.parentNode!=e&&(l=So(h))}for(i.__e=m,c=g;c--;)null!=_[c]&&("function"==typeof i.type&&null!=_[c].__e&&_[c].__e==i.__d&&(i.__d=So(r,c+1)),Bo(_[c],_[c]));if(v)for(c=0;c<v.length;c++)Lo(v[c],v[++c],v[++c])}function Oo(e,t,i){var r,n;for(r=0;r<e.__k.length;r++)(n=e.__k[r])&&(n.__=e,t="function"==typeof n.type?Oo(n,t,i):wo(i,n,n,e.__k,n.__e,t));return t}function wo(e,t,i,r,n,o){var a,s,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==i||n!=o||null==n.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(n),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==n)break e;e.insertBefore(n,o),a=o}return void 0!==a?a:n.nextSibling}function Po(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||Qg.test(t)?i:i+"px"}function Io(e,t,i,r,n){var o;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)i&&t in i||Po(e.style,t,"");if(i)for(t in i)r&&i[t]===r[t]||Po(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=i,i?r||e.addEventListener(t,o?No:Do,o):e.removeEventListener(t,o?No:Do,o);else if("dangerouslySetInnerHTML"!==t){if(n)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function Do(e){this.l[e.type+!1](zg.event?zg.event(e):e)}function No(e){this.l[e.type+!0](zg.event?zg.event(e):e)}function Ro(e,t,i,r,n,o,a,s,l){var d,c,u,h,p,A,m,v,_,g,y,f=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,o=[s]),(d=zg.__b)&&d(t);try{e:if("function"==typeof f){if(v=t.props,_=(d=f.contextType)&&r[d.__c],g=d?_?_.props.value:d.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in f&&f.prototype.render?t.__c=c=new f(v,g):(t.__c=c=new fo(v,g),c.constructor=f,c.render=Mo),_&&_.sub(c),c.props=v,c.state||(c.state={}),c.context=g,c.__n=r,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=f.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=mo({},c.__s)),mo(c.__s,f.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==f.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==f.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,g)||t.__v===i.__v){c.props=v,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=g,c.props=v,c.state=c.__s,(d=zg.__r)&&d(t),c.__d=!1,c.__v=t,c.__P=e,d=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(r=mo(mo({},r),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),y=null!=d&&d.type===yo&&null==d.key?d.props.children:d,Co(e,Array.isArray(y)?y:[y],t,i,r,n,o,a,s,l),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),m&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Vo(i.__e,t,i,r,n,o,a,l);(d=zg.diffed)&&d(t)}catch(e){t.__v=null,(l||null!=o)&&(t.__e=s,t.__h=!!l,o[o.indexOf(s)]=null),zg.__e(e,t,i)}}function ko(e,t){zg.__c&&zg.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){zg.__e(e,t.__v)}}))}function Vo(e,t,i,r,n,o,a,s){var l,d,c,u=i.props,h=t.props,p=t.type,A=0;if("svg"===p&&(n=!0),null!=o)for(;A<o.length;A++)if((l=o[A])&&(l===e||(p?l.localName==p:3==l.nodeType))){e=l,o[A]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=n?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),o=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(o=o&&Hg.call(e.childNodes),d=(u=i.props||Kg).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(null!=o)for(u={},A=0;A<e.attributes.length;A++)u[e.attributes[A].name]=e.attributes[A].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,i,r,n){var o;for(o in i)"children"===o||"key"===o||o in t||Io(e,o,null,i[o],r);for(o in t)n&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||i[o]===t[o]||Io(e,o,t[o],i[o],r)}(e,h,u,n,s),c)t.__k=[];else if(A=t.props.children,Co(e,Array.isArray(A)?A:[A],t,i,r,n&&"foreignObject"!==p,o,a,o?o[0]:i.__k&&So(i,0),s),null!=o)for(A=o.length;A--;)null!=o[A]&&vo(o[A]);s||("value"in h&&void 0!==(A=h.value)&&(A!==e.value||"progress"===p&&!A)&&Io(e,"value",A,u.value,!1),"checked"in h&&void 0!==(A=h.checked)&&A!==e.checked&&Io(e,"checked",A,u.checked,!1))}return e}function Lo(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){zg.__e(e,i)}}function Bo(e,t,i){var r,n;if(zg.unmount&&zg.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Lo(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){zg.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&Bo(r[n],t,"function"!=typeof e.type);i||null==e.__e||vo(e.__e),e.__e=e.__d=void 0}function Mo(e,t,i){return this.constructor(e,i)}function xo(e,t,i){var r,n,o;zg.__&&zg.__(e,t),n=(r="function"==typeof i)?null:i&&i.__k||t.__k,o=[],Ro(t,e=(!r&&i||t).__k=_o(yo,null,[e]),n||Kg,Kg,void 0!==t.ownerSVGElement,!r&&i?[i]:n?null:t.firstChild?Hg.call(t.childNodes):null,o,!r&&i?i:n?n.__e:t.firstChild,r),ko(o,e)}function Uo(e,t){var i={__c:t="__cC"+Xg++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some(Eo)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i}function Fo(e,t){zg.__h&&zg.__h(Zg,e,ey||t),ey=0;var i=Zg.__H||(Zg.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function Ho(e){return ey=1,function(e,t,i){var r=Fo(Jg++,2);return r.t=e,r.__c||(r.__=[i?i(t):Zo(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=Zg),r.__}(Zo,e)}function zo(e,t){var i=Fo(Jg++,3);!zg.__s&&Jo(i.__H,t)&&(i.__=e,i.__H=t,Zg.__H.__h.push(i))}function jo(e,t){var i=Fo(Jg++,4);!zg.__s&&Jo(i.__H,t)&&(i.__=e,i.__H=t,Zg.__h.push(i))}function Wo(e){return ey=5,Go((function(){return{current:e}}),[])}function Go(e,t){var i=Fo(Jg++,7);return Jo(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function Yo(e,t){return ey=8,Go((function(){return e}),t)}function Xo(e){var t=Zg.context[e.__c],i=Fo(Jg++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(Zg)),t.props.value):e.__}function Ko(){ty.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(qo),e.__H.__h.forEach(Qo),e.__H.__h=[]}catch(jg){e.__H.__h=[],zg.__e(jg,e.__v)}})),ty=[]}function qo(e){var t=Zg;"function"==typeof e.__c&&e.__c(),Zg=t}function Qo(e){var t=Zg;e.__c=e.__(),Zg=t}function Jo(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function Zo(e,t){return"function"==typeof t?t(e):t}function $o(){return $o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},$o.apply(this,arguments)}function ea(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=ea(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ta(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=ea(e))&&(r&&(r+=" "),r+=t);return r}function ia(e){const[t,i]=Ho(e.getValue());return zo((()=>(i(e.getValue()),e.add(i))),[e]),t}function ra(e,t){var i;const r=(null!=(i=e.ownerDocument)?i:document).createElement("style");return r.type="text/css",r.textContent=t,e.appendChild(r),r}function na(e){const t=Xo(Ay);jo((()=>_y.useStyleModule(t.element,e)),[e])}function oa(e){let{buttonText:t,onClick:i}=e;return{buttonText:t,openClickThroughUrl:i}}function aa(){return aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},aa.apply(this,arguments)}function sa(e){var t,i,r;const n=[oc],o=null==(t=e.adParametersObject)||null==(i=t.AUCTION_DC_PARAMS)||null==(r=i.data_params)?void 0:r.misc;if(u(o)){const{object_id:e="",pageId:t="",impId:i="",campaignid:r="",bidreqid:a=""}=o;n.push(e,t,i,r,a)}return n.join()}function la(e){return void 0===e&&(e=window),String(e.location)}function da(e){if(!u(e))return!1;if(!f(e.vendor))return!1;if(!f(e.javaScriptResource))return!1;const t=e.verificationParameters;return!(!f(t)&&!u(t))&&!(void 0!==e.trackingEvents&&!u(e.trackingEvents))}function ca(e){if(!Array.isArray(e))return!1;for(const t of e)if(!da(t))return!1;return!0}function ua(e){return cc(e,(e=>{const{javaScriptResource:t,trackingEvents:i}=e;try{const e=new URL(t);if(Xy.has(e.hostname))return!0}catch(Kg){Xc.error({error:new fc({code:"OMID_COULD_NOT_CONFIRM_JAVASCRIPT_RESOURCE",details:{errorMessage:Kg.message,javaScriptResource:t}})})}const r=i.verificationNotExecuted;return f(r)&&Te(r.replace("[REASON]","1")),Xc.event({name:"OmidVerificationJavascriptResourceIsNotSupported",data:{parameters:JSON.stringify(e)}}),!1}))}function ha(){return ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ha.apply(this,arguments)}function pa(e,t){const i=function(e){switch(e){case"limited":return"limited";case"domain":return"domain";default:return"full"}}(t.omidAccessMode);if("TRUE"===rc.getFlagValueAndActivateTestId("VAS_ENABLE_OMSDK_TEST_MODE"))return[{vendorKey:"IAS",javaScriptResource:"https://static.adsafeprotected.com/fw.js?ias_campId=CAMP_ID&ias_placementId=AD_GROUP_ID",accessMode:"full",verificationParameters:'{"config":"/rjss/yandex/82444/58348904/skeleton.js?iasProxyPartnerId=32908","host":"https://jsconfig.adsafeprotected.com"}',trackingEvents:{}},{vendorKey:"iabtechlab.com-omid",javaScriptResource:By,accessMode:"full",verificationParameters:"iabtechlab-Yandex",trackingEvents:{}}];const r=function(e,t){return Sd(e,(e=>ha({},e,{accessMode:t})))}(e.adVerifications,i),n=function(e,t){if(!e)return[];const{rootField:i,bannerParametersField:r,unmoderatedBannerParametersField:n}=Jn(e,"measurers"),o=u(i)&&i.omid,a=u(r)&&r.omid,s=u(n)&&n.omid,l=cc([o,a,s],Boolean);if(0===l.length)return[];const d=cc(l,ca);l.length!==d.length&&Xc.error({error:new fc({code:"OMID_OBJECT_FROM_AD_PARAMETERS_IS_INVALID",details:{adParameters:JSON.stringify(e)}})});const c=d.shift();if(!Array.isArray(c))return[];return Sd(c,(e=>{let{vendor:i,javaScriptResource:r,trackingEvents:n,verificationParameters:o}=e;return{vendorKey:i,javaScriptResource:r,trackingEvents:null!=n?n:{},verificationParameters:f(o)?o:JSON.stringify(o),accessMode:t}}))}(e.adParametersObject,i),o=ua([...r,...n]);return 0!==o.length?o:void 0}function Aa(e){let{title:t,descriptionText:i,openClickThroughUrl:r,disableOverlay:n,themeEmptyParameters:o,clickUrl:a,packshotNewDesignMode:s}=e;return{title:t,descriptionText:i,isPackshotClickable:void 0===o||"FULLY_CLICKABLE"===s,openClickThroughUrl:r,disableOverlay:n,clickUrl:a,packshotNewDesignMode:s}}function ma(){return ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ma.apply(this,arguments)}function va(e){let{height:t,width:i}=e;const r=Math.min(t,i);if(r<300)return 40;if(r>1080)return 70;return 40+30*((r-300)/780)}function _a(){return _a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_a.apply(this,arguments)}function ga(e){var t;if(!fe(e)&&!ye(e)||!Ic)return e;const i=zl[zl.length-1];return function(e,t,i){if(void 0===i)return e;const r=E(e),n=C(r.search);return n[t]=i,b(T({},r,{search:O(n)}))}(e,"target_ref",(null!=(t=null==i?void 0:i.ownerDocument)?t:document).referrer)}function ya(e){var t;if(null!=(t=!Boolean(e.ownerDocument))?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,r=function(e,t){try{if(p(e.attachShadow))return e.attachShadow(t);if(p(e.createShadowRoot))return e.createShadowRoot();if(p(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(Kg){}return null}(e,{mode:"open"});if(!r)return null;const n=i.document.createElement("div");return r.appendChild(n),n}function fa(e,t){if(e===t)return!0;if(!u(e)||!u(t))return!1;if(wd(e)!==wd(t))return!1;const i=D(e),r=D(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!fa(e[n],t[n]))return!1}return!0}function Sa(e){return e.getIsConvertedFromVideoVast()?"video":et(e.vastAd)}function Ta(){return Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ta.apply(this,arguments)}function Ea(e){try{z("Track event=["+e.eventName+"]"),so(e=Ta({},e,{options:ba(e.options)})),Vn(e)}catch(t){Xc.error({error:new fc({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function ba(e){const{size:t,screenSize:i,videoContentSize:r}=e;return Ta({},e,{size:ae(t,Math.round),screenSize:ae(i,Math.round),videoContentSize:r&&ae(r,Math.round)})}function Ca(){return Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ca.apply(this,arguments)}function Oa(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,getterError:n,setterError:o}=t;const a=ae(b_,((t,n)=>function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];if("function"===typeof e[n])try{return e[n].apply(e,o)}catch(s){i({methodName:n,args:o,error:s})}else r({methodName:n,args:o})}));return oe(C_,((t,i)=>{Object.defineProperty(a,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){n({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){o({propertyName:i,error:r,value:t})}}})})),a}(t,{methodCallError:e=>{let{methodName:t,args:n,error:o}=e;Xc.error({error:new fc(o,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:Ca({methodName:t,args:n},r())})}),q(o)},methodAbsent:e=>{let{methodName:t,args:n}=e;Xc.error({error:new fc({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:Ca({methodName:t,args:n},r())})})},getterError:e=>{let{propertyName:t,error:n}=e;Xc.error({error:new fc(n,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:Ca({propertyName:t},r())})}),q(n)},setterError:e=>{let{propertyName:t,value:n,error:o}=e;Xc.error({error:new fc(o,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:Ca({propertyName:t,value:n},r())})}),q(o)}})}function wa(e){"function"===typeof(null==e?void 0:e.catch)&&e.catch((()=>{}))}function Pa(){return Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pa.apply(this,arguments)}function Ia(){return Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ia.apply(this,arguments)}function Da(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return u(t)&&f(t[Yu])?t[Yu]:f(i)?i:void 0}function Na(e){const t=e.packshot_duration;if(!Ee(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!f(i))return;const r=_n(e);if(void 0===r)return;const{title:n,hasTitle:o}=Me(e);return{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:r,packshotTitle:!1===o?void 0:n,packshotButtonText:Da(e)}}function Ra(e,t){const{adParametersObject:i}=e;if(!u(i))return;const r=Na(i),n=null==r?void 0:r.packshotImageUrl;if(n)return n;if(!u(i))return;const o=fn(i.adParameters);return 0!==o.length?(e=>{let{size:t,images:i}=e;const{width:r,height:n}=t,o=Sd(i,(e=>{let[t,i,r,n]=e;return{url:t,width:parseInt(i,10),height:parseInt(r,10),smartCenters:n?n["smart-centers"]:[]}})),a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],r=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),n=[];for(const o of i)if(o.width&&o.height&&o.url){const t=Ia({},e,{pixelRatio:r,image:o});n.push(Ff(t))}n.sort(((e,t)=>e.coeff-t.coeff));for(const o of n)if(o.coeff>1)return o;return null!=(t=n[n.length-1])?t:{}}({boundingRectangle:{width:r,height:n},images:o,stretch:!0});if(Boolean(a))return a.url;return})({size:t,images:o}):void 0}function ka(e,t){return Hf.indexOf(e)>=Hf.indexOf(t)}function Va(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:r}=e;if(ka(t,"start")){if(r){const e=r.params.animationParameters,t=r.params.videoParameters;if(e&&!r.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!r.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return ka(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function La(e){if(!Ti(e))return!1;const{adParametersObject:t}=e;return!!u(t)&&"theme-empty"===t.adCreativeConversionType}function Ba(e){if(!La(e))return;const t=Wf(e);if(!u(t))return;const{adParametersObject:i,parsedParameters:r}=t;if(!u(i)||!u(r))return;const n=_n(i);if(!n)return;const{greenUrl:o,targetUrl:a,domain:s,punyDomain:l,hasTitle:d,title:c,hasBody:h,body:p,hasAgeRestriction:A,ageRestriction:m,showTitleAndBody:v}=r;return{greenUrl:o,punyDomain:null!=l?l:s,clickUrl:n,targetUrl:a,label:Da(i),title:!1===d?void 0:c,body:!1===h?void 0:p,ageRestriction:A?m:void 0,showTitleAndBody:v}}function Ma(){return Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ma.apply(this,arguments)}function xa(e,t){const i=Np(Xp);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility;for(const r of Xf)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i}function Ua(){const e=Np(Xp);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const n=cc(i,(e=>Boolean(e)));return Kd(n,((e,t)=>xa(e,t)),e)}function Fa(e){const{imhoParams:t}=e;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Fi(i.url)}(e))return!1;if(zi(e)||Hi(e))return!1;if(Ti(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=N((()=>Zi(t.mediaFiles)));if(!i)return!1;const{videoMediaFiles:r}=i;if(0===r.length)return!1;if(Sh(r,(e=>!1===e.hasAudio)))return!1}return!t||t.showSoundButton}function Ha(e){if(zi(e)||Hi(e))return!1}function za(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null==t?void 0:t.showLabel,mute:Fa(e),skip:true,play:Ha(e)}};let n;return i&&(n=i.controlsSettings),Ua(r,n)}function ja(e){let{playbackParameters:t,vastAd:i,adBreak:r,isYandexAdCreative:n}=e;const o=Ua(za(i),t.controlsSettings),{skipDelay:a,eventName:s}=function(e){var t,i;let{vastAd:r}=e;const{skipTime:n,skipOffset:o}=r,a=null==(t=r.adParametersObject)||null==(i=t.playbackParameters)?void 0:i.skipDelay;return x(a)?(Xc.event({name:"UsingVastSkipDelayPlaybackParameter",probability:lc,data:{skipDelay:a}}),{skipDelay:a,eventName:void 0}):x(o)?x(n)?{skipDelay:n,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:o,eventName:void 0}:{skipDelay:0,eventName:void 0}}({vastAd:i});let l,d=a;if(Ee(a)){const e=rc.getFlagValueAndActivateTestId("VAS_SKIP_DELAY_SHIFT");if(e){const t=Number(e);x(t)&&(d+=t)}}void 0!==s&&Xc.event({name:s,probability:lc,data:void 0}),!0===t.backgroundBlur?l="blur":i.backgroundColor&&(l={color:i.backgroundColor});const c=!1===t.packshotSettings.isEnabled,h=u(i.adParametersObject)&&!c?Na(i.adParametersObject):void 0;let p;var A,m;"number"===typeof t.bufferFullTimeout?p=t.bufferFullTimeout:p=null!=(A=null==(m=i.playbackAdParameters)?void 0:m.bufferFullTimeout)?A:r.bufferFullTimeout;let v;var _,g;Ee(t.bufferEmptyLimit)?v=t.bufferEmptyLimit:v=null!=(_=null==(g=i.playbackAdParameters)?void 0:g.bufferEmptyLimit)?_:r.bufferEmptyLimit;let y;var S,T;Ee(t.videoTimeout)?y=t.videoTimeout:y=null!=(S=null==(T=i.playbackAdParameters)?void 0:T.videoTimeout)?S:r.videoTimeout;const E=Ee(t.vpaidTimeout)?t.vpaidTimeout:r.vpaidTimeout,b=i.adParametersObject?_n(i.adParametersObject):void 0;let C;f(t.clickThroughUrl)?C=t.clickThroughUrl:f(i.clickThrough)?C=i.clickThrough:f(b)&&(C=b);let O=d;return!n&&x(t.skipDelayForNonYandexCreatives)&&(O=t.skipDelayForNonYandexCreatives),{controlsSettings:o,background:l,skipDelay:O,bufferFullTimeout:p,bufferEmptyLimit:v,videoTimeout:y,vpaidTimeout:E,clickThroughUrl:C,packshotParameters:h,isPackshotDisabled:c}}function Wa(e){if("error"===e.reason)return e.details}function Ga(){return Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ga.apply(this,arguments)}function Ya(e){const{config:t,errors:r}=function(e){const t=[],r=u(e)?e:{};let n,o,a;if(Z_(r.backgroundSlot)?n=r.backgroundSlot:void 0!==r.backgroundSlot&&t.push(new fc({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),void 0!==r.skipDelayForNonYandexCreatives&&(x(r.skipDelayForNonYandexCreatives)&&r.skipDelayForNonYandexCreatives>=0?o=r.skipDelayForNonYandexCreatives:t.push(new fc({code:"INCORRECT_SKIP_DELAY_FOR_NON_YANDEX_CREATIVES_FORMAT",details:{value:r.skipDelayForNonYandexCreatives,stringValue:String(r.skipDelayForNonYandexCreatives),type:typeof r.skipDelayForNonYandexCreatives}}))),u(r.adSequence)&&j(r.adSequence.index)&&j(r.adSequence.count)){const{index:e,count:t}=r.adSequence;a={index:e,count:t}}return{config:{backgroundSlot:n,clickThroughCallback:i(r.clickThroughCallback)?r.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof r.clickThroughConfirmation?r.clickThroughConfirmation:void 0,renderSkin:i(r.renderSkin)?r.renderSkin:void 0,visibilitySlot:Z_(r.visibilitySlot)?r.visibilitySlot:void 0,retainLastMediaAfterPlayback:"boolean"===typeof r.retainLastMediaAfterPlayback?r.retainLastMediaAfterPlayback:void 0,allowedToHideVideoSlotAreaPortion:r.allowedToHideVideoSlotAreaPortion,skipDelayForNonYandexCreatives:o,disableSurveyCompleteScreen:"boolean"===typeof r.disableSurveyCompleteScreen?r.disableSurveyCompleteScreen:void 0,disableSurveyStartTimeout:"boolean"===typeof r.disableSurveyStartTimeout?r.disableSurveyStartTimeout:void 0,adSequence:a,enableNewSkin:!0===(null==r?void 0:r.enableNewSkin)},errors:t}}(e),{config:n,errors:o}=Ft(e);return{config:Ga({},t,n),errors:[...r,...o]}}function Xa(e){let{width:t}=e;return t<450?"small":t>1e3?"big":"middle"}function Ka(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")||function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===tS.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?Ae:tn(e,{pip:"false"}):Ae}function qa(e,t,i){const r=i.split(".");let n=e;for(let a=0;a<r.length-1;a++)n=n[r[a]];const o=r[r.length-1];if(void 0===n[o])n[o]=t;else if("object"===typeof n[o])for(const a in t)t.hasOwnProperty(a)&&qa(e,t[a],i+"."+a)}function Qa(e,t,i){e[i]||(e[i]={}),qa(e,t,i)}function Ja(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:r=!1}=t,n=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),o=n.shift();if(null==o||!o.startsWith("WEBVTT"))throw new Error('Must start with "WEBVTT"');const a=o.split("\n"),s=a[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===n.length&&1===a.length)return{valid:!0,strict:r,cues:[],errors:[]};if(!i&&a.length>1&&""!==a[1])throw new Error("Missing blank line after signature");const{cues:l,errors:d}=function(e,t){const i=[],r=cc(Sd(e,((e,r)=>{try{return function(e,t,i){let r="",n=0,o=.01,a="",s="";const l=cc(e.split("\n"),Boolean);if(l.length>0&&l[0].trim().startsWith("NOTE"))return;if(1===l.length&&!es(l[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(l.length>1&&!es(l[0])&&!es(l[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}l.length>1&&es(l[1])&&(r=l.shift());if("string"!==typeof l[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const d=l[0].split(" --\x3e ");if(2!==d.length||!Za(d[0])||!Za(d[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(n=$a(d[0]),o=$a(d[1]),i){if(n>o)throw new Error("Start timestamp greater than end (cue #"+t+")");if(o<=n)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&o<n)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=d[1].replace(rS,"").trim(),l.shift(),a=l.join("\n"),!a)return;return{identifier:r,start:n,end:o,text:a,styles:s}}(e,r,t)}catch(Kg){return void i.push(Kg)}})),Boolean);return{cues:r,errors:i}}(n,r);if(r&&d.length>0)throw d[0];const c=i?function(e){const t={};return Cd(e.slice(1),(e=>{const i=e.indexOf(":"),r=e.slice(0,i).trim(),n=e.slice(i+1).trim();t[r]=n})),D(t).length>0?t:void 0}(a):void 0,u={valid:0===d.length,strict:r,cues:l,errors:d};return i&&(u.meta=c),u}function Za(e){return rS.test(e)}function $a(e){const t=e.match(rS);if(null===t)throw new Error("Timestamp parse error");return 3600*parseFloat(t[1]||"0")+60*parseFloat(t[2])+parseFloat(t[3])}function es(e){return-1!==e.indexOf("--\x3e")}function ts(e,t){const{paused:i}=e,r=t();return i||wa(e.play()),r}function is(e,t){const i=()=>{const i=Nn(e);t(i)},r=[];return r.push(ve({element:e,eventName:"resize",listener:i}),Br(i)),()=>{pe(r)}}function rs(e,t,i){function n(){0!==s&&(clearTimeout(s),s=0)}let{threshold:o=aS,delay:a=sS}=void 0===i?{}:i,s=0,l=0,d=0;const c=cn(e,"click",(function(e){0!==s&&(n(),t(e))}),{passive:!0}),u=cn(e,"touchstart",(function(e){1===e.touches.length&&(l=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,n(),s=window.setTimeout(n,a))}),{passive:!0}),h=cn(e,"touchend",(function(e){0!==s&&(n(),t(e))}),{passive:!0}),p=cn(e,"touchmove",(function(e){if(0===s||!r(e.touches)||1!==e.touches.length)return void n();const{screenX:t,screenY:i}=e.changedTouches[0];(function(e,t){return Math.abs(l-e)>o||Math.abs(d-t)>o})(t,i)&&n()}),{passive:!0});return()=>{c(),u(),h(),p()}}function ns(e){const t=e.duration||0;let i=(r=e.currentTime,n=.001,Math.round(r/n)*n||0);var r,n;return t-i<.001&&(i=t),{currentTime:Math.max(0,i),duration:Math.max(0,t)}}function os(){return os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},os.apply(this,arguments)}function as(e){return e.muted?0:e.volume}function ss(e,t){const{parsedParameters:i}=Wf(e)||{};if(i)return function(e,t){if(e.hasDrugDisclaimer)return{text:qu("MOTION_DRUG_DISCLAIMER",t),mandatoryHeightPortion:_S};if(e.hasDietarysupplDisclaimer)return{text:qu("MOTION_DIETARYSUPPL_DISCLAIMER",t),mandatoryHeightPortion:.1};return}(i,t)}function ls(e){try{const{adFormatType:t}=$e(e.adParameters);if("survey"===t)return function(e){if(!u(e))return!1;const{pythia:t}=e;if(!u(t))return!1;const{extra:i}=t;return!!m(i)&&void 0!==C(i).bl_adg}(e.adParametersObject)}catch(Kg){}return!1}function ds(e,t,i){if(!e)return fS;const r=yS(e.controlsVisibility),n=Boolean(t.abuseUrl);return{isCloseAvailable:r&&n,isCloseDialogActive:"selection"===i}}function cs(e,t){if(void 0===e)return;return!!SS[e]&&Boolean(t)}function us(e){if(ic.VAS_USER_SESSION_RANDOM<=dc){const t=function(e,t){try{const i={hasMediaSourceConstructor:Boolean(zm),result:[]};return Cd(e,(e=>{const{type:r,codec:n}=e,o=xm(e);i.result.push({method:"video.canPlayType",type:r,codec:n,result:Tm(o,t)}),zm&&i.result.push({method:"MediaSource.isTypeSupported",type:r,codec:n,result:zm.isTypeSupported(o)})})),i}catch(i){return void Xc.error({error:new fc({code:"CODEC_PLAYABILITY_CHECK_ERROR",details:{error:i}})})}}(ES,e);t&&Xc.values({name:"CodecPlayabilityCheck",values:{},sensors:{},data:t,labels:{}})}}function hs(){return hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},hs.apply(this,arguments)}function ps(){return ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ps.apply(this,arguments)}function As(e){return Kd(e,((e,t)=>e+t.getDuration()),0)}function ms(){return ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ms.apply(this,arguments)}function vs(){return vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},vs.apply(this,arguments)}function _s(e,t,i,r,n){const o=US(),a=zS(),s=py(),{playingState:l}=GS(),[d,c]=Ho({largestSize:0,descriptionFontSize:0,descriptionLineHeight:0,horizontalMargin:0,verticalMargin:{top:0,bottom:0}});zo((()=>{const e=Np(d),t=Math.max(s.width,s.height);e.largestSize=t;const{fontSize:i,lineHeight:r}=(e=>{if(e<360)return{fontSize:12,lineHeight:18};if(e<400)return{fontSize:14,lineHeight:20};if(e<480)return{fontSize:16,lineHeight:22};if(e<560)return{fontSize:18,lineHeight:24};if(e<640)return{fontSize:20,lineHeight:26};if(e<720)return{fontSize:22,lineHeight:28};if(e<800)return{fontSize:24,lineHeight:30};if(e<960)return{fontSize:26,lineHeight:32};if(e<1024)return{fontSize:28,lineHeight:34};return{fontSize:30,lineHeight:36}})(t);e.descriptionFontSize=i,e.descriptionLineHeight=r,e.horizontalMargin=(e=>{if(e<640)return 10;if(e<960)return 15;return 20})(t),e.verticalMargin=function(e,t){void 0===t&&(t=!0);if(e<480)return t?{top:40,bottom:98}:{top:40,bottom:64};if(e<960)return{top:40,bottom:116};if(e<1280)return{top:40,bottom:122};return{top:40,bottom:128}}(t,n),c(e)}),[s]);const[u,h]=Ho(!1),[p,A]=Ho({});zo((()=>{const e=Np(p);d.largestSize&&(e["--ctat-largest-size"]=d.largestSize+"px",e["--ctat-description-font-size"]=d.descriptionFontSize+"px",e["--ctat-horizontal-margin"]=d.horizontalMargin+"%",e["--ctat-margin-top"]=d.verticalMargin.top+"px",e["--ctat-margin-bottom"]=d.verticalMargin.bottom+"px",A(e))}),[d]);const[m,v]=Ho(""),[_,g]=Ho("");zo((()=>{let e=m;if(i.current){const t=Ln(i.current,i.current.ownerDocument.defaultView);e=t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+(d.descriptionFontSize+2)+"px/"+d.descriptionLineHeight+"px "+t.fontFamily}v(e);let t=_;if(i.current){const e=Ln(i.current,i.current.ownerDocument.defaultView);t=e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+d.descriptionFontSize+"px/"+d.descriptionLineHeight+"px "+e.fontFamily}g(t)}),[d,i.current,r.current]);const[y,f]=Ho({"--ctat-animation-animation-drift-coef":"1","--ctat-animation-progress":"0","--ctat-animation-playing-state":"paused"});zo((()=>{const i=vs({},y);if(!e||!t||!a)return void h(!1);h(!0);const{cssVars:r,totalAnimationDuration:n}=(e=>{const{duration:t}=e,i=100*W(t/10,1,1),r=ms({},e,{atomic100MSDuration:i}),n=(e=>{let{atomic100MSDuration:t,titleSplitResult:i,baseDelay:r}=e;const n=r,o=1.66*t,a=3,s=i.length,l=o*a*s,d=t+r,c=l+d,u=c+t+t*s,h=27*t,p=u+h;return{calculatedTitleAnimationDuration:p+t*s,calculatedTitleRevealAnimationDuration:l,titleAnimationDelayAfterEnlargement:h,titleAnimationDelayAfterReveal:d,titleAnimationEnlargementDelay:c,titleAnimationEnlargementDuration:t,titleAnimationEnlargementNextLineDelay:t,titleAnimationHideDelay:p,titleAnimationHideDuration:t,titleAnimationSingleLinePartsCount:a,titleAnimationShowDelay:n,titleAnimationTotalEnlargementDuration:u,titleLinesCount:s,titleSinglePartDuration:o}})(ms({},r,{baseDelay:25*i})),o=n.calculatedTitleAnimationDuration,a=(e=>{let{bodySplitResult:t,atomic100MSDuration:i,baseDelay:r}=e;const n=t.length,o=8.2*i,a=r+o,s=3*i,l=.75*i,d=4.5*i,c=a+l+s;return{bodyAnimationEnlargementDelay:c,bodyAnimationEnlargementDuration:d,bodyAnimationShowDelay:a,bodyAnimationShowDuration:s,bodyLinesCount:n,bodyTotalAnimationTime:c+d*n,delayBeforeShowBody:o,showLineDelay:l}})(ms({},r,{baseDelay:o})),s=a.bodyTotalAnimationTime;return{cssVars:YS(n,a),titleAnimationDuration:o,totalAnimationDuration:s,titleAnimationShowDelay:n.titleAnimationShowDelay,bodyAnimationShowDelay:a.bodyAnimationShowDelay}})({duration:a,bodySplitResult:t,titleSplitResult:e}),s=n*o;i["--ctat-animation-current-time"]=s+"ms","play"===l?i["--ctat-animation-playing-state"]="running":"pause"===l&&(i["--ctat-animation-progress"]=""+o,i["--ctat-animation-playing-state"]="paused"),f(vs({},r,i))}),[o,l,a,e,t]);return{isReadyToAnimate:u,containerStyle:vs({},p,y),titleFontStyle:m,bodyFontStyle:_}}function gs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"m1 1 3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function ys(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M4 1h5v5M9 1 1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])}function fs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M9.117 7.349a2.5 2.5 0 0 0 0 3.535.833.833 0 1 1-1.179 1.179 4.167 4.167 0 0 1 0-5.893l2.946-2.946a4.167 4.167 0 1 1 5.893 5.892l-.91.911a.833.833 0 1 1-1.18-1.178l.911-.911a2.5 2.5 0 0 0-3.535-3.536L9.117 7.35Zm1.767 5.302a2.5 2.5 0 0 0 0-3.535.833.833 0 1 1 1.178-1.179 4.167 4.167 0 0 1 0 5.892l-2.916 2.917a4.167 4.167 0 0 1-5.893-5.892l.855-.855a.833.833 0 1 1 1.178 1.179l-.854.854a2.5 2.5 0 0 0 3.535 3.536l2.917-2.917Z",fill:"#498BFF"},[])])}function Ss(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m11.598 5 2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 0 1-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 0 1-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 0 1 1.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 0 1 2.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 0 1-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 0 1-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 0 1 .417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 0 1-.416.399h-.62a.417.417 0 0 1-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])}function Ts(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M16.256 15.256a.833.833 0 0 0 0-1.179L2.923.744a.833.833 0 1 0-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 0 0 4.171-.9l1.906 1.906a.833.833 0 0 0 1.179 0zm-4.357-3.178A8.309 8.309 0 0 1 9 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0 0 10.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])}function Es(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8.538 5.504c-1.025 0-1.362-.628-1.362-1.21 0-.244.077-.611.138-.825l1.07-4.612h-1.253a.25.25 0 0 1-.243-.307l.076-.325a.35.35 0 0 1 .28-.265l2.838-.5a.5.5 0 0 1 .573.608L12.14 16.05a.189.189 0 0 0 .33.164l1.165-1.425a.322.322 0 0 1 .514.386l-.7 1.013c-.734 1.07-1.407 1.316-1.988 1.316zm.338-9.862c0 .505.398.933 1.102.933.688 0 1.193-.382 1.346-.994.03-.123.046-.26.046-.368 0-.505-.398-.933-1.102-.933-.673 0-1.193.382-1.346.994-.03.123-.046.26-.046.368z",fill:"#498BFF"},[])])}function bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"18",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M7.36 15.5H9.97V.5H6.173C2.353.5.345 2.464.345 5.356c0 2.31 1.101 3.67 3.065 5.072L0 15.5h2.827l3.799-5.676-1.317-.885c-1.597-1.08-2.374-1.921-2.374-3.734 0-1.597 1.123-2.676 3.26-2.676H7.36V15.5Z",fill:"#498BFF"},[])])}function Cs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 1 1-1.178 1.179L.744 5.589a.833.833 0 0 1 0-1.178l3.333-3.334a.833.833 0 1 1 1.179 1.179l-1.91 1.91Z",fill:"#498BFF"},[])])}function Os(e){let{playingState:t,volumeStatus:i,controlsVisibility:r}=e;return"idle"!==t&&("unknown"!==i&&!1!==r.mute)}function ws(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42ZM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97Zm11.248 2.6a7.666 7.666 0 0 0-2.053-5.2l-1.73 1.487a5.48 5.48 0 0 1 1.467 3.712 5.48 5.48 0 0 1-1.467 3.714l1.73 1.487a7.667 7.667 0 0 0 2.053-5.2Z",fill:"#F2F2F2"},[])])}function Ps(){return Ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ps.apply(this,arguments)}function Is(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4 2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4Zm12.907 8.412 2.002 1.686a7.556 7.556 0 0 0 .346-2.258 7.666 7.666 0 0 0-2.054-5.2l-1.732 1.487a5.48 5.48 0 0 1 1.469 3.713c0 .192-.01.383-.031.572Zm3.817 3.215 1.79 1.508A10.962 10.962 0 0 0 23.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 0 1-.85 3.787ZM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907Z",fill:"#F2F2F2"},[])])}function Ds(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M.797 11.793 5.587 7 .796 2.207A1 1 0 0 1 2.21.793l5.497 5.5a1 1 0 0 1 0 1.414l-5.497 5.5a1 1 0 0 1-1.414-1.414Z",fill:"#fff"},[])])}function Ns(e){let{position:t,unit:i,steps:r}=e;const{step:n,stepPosition:o}=function(e,t){let i=0;const{length:r}=t;for(let n=0;n<r;n++){const o=t[n],a=i+o.duration,s=i<=e&&e<a;if(n===r-1||s)return{step:o,stepPosition:i};i=a}throw new fc({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,r);if(function(e){return"value"in e}(n))return n.value;const{duration:a,values:[s,l],easing:d=EE}=n;if(s===l)return s;if(t>=o+a)return l;const c=("function"===typeof d?d:TE[d])((t-o)/a);return(0,sb[i])(c,s,l)}function Rs(e,t){let i=0;for(let r=0;r<e.length;r++){const n=e.charAt(r);n===n.toLowerCase()?i++:i+=t}return i}function ks(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])}function Vs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30Z",fill:"#000","fill-opacity":".65"},[]),_o("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 0 0-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 0 0 .713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 0 0 0-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174Z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])}function Ls(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[_o("path",{d:"M2 9a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 1 0 0-2H2V9Zm6-9a1 1 0 0 0 0 2h6v5a1 1 0 1 0 2 0V1a1 1 0 0 0-1-1H8Z"},[])])}function Bs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({version:"1.1"},t),[_o("path",{d:"M13 14a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14zm9 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V14z"},[])])}function Ms(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({version:"1.1"},t),[_o("path",{d:"M13.53 12.956a1 1 0 0 0-1.53.848v16.392a1 1 0 0 0 1.53.848l13.113-8.196a1 1 0 0 0 0-1.696L13.53 12.956z"},[])])}function xs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({version:"1.1"},t),[_o("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3z"},[])])}function Us(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({version:"1.1"},t),[_o("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm13.267 3.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function Fs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({version:"1.1"},t),[_o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.707 30.707a1 1 0 0 0 0-1.414l-16-16a1 1 0 0 0-1.414 1.414L14.586 19H12a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283v-4.62l6.293 6.293a1 1 0 0 0 1.414 0zm.232-3.182-1.49-1.49a8.941 8.941 0 0 0 .818-3.734c0-2.197-.81-4.318-2.28-5.972L26.48 15a10.949 10.949 0 0 1 1.46 12.525zm-4.7-4.7 1.673 1.673a6.981 6.981 0 0 0-1.418-6.843L22 18.984a4.99 4.99 0 0 1 1.24 3.841zM20 14.965v4.62l-2.793-2.792 2.11-2.11a.4.4 0 0 1 .683.283z"},[])])}function Hs(e){e.styles;var t=Object.assign({},e);return delete t.styles,_o("svg",Object.assign({version:"1.1"},t),[_o("path",{d:"M12 19a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3l4.317 4.317a.4.4 0 0 0 .683-.283V14.966a.4.4 0 0 0-.683-.283L15 19h-3zm17.267 3.301c0-2.687-.99-5.28-2.787-7.301l-1.494 1.329a8.982 8.982 0 0 1 2.281 5.972 8.98 8.98 0 0 1-2.28 5.972l1.493 1.33a10.983 10.983 0 0 0 2.787-7.302z"},[]),_o("path",{d:"M25.267 22.3a6.981 6.981 0 0 0-1.773-4.645L22 18.984a4.99 4.99 0 0 1 1.267 3.317c0 1.22-.45 2.399-1.267 3.318l1.494 1.329a6.982 6.982 0 0 0 1.773-4.647z"},[])])}function zs(e){const t=Sd(e.children,(e=>zs(e)));return{xmlString:e.xmlString,children:t}}function js(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}function Ws(e){return"__private_"+JC+++"_"+e}function Gs(e){const t={};for(const i in e)I(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function Ys(e){if(!u(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return Gs({stickTo:Xs(t,uO),stickyColorScheme:Xs(i,cO)})}function Xs(e,t){if("string"!==typeof e)return;if(!u(t))return;const i=e.toLowerCase();return qt(t).indexOf(i)>-1?i:void 0}function Ks(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?Pt(i):void 0}function qs(e,t){return"true"===Ks(e,t)}function Qs(){return Qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Qs.apply(this,arguments)}function Js(){return Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Js.apply(this,arguments)}function Zs(e,t,i){var r;const n=[],o=i.querySelector("AdSource");if(!o)throw new fc({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=0;if(o.hasAttribute("id")){if(a=Number(o.getAttribute("id")),!gn(a))throw new fc({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new fc({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const s=i.querySelector("Extensions");if(!s)throw new fc({code:"NO_AD_BREAK_EXTENSIONS",details:t});const l=o.querySelector("VASTAdData"),d=null!=(r=null==l?void 0:l.querySelector("VAST"))?r:void 0,c=d?(e=>{const t=new XMLSerializer;return t.serializeToString(e)})(d):void 0,u=o.querySelector("AdTagURI"),h=Pt(u);if(!u||!h)throw new fc({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const p={adTagURI:h,adFoxParameters:void 0,inlineVast:c},A=i.getAttribute("breakType"),m=wt(i,"breakId"),v=wt(i,"timeOffset","start"),_=()=>new fc({code:"VMAP_INCORRECT_TIME_OFFSET",details:Js({},t,{timeOffset:v,breakIdAttribute:m})});if(-1===dO.indexOf(m))throw new fc({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Js({},t,{breakIdAttribute:m})});const g=function(e,t){switch(e){case"linear,nonlinear":return[new fc({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case"linear":return[];case"nonlinear":return[new fc({code:"NON_LINEAR_AD_BREAK_IN_NOT_SUPPORTED",details:t})];default:throw new fc({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(A,t);let y;if(n.push(...g),"inpage"===m)y=function(e){const t=Ks("Stick",e),i=Ys({stickTo:Ks("StickTo",e),stickyColorScheme:Ks("ColorScheme",e)});return Qs({stick:"true"===t,adType:"inpage",replayMode:hO(e)},i)}(s);else if("inroll"===m)y={adType:"inroll"};else if("start"===v){if(lO[v]!==m)throw _();y={adType:"preroll"}}else if("end"===v){if(lO[v]!==m)throw _();y={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(v))throw _();{if("midroll"!==m)throw _();const e=function(e,t){return Number(Ks(e,t))}("MaxRepeatCount",s),t=zt(wt(i,"repeatAfter")),r={timeOffset:zt(v),repeatAfter:isNaN(t)?0:t,maxRepeatCount:isNaN(e)?0:e,repeatNumber:0};y=Js({adType:"midroll",broadcastReplace:qs("BroadcastReplace",s)},r)}}return{adBreak:Js({impId:a},y,e,p),errors:n,events:[]}}function $s(){return $s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},$s.apply(this,arguments)}function el(){return el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},el.apply(this,arguments)}function tl(){return tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},tl.apply(this,arguments)}function il(e){if(!u(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:n,impId:o,videoContentId:a,additionalParams:s,vmap:l,hasPreroll:d}=e;if(void 0!==o&&!gn(o))throw new fc({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!gn(r))throw new fc({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==l&&!f(l))throw new fc({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==d&&"boolean"!==typeof d)throw new fc({code:"INVALID_CONFIG_HAS_PREROLL_VALUE",details:{config:e}});if(void 0!==n&&!gn(n))throw new fc({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return tl({},function(e){const t=u(e)?e:{};return Gs({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:l,hasPreroll:d,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:o,vmapId:r,vmapScenarioId:n,videoContentId:"string"===typeof a?a:void 0,additionalParams:Gi(s)})}function rl(){return rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},rl.apply(this,arguments)}function nl(){return nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},nl.apply(this,arguments)}function ol(e){if(!u(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const n=u(r=e.adFoxParameters)?ai(r)?void 0===r.containerId||f(r.containerId)?m(r.ownerId)?0===r.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";n?i.push(new fc({code:n,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var r;return{config:t,errors:i}}function al(){return al=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},al.apply(this,arguments)}function sl(e){if(!u(e))return{config:{},errors:[]};const{config:t,errors:r}=ol(e),n=il(e),o=function(e){if(!u(e))return;let t,i;return t=Array.isArray(e.videoGenreId)?Sd(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),i=Array.isArray(e.videoGenreName)?Sd(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:t,videoGenreName:i,musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Sd(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),a=function(e){if(!u(e))return;const{metaRequestIndex:t,metaImpIdRequestIndex:i}=e;if(void 0!==t&&!j(t))throw new fc({code:"INVALID_CONFIG_META_REQUEST_INDEX_VALUE",details:{config:e}});if(void 0!==i&&!j(i))throw new fc({code:"INVALID_CONFIG_META_IMP_ID_REQUEST_INDEX_VALUE",details:{config:e}});return{metaRequestIndex:t,metaImpIdRequestIndex:i}}(e),s=function(e){const t={};return u(e)?(M(["full","creative","limited","domain"],e.omidAccessMode)&&(Xc.event({name:"OmidAccessModeIsSetThroughAdConfig",data:{accessMode:e.omidAccessMode},probability:lc}),t.omidAccessMode=e.omidAccessMode),t):t}(e);return{config:al({},t,n,o,a,s,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&f(e.vast)?String(e.vast):void 0,desiredBitrate:Vt(e.desiredBitrate),secureMode:yO(e),preferableAdSize:vO(e),loadHarmlessVastCallback:i(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:r}}function ll(e){return f(e)?e:"0"}function dl(){return dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},dl.apply(this,arguments)}function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},cl.apply(this,arguments)}function ul(){return ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ul.apply(this,arguments)}function hl(e){return!!m(e)&&bO.indexOf(e)>-1}function pl(){return pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},pl.apply(this,arguments)}function Al(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function ml(e,t,i){const{vastBase64:r,adBreakType:n}=e,o=Al(e,CO),a=[],s=sl(o),{config:{videoContentId:l},errors:d}=s,c=Al(s.config,OO);a.push(...d);const h=pl({},c,{videoContentId:ll(l)});let p,A;if(r&&(h.vast=Ue(r)),hl(n)?A=n:t&&(a.push(new fc({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),hl(i)&&(A=i)),A){const e=function(e){const t=u(e)?e:{};return Gs(el({},Ys(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}(o);p=pl({},EO[A],e)}return{adConfig:h,adBreak:p,warnings:a}}function vl(e){let{rawAdConfig:t,useDefaultAdPlaybackParameters:i=!1,syntheticVMAPType:r="preroll",adPlacementOptions:n=su}=e;const{adConfig:o,adBreak:a,warnings:s}=ml(t,i,r);let l;Yt(s);const{adFoxParameters:d}=o;if(d){const e=a||mO,t=new sO;t.adBreaks=[e],l={adConfig:o,vmap:t,adBreak:e,adPlacementOptions:n}}else if(a){const e=new sO;e.adBreaks=[a],l={adConfig:o,vmap:e,adBreak:e.adBreaks[0],adPlacementOptions:n}}else if(o.vmap){const e=(e=>{const t=ht(e),{vmap:i,events:r,errors:n}=function(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:r}=e;const{xml:n,responseText:o}=t,a={responseText:o,vmapLoadParams:i};if(null===n||void 0===n)throw new fc(i?{code:"VMAP_EMPTY_RESPONSE",details:$s({},i,{vmapXmlObject:t})}:{code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=n.querySelector("VMAP");if(!s)throw new fc({code:"NO_VMAP_ROOT_NODE",details:a});const l=s.querySelectorAll("AdBreak");if(null===l||0===l.length)throw new fc({code:"NO_VMAP_AD_BREAKS",details:a});const d=new sO,c=n.querySelector("VMAP > Extensions");if(!c)throw new fc({code:"NO_VMAP_EXTENSIONS",details:a});Ae(s.querySelectorAll("TrackingEvents"));const u=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?Pt(t):""},h=e=>parseInt(u(e),10);d.isSingleVideoSession="true"===u("SingleVideoSession");const p={sessionId:u("SessionID"),vastTimeout:h("VASTTimeout"),videoTimeout:h("VideoTimeout"),vpaidTimeout:h("VPAIDTimeout"),wrapperMaxCount:h("WrapperMaxCount"),bufferFullTimeout:h("BufferFullTimeout"),bufferEmptyLimit:h("BufferEmptyLimit")},A=[],m=[];for(let _=0;_<l.length;_++)try{const{adBreak:e,errors:t,events:i}=Zs($s({},p,r),a,l[_]);d.adBreaks.push(e),A.push(...t),m.push(...i)}catch(v){A.push(v)}return{vmap:d,errors:A,events:m}}({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return Yt(n),Cd(r,(e=>Xc.event(nl({labels:void 0},e)))),i})(o.vmap);l={adConfig:o,vmap:e,adPlacementOptions:n}}return{config:l,parsedAdConfig:o}}function _l(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function gl(e){var t;if(!e)return!1;const i=null!=(t=(e.ownerDocument||document).defaultView)?t:window;return Boolean(i.Element)&&e instanceof i.Element}function yl(e,t){void 0===t&&(t=40);const i=e.ownerDocument,{body:r}=i,n=i.documentElement,o=i.defaultView,a=Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);if(e===n||e===r){return a-((o.pageYOffset||n.scrollTop)-(n.clientTop||0)+o.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function fl(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let r=i;for(;Boolean(r);){if(gl(r)&&!yl(r))return!1;r=r.parentNode||r.host}return!0}function Sl(e,t){if(RO)return!1;const{left:r,right:n,top:o,bottom:a}=Gh(e),s=n-r,l=a-o,d=e.ownerDocument!==document;let c;if(d){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);c=rd(t,(t=>t.contentWindow===e.ownerDocument.defaultView))}return!eu(t,(t=>{let[n,a]=t,u=r+(s-1)*(1+n)/2,h=o+(l-1)*(1+a)/2;if(c){const{left:e,top:t}=Gh(c);u+=e,h+=t}const p=document.elementFromPoint(u,h);if(!p||e===p||e.contains(p))return!0;if(d&&p&&"IFRAME"===p.tagName&&p.contentWindow&&p.contentWindow.document.body.contains(e))return!0;if(i(e.getRootNode)){if(Tl(p,e))return!0;if(El(p,e))return!0}return!1}))}function Tl(e,t){const i=e.getRootNode();return!(!i||!i.host)&&(!!t.contains(i.host)||Tl(i.host,t))}function El(e,t){const i=t.getRootNode();return!(!i||!i.host)&&(e===i.host||El(e,i.host))}function bl(e){return e[BO]}function Cl(){return Cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Cl.apply(this,arguments)}function Ol(){return Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ol.apply(this,arguments)}function wl(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:r}=e;const n=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:r,height:n}=i;if(!Ee(r)||!Ee(n))return;const o=n/r;return Math.floor(t*o)}({placeholderWidth:i,adContentSize:r});void 0!==n?r&&(z("inPage: adjust ad height to adContentSize=["+JSON.stringify(r)+"] nextHeight=["+n+"]"),eg(t,{height:n+"px"},!0)):z("inPage: skip adjust placeholder to unknown ad size")}function Pl(){return Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Pl.apply(this,arguments)}function Il(){return Il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Il.apply(this,arguments)}const Dl=e(5335),Nl=function(e){void 0===e&&(e=window);const t=Dl(e);return"boolean"===typeof t?-1:t},Rl=(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r},kl={}.toString,Vl=/\[object (\w+)\]/,Ll=e=>{const t=kl.call(e);if(!t)return null;const i=t.match(Vl);if(!i)return null;const r=i[1];return r||null},Bl=["","webkit","moz","o","ms"],Ml=["","-webkit-","-ms-","-moz-","-o-"],xl=Rl(Ml,(e=>"("+e+"any-pointer:coarse)")).join(","),Ul=Rl(Ml,(e=>"("+e+"touch-enabled)")).join(","),Fl=(void 0===Hl&&(Hl=window),function(e){void 0===e&&(e=window);const t=s(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map((e=>e.trim().split("/")[0])).filter((e=>e&&"mobile"!==e));return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]}(Hl)||a(Hl)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&o(e)}(Hl));var Hl;const zl=l(document.documentElement),{length:jl}=zl,Wl=jl>0?zl[jl-1].ownerDocument.defaultView:window,Gl=!d(Math.random)||Math.random()===Math.random(),Yl=Date&&i(Date.now)?()=>Date.now():()=>(new Date).getTime(),Xl="undefined"===typeof window?void 0:window.performance,Kl=Xl&&i(Xl.now),ql=Xl&&Xl.timing&&Xl.timing.navigationStart?Xl.timing.navigationStart:Yl();let Ql=0;const Jl=Kl?()=>Xl.now():()=>(()=>{const e=Yl()-ql;return Ql=Math.max(e,Ql),Ql})(),Zl=2147483647;let $l=Date.now()*Jl()%Zl;const ed=Gl?function(){return $l=16807*$l%Zl,($l-1)/2147483646}:function(){return Math.random()},td=e=>u(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),id=[].find,rd=p(id)?(e,t)=>id.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}};let nd=document.currentScript;if(!nd){const e=h(document.getElementsByTagName("script"));nd=rd(e,td),nd||(nd=e[e.length-1])}const od=nd,ad=e=>e instanceof Error||"Error"===Ll(e),sd=e=>{const t=[];for(;e;)try{if(g(e),t.push(e),e.parent===e)break;e=e.parent}catch(Kg){break}return t},ld=S(Array,"isArray"),dd=Boolean(ld)?e=>ld.call(Array,e):e=>"Array"===Ll(e);class cd{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const ud=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new cd({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const n=e.apply(this,arguments);return i.set(r,n),n}},hd=document.createElement("a"),pd=(ud((e=>T({},E(e)))),/^(android-app:|chrome-extension:)/),Ad=e=>{try{return decodeURIComponent(e)}catch(Kg){return e}},md=(e,t)=>t.map((t=>e+"[]="+encodeURIComponent(t))).join("&"),vd="aim-banner-id",_d="aim-design-id",gd="aim-design-name",yd="aim-subdesign-id",fd={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkabflags:0,adsdkuaas:0,[vd]:0,[_d]:0,[gd]:0,[yd]:0,adsdkhoneypotforced:0,adsdkgrforced:0},Sd=(D(fd),(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r}),Td={},Ed=y(document);for(const{location:e}of Ed){_(C(E(e).search),((e,t)=>{0===fd[t]&&(Td[t]=e)}))}const bd=V(window,"adsdkuaas"),Cd=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)},Od=function(e,t){let i=e[t];if(!p(i)){const r=i;try{delete e[t];const n=e[t];"function"===typeof n&&(i=n),e[t]=r}catch(Kg){}}return i}(Array,"isArray"),wd=Boolean(Od)?e=>Od.call(Array,e):e=>"Array"===Ll(e),Pd=["expFlags"],Id=(e,t)=>{if(!u(t))throw new Error("Parsed replaced macro is not an object: "+e);if(function(e){if(void 0!==e){if(!m(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0!==e.length){for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[r,,n]=i;if(0===r.trim().length)throw new Error("testId length error ["+e+"]");if(0===n.trim().length)throw new Error("testId bucket length error ["+e+"]")}}}}(t.testIds),!("flags"in t)||!u(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},Dd=e=>{const t=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,Pd),i={},r={};return Cd(e.expFlags,(e=>{Cd(e,(e=>{let{CONTEXT:{FLAGS:t},TESTID:n}=e;u(t)&&Cd(D(t),(e=>{var o;const a=t[e];i[e]=a,r[e]=null!=(o=r[e])?o:[],r[e].push({value:a,testId:n[0]})}))}))})),L({flags:i,flagsMap:r},t)},Nd={testIds:"",flags:{}};const Rd=A((()=>{try{return null!=bd?bd:__UAAS_CFG__}catch(e){return e}})),kd=e=>{if(ad(e))return{error:e,config:Nd};try{const t=u(e)?e:JSON.parse(""+(e||"")),i=(e=>!!u(e)&&!(!("expFlags"in e)||!wd(e.expFlags)))(t)?Dd(t):t;if(!Id(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:Nd}}},Vd=A((()=>kd(Rd())));let Ld;try{Ld={build:556105,code:[{id:556105,percent:100}]}}catch(Kg){Ld={}}const Bd=Ld.build,Md="VAS",xd=e=>B(String(e%Math.pow(10,4)),4,"0"),Ud=()=>B(Date.now().toString().slice(0,10),10,"0"),Fd=od?od.src:"",Hd="InPage",zd=["a","n.ya","nd","ex.ru"].join(""),jd=["y","a","nde","x.ru"].join(""),Wd=["ya","sta","tic.net"].join(""),Gd=["ver","ify.y","a","nde","x.ru"].join(""),Yd=[jd,zd,Wd];class Xd{constructor(e,t){this.activeTestIds=[],this.initialActiveTestIds=[],this.activeFlags=new Set,this.getFlagValueAndActivateTestId=e=>{const t=this.abFlags[e],i=this.vasUaasConfig.flagsMap,r=this.vasUaasConfig.testIds;return r&&i&&i[e]&&Cd(i[e],(i=>{let{value:n,testId:o}=i;if(n===t){const t=rd(r.split(";"),(e=>0===e.indexOf(o)));t&&!M(this.activeTestIds,t)&&(this.activeTestIds.push(t),this.activeFlags.add(e))}})),t},this.getActiveTestIds=()=>this.activeTestIds,this.isTestIdActivated=e=>this.activeFlags.has(e),this.__setAbFlags=e=>{this.abFlags=e},this.__restoreAbFlags=()=>{this.abFlags=this.initialAbFlags},this.__setActiveTestIds=e=>{this.initialActiveTestIds=this.activeTestIds,this.activeTestIds=e},this.__restoreActiveTestIds=()=>{this.activeTestIds=this.initialActiveTestIds},this.vasUaasConfig=e,this.abFlags=t,this.initialAbFlags=t}getNumberFlagValueAndActivateTestId(e){const t=this.getFlagValueAndActivateTestId(e),i=Number(t);return x(i)?i:void 0}}const Kd=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i},qd=(U(window),V(window,"adsdkdebug")),Qd=Boolean(qd),Jd=V(window,"adsdktracelogs"),Zd=(Boolean(Jd),F),$d=F,ec=F,tc=e=>{let{win:t,propertyName:i}=e;return{call:e=>Zd(H({win:t,propertyName:i},e)),subscribe:e=>ec(H({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise((e=>{ec({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})}))})(H({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise((e=>{ec({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})}))})(H({win:t,propertyName:i},e)),clear:e=>$d(H({win:t,propertyName:i},e))}};tc({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const ic=function(){var e,t,i,r,n,o,a;const s=od?od.__AD_SDK_SCRIPT_SESSION_PARAMETERS__:void 0;od&&(e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__})(od);const l=(e=>{let t;return{rootFields:N((()=>(e=>{if(u(e)){const t={},{vsid:i,contentPlayerVersion:r,pcodeVersion:n,widgetVersion:o}=e;if(f(i)&&(t.vsid=i),f(r)&&(t.contentPlayerVersion=r),f(n)&&(t.pcodeVersion=n),f(o)&&(t.widgetVersion=o),D(t).length>0)return t}return})(e)),(e=>{t=e}))||void 0,extractionError:t}})(null==s?void 0:s.STATS_ROOT_PARAMS),{config:d,parsingError:h}=function(e){let t,i=(null==e?void 0:e.VAS_UAAS_CONFIG)||Nd;try{const e=Vd();if(e.error)throw e.error;i=e.config}catch(Kg){t=Kg}return{config:i,parsingError:t}}(s),{src_domain:p}=(Fd&&E(Fd).hostname,d),A=null==s?void 0:s.LOADER_LOADED_FROM_AN_YANDEX_RU,v=function(e,t){var i;const r=e.flags,n=null!=(i=null==t?void 0:t.AB_FLAGS)?i:{};let o={};0;const a=C(location.search).adsdkabflags,s=V(Wl,"adsdkabflags"),l=null!=a?a:s,d=m(l)?Kd(l.split(","),((e,t)=>{const[i,r]=t.split("=");return G({},e,{[i]:r})}),{}):{};return G({},o,r,n,d)}(d,s),_=(null==s?void 0:s.AB_FLAGS_STORE)||new Xd(d,v);_.getFlagValueAndActivateTestId("ADSDKVER");const g=(null==l||null==(e=l.rootFields)?void 0:e.vsid)||(null==s?void 0:s.VSID)||function(e){void 0===e&&(e=Bd);return[c(44),Md,xd(e),Ud()].join("x")}();z((null!=l&&null!=(t=l.rootFields)&&t.vsid||null!=s&&s.VSID?"Use VSID from session":"Generate new VSID")+" ["+g+"]");const y=(null==s?void 0:s.SID)||c(64);z((null!=s&&s.SID?"Use existing SID":"Generate new SID")+" ["+y+"]");const S=null!=(i=null==s?void 0:s.VAS_USER_SESSION_RANDOM)?i:ed(),T=(null==s?void 0:s.ICOOKIE)||d.iCookie,b=(null==s?void 0:s.AdditionalStatsRootFields)||l.rootFields||void 0,O=(null==s?void 0:s.TEST_IDS)||(null==d?void 0:d.testIds)||void 0,w=null!=(r=Y(_.getFlagValueAndActivateTestId("VAS_IMPORTANT_EVENTS_DEFAULT_SAMPLING_RATIO")))?r:1,P=null!=(n=Y(_.getFlagValueAndActivateTestId("VAS_USUAL_EVENTS_DEFAULT_SAMPLING_RATIO")))?n:.01,I=null!=(o=Y(_.getFlagValueAndActivateTestId("VAS_EVENTS_MILLI_SAMPLING_RATIO")))?o:.001,R=Qd||d.isInternalNetwork||!1,k=R?w:P,L=R?w:I;return{SID:y,VSID:g,VAS_USER_SESSION_RANDOM:S,AB_FLAGS:v,AB_FLAGS_STORE:_,ICOOKIE:T,TEST_IDS:O,VAS_UAAS_CONFIG:d,VAS_UAAS_CONFIG_ParseError:h,AdditionalStatsRootFields:b,AdditionalStatsRootFieldsExtractionError:l.extractionError,LOADER_LOADED_FROM_AN_YANDEX_RU:A,STATS_ROOT_PARAMS:null!=(a=null==s?void 0:s.STATS_ROOT_PARAMS)?a:{},LOG_PROBABILITY_FOR_IMPORTANT_EVENTS:w,LOG_PROBABILITY_FOR_DEFAULT_EVENTS:P,LOG_PROBABILITY_MILLI_VALUE:I,LOG_PROBABILITY:k,LOG_PROBABILITY_MILLI:L,IS_DEBUG_LOG_TO_STATS_ENABLED:R,isRumEnabledByLogProbability:!1}}(),rc=ic.AB_FLAGS_STORE,nc=ic.VSID,oc=ic.SID,ac=ic.LOG_PROBABILITY_FOR_IMPORTANT_EVENTS,sc=ic.LOG_PROBABILITY_MILLI_VALUE,lc=ic.LOG_PROBABILITY,dc=ic.LOG_PROBABILITY_MILLI,cc=(e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const o=e[n];t.call(i,o,n,e)&&r.push(o)}return r},uc=e=>({name:e.name,message:e.message,stack:e.stack});let hc;const pc=e(3438),Ac="DEFAULT_ERROR_MESSAGE",mc=0,vc="",_c="?:?:?",gc=!0;class yc extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||Ac)};super(),pc(this,yc.prototype),this.message=t.message||i.message||Ac,this.code=t.code||i.code||i.id||mc,this.isFatal=Boolean(function(e){const[t]=cc(e,(e=>void 0!==e));return t}([t.isFatal,i.isFatal,gc])),this.details=t.details||i.details||vc;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:o,lineNumber:a}=e;return(t||n||"?")+":"+(i||a||"?")+":"+(r||o||"?")}(i);let n=r===_c?this.stack:r;if(n&&n!==_c)this.stack=n;else if(!this.stack)try{throw new Error(this.message)}catch(Kg){this.stack=n=Kg.stack||_c}this.toString=()=>X(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:n})}}class fc extends yc{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;super(e,K({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")}))}}const Sc=(e,t)=>{for(const i of t.split(".")){if(!r(e)){e=void 0;break}e=e[i]}return e},Tc="__ADB_CONFIG__",Ec=r(Tc)&&Tc.fn&&i(Tc.fn.encodeUrl)?Tc.fn.encodeUrl:void 0,bc=void 0!==Ec?e=>Ec(e):void 0,Cc=function(e){if(void 0===e&&(e=window),bc)return bc;const t=sd(e);for(;t.length;){const e=t.pop();if(!e)continue;const r=Sc(e,"ya.videoAd.encodeUrl");if(i(r))return r}},Oc=Cc(window),wc=Boolean(window.location.ancestorOrigins),Pc=Q(window),Ic=function(){const e=Rl(zl,(e=>e.ownerDocument)),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}(),{topAncestor:Dc,isTrusted:Nc}=function(e){void 0===e&&(e=window);const t=Q(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:r}=J(e.document),n=Ic?r:i,o=!Ic||U(Wl).length<2,{protocol:a,hostname:s,host:l,port:d}=E(n);return{topAncestor:b({protocol:a,hostname:s,host:l,port:d,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),Rc=Dc,kc=Nc,Vc=200,Lc=e=>d(e.navigator.sendBeacon),Bc=Lc(window),Mc=(tc({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),"https://log.strm.yandex.ru/log"),xc="adsdk-test-tag",Uc=sd,Fc=function(e){const t=Uc(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window);class Hc{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(ce({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,n=de(e.toString(2),r).substr(-r,i);return parseInt(n,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return r(e)&&((e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)})(this.getTemplate(),(t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])}),this),this}getProps(){return ce({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return se((e=this.getTemplate(),t=this.props,Rl(e,(e=>{let[i,r]=e;return[i,r&&t[r]||null]}))))}slice(e,t){return Hc.sliceBits(this.serialize(),e,t)}}const zc={AdSDKLoader:0,VpaidPlayerLoader:1,AdLoader:11,InPage:13,Multiroll:16,VideoBannerAd:17,MotionTailor:18,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,Rum:27,Examples:30,TestStand:29,Test:31,TestVpaid:31,TestVpaidAdCreative:31,LoaderFunctions:32,SurveyOldDesignAdCreative:32};const jc=new class extends Hc{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:Bd,BUNDLE:zc.InPage,UNUSED:0,ADBLOCK:i(Oc)}}},Wc=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0;class Gc{constructor(e){var t;this.rootFields={},this.labels={},this.event=e=>{let{name:t,data:i,labels:r,probability:n,extraRootFields:o,queryParams:a}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:n,extraRootFields:o,queryParams:a})},this.error=e=>{let{error:t,labels:i,probability:r,extraRootFields:n}=e;const o=new yc(t);this.push({eventName:String(o.code),eventType:"error",data:o,additionalStatsLabels:i,probability:r,extraRootFields:n})},this.values=e=>{let{name:t,values:i,sensors:r,data:n,labels:o,probability:a,extraRootFields:s}=e;this.push({eventName:t,eventType:"values",data:n,additionalStatsLabels:o,probability:a,values:i,sensors:r,extraRootFields:s})},this.warning=e=>{let{name:t,message:i,probability:r,extraRootFields:n}=e;R(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:n})},this.setRootFields=e=>{const t=k(e);Cd(t,(e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i}))},this.setLabels=e=>{const t=k(e);Cd(t,(e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i}))},this.errorToStats=(e,t,i)=>{const r=new yc(e);this.push({eventName:String(r.code),eventType:"error",data:r,additionalStatsLabels:t,extraRootFields:i})};const{onLogError:i}=e;this.params=he({},e,{sid:e.sid||c(64),rnd:e.rnd,maxRequestDataLength:null!=(t=e.maxRequestDataLength)?t:1e6,onLogError:i?e=>{try{i(e)}catch(Kg){q(Kg)}}:q}),this.isLogsDisabled="TRUE"===this.params.AB_FLAGS_STORE.getFlagValueAndActivateTestId("VAS_AND_PCODE_COMMON_FLAG_DISABLE_STATS_LOGS"),this.customRootFields=he({},this.params.AdditionalStatsRootFields,{[xc]:String(jc.serialize()),bannerTypeFromNanpu:Fc,bundleName:Hd,abFlags:this.params.AB_FLAGS,iCookie:this.params.iCookie,testIds:this.params.testIds})}push(e){let{eventName:t,eventType:i,data:r={},additionalStatsLabels:n,value:o=1,probability:a=this.params.logProbabilityForImportantEvents,values:s={},sensors:l={},extraRootFields:d={},queryParams:c={}}=e;if(this.isLogsDisabled)return;if(!this.shouldLogEventWithProbability(a))return;const{service:u,version:h}=this.params,p={service:u,version:h,data:r,eventName:t,eventType:i,additionalStatsLabels:n,value:o,values:s,sensors:l};if(void 0!==Gc.sendingEventName)throw new yc({message:"RecursiveStatsRequests",details:{service:u,version:h,eventType:i,eventName:t,sendingEventName:Gc.sendingEventName}});Gc.sendingEventName=t;try{const e=he({[u]:h,[i]:t},n,c),o=w(Mc,e),a=X(this.createFullStatsObject(p,d));if(a.length>this.params.maxRequestDataLength&&"EnormousLogDetected"!==t)return Gc.sendingEventName=void 0,void this.event({name:"EnormousLogDetected",data:{eventName:t,eventData:r}});this.sendData(o,a)}catch(Kg){Gc.sendingEventName=void 0,this.params.onLogError(new yc(Kg,{details:{service:u,version:h,eventType:i,eventName:t}}))}Gc.sendingEventName=void 0}sendData(e,t){const i=function(e,t){return!!Bc&&window.navigator.sendBeacon(e,t)}(e,t);i||ee({url:e,data:t,method:"POST"})}shouldLogEventWithProbability(e){return this.params.rnd<e}createFullStatsObject(e,t){const{service:r,version:n,eventName:o,eventType:a,data:s,additionalStatsLabels:l,value:d,sensors:c}=e,u=(e=>{let{eventType:t,eventName:i,value:r,values:n}=e;const o={};return oe(n,((e,r)=>{o[t+"_"+i+"_"+r]=e})),he({[t+"_"+i]:r},o)})(e),h=he({},this.labels,l,{version:this.params.version}),p={service:r,tags:ne(k(u)),labels:ne(k(h)),sensors:ae(c,(e=>String(e)))},{location:A,referrer:m}=J(document),v=te(window)?ie(window):void 0;return he({},t,this.customRootFields,this.rootFields,p,{timestamp:Date.now(),eventType:a,eventName:o,data:s,sid:this.params.sid,vsid:this.params.vsid,version:n,location:g(window),topLocation:A,topAncestor:Rc,isTopAncestorUndetermined:!kc||void 0,ancestorOrigins:Pc,documentIsVisible:ue(document),referrer:window.document.referrer,topReferrer:m,currentScriptSrc:Fd,secureIFrame:Ic,isVideoADB:i(Oc),value:d,rnd:this.params.rnd,topDocumentFocus:re(),pcodeActiveTestIds:this.params.AB_FLAGS_STORE.getActiveTestIds(),deviceOrientation:v})}}tc({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class Yc{get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){Yc.errorHandlers.push(e)}constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=r;try{pe(this.destroyHandlers,...t)}catch(n){pe(Yc.errorHandlers,n)}this.destroyHandlers.length=0}}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=Ae);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i.apply(t,r)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}Yc.errorHandlers=[];const Xc=new Gc({service:"VAS",version:String(Bd),sid:oc,vsid:nc,rnd:ic.VAS_USER_SESSION_RANDOM,AdditionalStatsRootFields:ic.AdditionalStatsRootFields,AB_FLAGS:ic.AB_FLAGS,AB_FLAGS_STORE:ic.AB_FLAGS_STORE,iCookie:ic.ICOOKIE,testIds:ic.TEST_IDS,logProbabilityForImportantEvents:ic.LOG_PROBABILITY_FOR_IMPORTANT_EVENTS,onLogError:A((e=>{q(e),Xc.error({error:new fc(e,{code:"STATS_LOG_ERROR",details:void 0})})}))});Yc.addErrorHandler((e=>{Xc.error({error:new fc(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})}));let Kc=!1,qc=!1,Qc=!1;try{const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>Kc=!0}),Object.defineProperty(t,"passive",{get:()=>qc=!0}),Object.defineProperty(t,"capture",{get:()=>Qc=!0}),e.addEventListener("click",Ae,t)}catch(hw){}const Jc=["pagehide","unload"],Zc=/^([a-z0-9|-]+\.)*adfox.ru$/,$c=/\/(an|ads)\/adfox/,eu=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},tu=[...["localhost","127.0.0.1"].concat([]),...[jd,"yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",Wd,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]],iu=(e=>p(e.navigator.sendBeacon))(window),ru=(tc({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),-1),nu={droppedVideoFrames:ru,corruptedVideoFrames:ru,totalVideoFrames:ru},ou=be({},nu,{droppedVideoFramesRatio:ru}),au={width:0,height:0},su={visibility:0,size:au,relativeSizeRatio:0,screenSize:au,devicePixelRatio:0,downlink:0,videoSlotSize:au,videoContentSize:void 0,videoAvatarSize:au,videoPixelRatio:ru,videoToDevicePixelRatio:ru,videoFramesInfo:ou,videoSrc:"",videoMuted:!0,videoVolume:0,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:ru,remainingBufferedTime:0,isFullscreen:void 0,adPodId:void 0},lu="sid",du="vsid",cu="ad-pod-id",uu=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r},hu=(e,t,i)=>{if(!r(e))return e;const n=e,o=t.split("."),a=o.pop();for(const s of o){const t=e[s];e=r(t)?t:e[s]={}}return e[a]=i,n},pu=e=>{try{return e()}catch(Kg){return}},Au=(e,t,r,n)=>function(){try{return t.apply(r||this,arguments)}catch(Kg){if(i(n)&&n(Kg),!0===Kg.preventProtect)throw Kg;Au.log(Kg,e)}};Au.log=function(e,t){console.log("LOG:"+t+":"+e)},Au.setTimeout=(e,t,i,r)=>window.setTimeout(Au("timeout",e,i,r),t);class mu{}mu.YaContextCallbacks=Oe("Ya.C","ontext._callbacks"),mu.YaContextCallbacksCalls=Oe("Ya.C","ontext._callbacks_call"),mu.AdvManager=Oe("A","dvManager"),mu.AdvBlock=Oe("A","dvBlock"),mu.RTB=Oe("R","TB"),mu.Rtb=Oe("R","tb"),mu.MetrikaAdtune=Oe("metrika_a","dtune");class vu{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const _u=Z((()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],(e=>{if(r=pu((()=>Sc(e,t))),!r)return pu((()=>h(e.frames)))||[]})),r||(r=i()),hu(e,t,r),r})(self,"Ya.pcodeCrossFrameData",(()=>new vu({}))))),gu=Z((()=>((e,t,i)=>{let r=Sc(e,t);return r||(r=i(),hu(e,t,r)),r})(self,"Ya.pcodeWindowData",(()=>new vu({}))))),yu="Ya._metrika.dataLayer",fu=Au("metrika::pushEvent",((e,t)=>{const i=Sc(e,yu)||[];hu(e,yu,i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:we({},t)}}})})),Su=Au("sessionId::configureMetrika",((e,t)=>{fu(e,{adSessionID:t})})),Tu=()=>(1e6*ed()).toFixed(0)+(new Date).valueOf().toString(),Eu="sessionId";let bu;const Cu=()=>{var e;return bu||(bu=((e,t,i,r)=>{let n=t.getItem(Eu);return n||(n=i.getItem(Eu)||e(),r(window,n)),t.setItem(Eu,n),i.setItem(Eu,n),n})(Tu,(e="common",uu(gu(),e,(()=>new vu({})))),(e=>uu(_u(),e,(()=>new vu({}))))("common"),Su)),bu},Ou=()=>N(Cu)||void 0,wu=e=>{var t;const r=null==(t=e.yandex)?void 0:t.getSiteUid;if(i(r))return String(r())},Pu=e=>Math.round(e),Iu=e=>({width:Pu(e.width),height:Pu(e.height)}),Du="function"===typeof IntersectionObserver&&d(IntersectionObserver),Nu=()=>!Ru(),Ru=()=>Du||!Ic,ku=e=>(e=>e instanceof Promise||"Promise"===Ll(e)&&Boolean(Ne((()=>d(e.constructor)))))(e)||(e=>Boolean(Ne((()=>i(e.then)&&i(e.catch)))))(e),Vu=[].find,Lu=d(Vu)?(e,t)=>Vu.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}};let Bu;const Mu=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Re(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",ke(e)}(t)}},xu=e=>t=>{const{JSON:i,clean:r}=Mu();try{return i[e](t)}finally{r()}},Uu="DEFAULT_ERROR_MESSAGE",Fu=0,Hu="",zu="?:?:?",ju=!0,Wu=e(3438);class Gu extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||Uu)};super(),Wu(this,Gu.prototype),this.message=t.message||i.message||Uu,this.code=t.code||i.code||i.id||Fu,this.isFatal=Boolean(function(e){const[t]=((e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const o=e[n];t.call(i,o,n,e)&&r.push(o)}return r})(e,(e=>void 0!==e));return t}([t.isFatal,i.isFatal,ju])),this.details=t.details||i.details||Hu;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:o,lineNumber:a}=e;return(t||n||"?")+":"+(i||a||"?")+":"+(r||o||"?")}(i);let n=r===zu?this.stack:r;if(n&&n!==zu)this.stack=n;else if(!this.stack)try{throw new Error(this.message)}catch(Kg){this.stack=n=Kg.stack||zu}this.toString=()=>Le(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:n})}}const Yu="ru";class Xu extends Gu{constructor(){super(...arguments),this.name="TranslatorError"}}const Ku=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],n=e=>{let{keyset:t,key:n,lang:o=Yu,onError:a,throwErr:s=!0}=e;if(r(o,t,n))return i(o,t,n);if(r(Yu,t,n))return i(Yu,t,n);{const e=new Xu("Tanker locale for lang="+o+", keyset="+t+", key="+n+" not found");return s&&q(e),"function"===typeof a&&a(e),""}};if(t){return ud(n,(e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r}))}return n}(e(3716)),qu=function(e,t){return void 0===t&&(t=Yu),Ku({keyset:"adsdk",key:e,lang:t})},Qu=/&\w+;/g,Ju={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},Zu=["spec","logo","misc"],$u=e=>{if(u(e))for(const t in e)if(e.hasOwnProperty(t)&&!M(Zu,t)){const i=e[t];return i.text&&m(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},eh=e=>{let t=0;return{promise:new Promise((i=>{t=window.setTimeout(i,e)})),clear(){clearTimeout(t)},timeoutId:t}},th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",ih={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},rh=D(ih),nh=V(window,"adsdksecuremode"),oh=nh&&M(rh,nh)?nh:void 0,ah=e=>{let{secureMode:t,url:i}=e;const r=null!=oh?oh:t;return"ForceSafe"===r||"Safe"===r&&(!i||!fe(i))},sh="application/x-javascript",lh=["application/javascript",sh],dh="ad-creative-animation/javascript",ch=Ge({},au,{bitrate:0}),uh=["aw","ap","s-a","d-sd","k-j","s"].join(""),hh=uh+"/1_0",ph={MotionTGO:"motion_ad_creative",MotionTailor:"motion_tailor_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",SurveyOldDesignAdCreative:"survey_old_design_ad_creative"},Ah=Xe({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},ph),mh=ae(ph,(e=>e+".js")),vh=Ye(mh),_h=ae(mh,(e=>"https://"+Wd+"/"+hh+"/"+e)),gh=Ye(_h),yh=Ke({},ch,{url:_h.InteractiveElementsAdCreative,type:dh}),fh="https://"+Wd+"/"+hh+"/ad_creative.js",Sh=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};var Th;const Eh=null!=(Th=rc.getFlagValueAndActivateTestId("VAS_ADCREATIVE_SURVEY_VERSION"))?Th:"v6919f23",bh="video_adcreative.bundle.js",Ch=qe({},ch,{type:dh,url:"https://"+Wd+"/s3/distribution/pythia/poll/"+Eh+"/"+bh}),Oh={MotionTGO:"motion",MotionTailor:"motion",InteractiveElementsAdCreative:"interactiveViewer",SurveyOldDesignAdCreative:"survey"},wh=Qe({},vh,{[bh]:"SurveyOldDesignAdCreative"}),Ph=""+("https://"+Wd+"/"+hh+"/")+("interactive_viewer"+".js"),Ih=function(e,t,i){const r=V(e,t);return r?Number(r):function(e){const t=100*ed();let i=0;for(let r=0;r<e.length;r++)if(i+=e[r].percent,t<i)return e[r].id;return e[0].id}(i)}(window,"adsdkver",Ld.code),Dh="https://"+Wd+"/"+uh+"-bundles/",Nh="https://"+Wd+"/"+uh+"/1_0/vpaid-motion.js",Rh="https://"+Wd+"/pcode/media/vpaid-motion.js",kh="https://"+zd+"/system/video-ads-sdk/vpaid-motion.js",Vh=Ze(Ih)+"vpaid-motion.js",Lh=[Nh,Rh,kh,Vh],Bh="video-banner_survey",Mh="https://"+Wd+"/pcode/media/vpaid-creative.js",xh="https://"+Wd+"/"+uh+"/1_0/vpaid-creative.js",Uh=[Mh,xh],Fh=V(window,"adsdkwithcredentials"),Hh=Fh?(""+Fh).toLowerCase():void 0,zh="true"===Hh||"false"!==Hh&&void 0;class jh{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>{this.remove(...t)}}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>{this.remove(...t)}}promise(){return new Promise((e=>{this.addOne(e)}))}dispatch(e){const{once:t}=this;this.once=[],rt(this.on,e),rt(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=cc(this.on,(e=>t.indexOf(e)<0)),this.once=cc(this.once,(e=>t.indexOf(e)<0))}}class Wh extends jh{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add((i=>{e(i)&&it(t,i)}))}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,(e=>{i(),it(t,e)}));return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}const Gh=e=>{try{const{left:t,right:i,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:n,width:i-t,height:n-r}}catch(Kg){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}},Yh={ES5:"bundles",ES2017:"bundles-es2017"},Xh=e=>{let{version:t=Bd,win:r}=e;const n=Cc(r),o=Yh.ES5,a=""+Ze(t)+o+"/proxy_frame.html";return i(n)?n(a):a};let Kh;const qh=function(e){return void 0===e&&(e=window),Kh||(Kh=e.document.createElement("div")),Kh}(window),Qh=(e,t)=>{const i="undefined"!==typeof qh.style[e];if(i&&t&&m(t))try{qh.style.cssText=e+": "+t+";";const i=Boolean(qh.style.cssText);return qh.style.cssText="",i}catch(Kg){return!1}return i},Jh={},Zh=function(e){return void 0===e&&(e=""),Jh[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<Bl.length;i++){const r=Bl[i],n=r?""+r+t:e;if(Qh(n))return Jh[e]=n}return Jh[e]=e}(e)},$h={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},ep=e=>{const t=st({},e,{RUM_WRAPPER:void 0,AB_FLAGS_STORE:void 0,STATS_ROOT_PARAMS:void 0,VAS_UAAS_CONFIG:void 0,VAS_UAAS_CONFIG_ParseError:void 0,AdditionalStatsRootFields:void 0,AdditionalStatsRootFieldsExtractionError:void 0,statsInstance:void 0});return encodeURI(JSON.stringify(t))},tp={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},ip={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},rp=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?ip:tp;at(t,r.attributes),nt(t,r.styles)},np="VAS_FRAME_GLOBAL_CALLBACK",op=Wl,ap=tc({propertyName:np,win:op}),sp=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" ");class lp extends Yc{constructor(e,t){super(),this.listenForCommandEvents=e=>{const t=ve({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new fc({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},this.port=e,this.commandHandlers=t,this.listenForNewCommands(),this.addDestroyHandler(ve({element:e,eventName:"messageerror",listener:()=>{this.destroy(new fc({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=c(6),r=eh(5e3);r.promise.then((()=>{this.destroy(new fc({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))})).catch(q),this.addDestroyHandler((()=>r.clear()));const n=this.waitForNextCommandEvent({name:e,id:i}),o=new Promise(((t,o)=>{n.then((n=>{if(r.clear(),"success"===n.status)t(n.payload);else if("error"===n.status){const e=n.payload;o((e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t})(e))}else{if("abort"===n.status)return;this.destroy(new fc({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:n.status,payload:n.payload,name:e,commandId:i}}))}})).catch(o)})),a=A((()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})}));return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:o,abort:a}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new fc({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(dt({},e,{type:"command"}))}catch(t){0,this.destroy(new fc({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise((t=>{const i=this.listenForCommandEvents((r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))}))}))}listenForNewCommands(){this.listenForCommandEvents((e=>{var t;if("start"!==e.status)return;const i=null==(t=this.commandHandlers)?void 0:t[e.name];if(!i)return void this.destroy(new fc({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),n=e.payload;try{i(r,n)}catch(o){0,this.destroy(new fc({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:o}}))}}))}createCommandControlDescriptor(e){const t=new jh;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy((r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())}))).catch(Ae),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const n=uc(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:n})},subscribeForAbort:function(){return i?Ae:t.add(...arguments)}}}isEventDataCommandLike(e){return!!u(e)&&("command"===e.type&&(!!f(e.id)&&!!f(e.status)))}}const dp=D({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),cp=["src","poster"],up=D({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),hp=["video/mp4","video/webm"],pp={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},Ap=D({load:0,play:0,pause:0,setAttribute:0}),mp=(e,t,i)=>{if(!u(e))return e;const r=e,n=t.split("."),o=n.pop();for(const a of n){const t=e[a];e=u(t)?t:e[a]={}}return e[o]=i,r};const vp=D({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),_p=new WeakSet;class gp extends Yc{static isVideoNodeLocked(e){return _p.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),z("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",ne(Sd(hp,(e=>[e,this.params.videoNode.canPlayType(e)])))),Cd(D(pp),(e=>{const t=pp[e];Cd(t,(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}))}))}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(M(Ap,e)){if("setAttribute"===e){const[e,r=""]=t;if(!f(e))return;return M(cp,e)?i.setAttribute(e,r):void Xc.error({error:new fc({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}Xc.error({error:new fc({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!M(up,e))return void Xc.error({error:new fc({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,n=i[r];mp(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler((()=>{mp(i,e,n)}))}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Cd(dp,(t=>{this.addDestroyHandler(ve({element:e,eventName:t,listener:e=>{pp.hasOwnProperty(e.type)&&Cd(pp[e.type],(e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})),setTimeout(this.ignoreAfterDestroy((()=>{const t=(e=>ct({},ne(Sd(vp,(t=>[t,e[t]]))),{target:null}))(e);this.params.handleVideoNodeEvent(t)})),0)}}))}))}}class yp extends Yc{constructor(e){super(),this.vpaidEventBus=new jh,this.vpaidGetterPropertyBus=new jh,this.dispatcherCommandHandlers={handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:n}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:n})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:n}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:n})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:n,args:o}]=t;const a=this.localVideoNode;if(a)try{z("[outsideAPI] call video method=["+n+"], args=["+o+"]");const e=a.callVideoNodeMethod(n,o);return ku(e)?e.then((e=>{i(e)})).catch(r):i(e)}catch(s){this.destroy(new fc({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new fc({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:n}]=t;i();const o=this.localVideoNode;o?M(up,r)?(z("[outsideAPI] set video property name=["+r+"], value=["+n+"]"),o.setVideoNodeProperty(r,n)):this.destroy(new fc({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:n}})):this.destroy(new fc({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:n}}))}},this.handleVideoNodeEvent=e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])},this.handleVideoNodePropertyChange=(e,t)=>{z("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])},this.params=e,z("[outsideApi]: init"),this.addDestroyHandler((e=>{e&&Xc.error({error:e})})),this.changeFrameVisibility(!1),this.dispatcher=new lp(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler((()=>this.dispatcher.destroy(void 0))),this.addDestroyHandler(ve({element:e.port,eventName:"message",listener:e=>{if(!(e=>{const t=e.data;return!(!u(t)||"kill-me"!==t.type)})(e))return;const{data:t}=e;this.destroy(new fc({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler((e=>{this.isDestroyed||(Xc.error({error:null!=e?e:new fc({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))})),this.addDestroyHandler((()=>{this.vpaidEventBus.removeAll()}))}async doGETRequest(e){z("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return z("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){z("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,z("[outsideApi]: done loading creative")}async initCreative(e){z("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,z("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return z("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return z("[outsideApi]: "+(e?"show":"hide")+" frame"),rp({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(gp.isVideoNodeLocked(t))throw z("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");z("[outsideApi]: assign video tag"),this.localVideoNode=new gp({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler((()=>{var e;z("[outsideApi]: UNassign video tag"),null==(e=this.localVideoNode)||e.destroy(void 0)}))}listenRemoteVpaidEvents(e,t){return z("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add((i=>{let{eventName:r,args:n}=i;e===r&&t(r,n)}))}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add((t=>{let{methodName:i,value:r}=t;e(i,r)}))}}const fp=async e=>{let{container:t,initAbort:i,initTimeout:r}=e;const n=c(6);Xc.event({name:"VASFrameInitStart",probability:lc,data:{handshakeID:n}});const o=Date.now();let a=!1;const s=new jh;s.add((()=>{a=!0})),i.add((()=>{z("[initOutsideApi]: init aborted"),Xc.event({name:"VASFrameInitAborted",probability:lc,data:{handshakeID:n}}),s.dispatch(void 0)}));const l=ut({},ic,{handshakeID:n}),d=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const n=t.ownerDocument.createElement("iframe");return at(n,{name:ep(r),sandbox:sp,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),nt(n,lt({},$h)),rp({iframe:n,shouldBeVisibleNow:!1}),t.appendChild(n),n})({container:t,frameUrl:Xh({win:window}),initialData:l});s.add((()=>{z("[initOutsideApi]: remove frame"),me(d)}));const h=new MessageChannel;h.port1.start(),s.add((()=>{h.port1.close()}));const p=new Promise((e=>{z("[initOutsideApi]: wait for frame to load"),d.addEventListener("load",(()=>{z("[initOutsideApi]: got load event. transfer port"),d.contentWindow.postMessage({type:"init",handshakeID:n},"*",[h.port2]),e()}))})),A=new Promise((e=>{const t=ve({element:h.port1,eventName:"message",listener:i=>{const r=i.data;"handshake"===r.type&&r.initialData.handshakeID===n&&(z("[initOutsideApi]: got handshake event"),t(),e())}})})),m=Promise.all([p,A]),{promise:v,clear:_}=eh(r);if(v.then((()=>{var e;Xc.error({error:new fc({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null==(e=d.parentElement)?void 0:e.tagName,frameBoundingClientRect:Gh(d),handshakeID:n}})}),s.dispatch(void 0)})),m.then((()=>{_()})),s.add((()=>{_()})),await Promise.race([m,v]),a)throw new fc({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Xc.values({name:"VASFrameInitSuccess",probability:lc,data:{handshakeID:n},labels:{},values:{timeSpent:Date.now()-o},sensors:{}}),d.removeAttribute("name"),i.removeAll();const g=new yp({port:h.port1,initialData:l,frame:d});return g.addDestroyHandler((()=>{z("[initOutsideApi]: do teardown since class destroy"),Xc.event({name:"VASFrameDestroy",probability:lc,data:{handshakeID:n}}),s.dispatch(void 0)})),g.addDestroyHandler(ve({element:h.port1,eventName:"message",listener:e=>{const t=e.data;u(t)&&"destroy"===t.type&&Xc.error({error:new fc({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),z("[initOutsideApi]: init done"),g},Sp=e=>{var t;z("[initOutsideApi]: do init"),t={name:"before OutsideAPI init call",initParams:e},ap.call({propertyName:np,win:op,callbackArguments:[{step:t}]});const{container:i,initTimeout:r}=e,n=new jh,o=i.ownerDocument.defaultView;return{initPromise:fp({container:i,initAbort:n,initTimeout:r,win:o}),abortInit:()=>n.dispatch(void 0)}},Tp={idle:["initializing"],initializing:["initialized"]};class Ep extends Yc{constructor(){super(),this.state=new Wh({name:"idle"},((e,t)=>{const i=Tp[e.name];return i&&M(i,t.name)||Xc.error({error:new fc({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),z("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),this.users=0,z("SingleVASFrame: create instance"),this.initPromise=new Promise((e=>{this.state.add((t=>{"initialized"===t.name&&e(t.outsideApi)}))})),this.state.add((e=>{"initializing"===e.name&&e.outsideApiInitPromise.then((e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler((()=>{e.destroy(void 0)}))})).catch((e=>{this.destroy(e)}))}))}init(e){z("SingleVASFrame: do init");const t=Sp(e);this.addDestroyHandler((()=>{t.abortInit()})),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");z("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){z("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let bp;const Cp=()=>(bp||(bp=new Ep,bp.addDestroyHandler((()=>{bp=void 0}))),bp),Op=async e=>{const t=Cp();return(await t.initPromise).doGETRequest(e)},wp=async(e,t)=>{let i;try{await new Promise(((r,n)=>{t&&t.then(r,n),i=window.setTimeout(r,e)}))}finally{window.clearTimeout(i)}},Pp=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise(((e,n)=>{const o=new XMLHttpRequest;o.open("GET",t),o.withCredentials=r,o.onerror=()=>n({reason:"error",error:new Error("XHR Error["+o.status+"]["+o.statusText+"]["+t+"]")}),o.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:o,resolve:e});try{o.send(i)}catch(hw){hw.message="XHR Send Error["+hw.message+"]["+t+"]";n({reason:"error",error:hw})}}))},Ip=["nobanner","noad"],Dp=function(e,t){let i=e[t];if(!d(i)){const r=i;try{delete e[t],i=e[t],e[t]=r}catch(Kg){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,r(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},Np=function e(t,n){void 0===n&&(n={preserveConstructors:!0});let o=t;if(dd(t)){const i=t.map((t=>e(t,n)));return i}return(a=t)instanceof Date||"Date"===Ll(a)?new Date(t.getTime()):(!i(t)&&r(t)&&(o=n.preserveConstructors?Dp(t):{},_(t,((t,i)=>{o[i]=e(t,n)}))),o);var a},Rp=gt({},ch,{type:sh}),kp=yt({url:fh},Rp),Vp={nextAd:0,startVideo:0,continueVideo:0},Lp={type:"nextAd",poster:[]},Bp={poster:[]};let Mp={ads:[],children:[],xmlString:"",url:void 0,isUniformat:!1};let xp={sequence:0,adId:void 0,bidreqid:void 0,campaignid:void 0,pageId:void 0,impId:void 0,vmapRequestId:void 0,creativeId:void 0,parseIndex:0,randomHexString:"",adParameters:"",mediaFiles:[],firstFrameImages:[],icons:[],progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,adVerifications:[]};const Up=Wd+"/"+uh+"/1_0/no-aim-screen.js",Fp={type:"ad-creative-animation/javascript",url:Up},Hp=(e,t,i)=>{const r=wt(e,t,i),n=parseInt(r,10);return x(n)?n:i},zp=2147483647,jp=-1,Wp={adLabel:0,socialAdLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0,disclaimers:0,ageLabel:0,title:0,body:0,domain:0,backpackAdSequence:0},Gp=D(Wp),Yp=ae(Wp,(()=>!1)),Xp={controlsVisibility:{}},Kp={};let qp={showCountDown:!0,showSoundButton:!0,showLabel:!0};const Qp=e=>({src:Pt(e.querySelector("StaticResource")),program:wt(e,"program"),xPosition:Hp(e,"xPosition",0),yPosition:Hp(e,"yPosition",0),width:Hp(e,"width",0),height:Hp(e,"height",0)}),Jp=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])};let Zp;const $p=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),o=e.querySelector("Linear"),a=e.querySelector("TrackingEvents"),s=a?a.querySelectorAll("Tracking"):[],l=h(e.querySelectorAll("Impression")),d=e.querySelectorAll("Error"),p=e.querySelector("Extensions"),v=e.querySelector("Description"),_=e.querySelectorAll("Icons Icon"),g=e.querySelector("AdParameters"),y=e.querySelector("AdSystem"),S=e.querySelector("AdTitle"),T=e.querySelector("Creative"),E=f(e.id)?e.id:void 0,b=Np(xp,{preserveConstructors:!1});b.adId=E,T&&(b.creativeId=f(T.id)?T.id:void 0),b.parseIndex=void 0===Zp?(Zp=0,Zp):++Zp,b.randomHexString=c(16);const C=e.querySelector("InLine"),O=e.querySelector("Wrapper"),w=Boolean(C);if(w===Boolean(O)){if(w)throw new fc({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new fc({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(b.adVerifications=function(e){const t=[];let i=e.querySelector("AdVerifications");const r=e.querySelector("Extensions");if(!i&&r&&(i=r.querySelector('[type="AdVerifications"]>AdVerifications')),!i)return t;const n=i.querySelectorAll("Verification"),o=[];if(Boolean(n))for(const a of Array.from(n)){const e=a.getAttribute("vendor"),i=Pt(a.querySelector("JavaScriptResource")),r={},n=a.querySelectorAll("TrackingEvents>Tracking");if(Boolean(n))for(const t of Array.from(n)){const e=wt(t,"event"),i=Pt(t);f(e)&&f(i)&&(r[e]=i)}const s=Pt(a.querySelector("VerificationParameters"));f(e)&&f(i)&&m(s)?t.push({vendorKey:e,javaScriptResource:i,trackingEvents:r,verificationParameters:s}):o.push({vendorKey:e,javaScriptResource:i,trackingEvents:r,verificationParameters:s})}return o.length>0&&Xc.error({error:new fc({code:"OMID_OBJECT_FROM_VERIFICATION_NODE_IN_VAST_IS_INVALID",details:{invalidAdVerifications:JSON.stringify(o)}})}),t}(e),b.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return-1;const i=parseInt(t,10);return j(i)?i:(Xc.error({error:new fc({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),-1)}(e),w&&g){const e=Pt(g);b.adParameters=e;const t=Ht(e);if(u(t)){var P;b.adParametersObject=t;const e=function(e){if(!u(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!u(t))return;const{data_params:i}=t;if(!u(i))return;const{misc:r}=i;if(!u(r))return;const{click_url:n}=r;if(!u(n))return;const{abuse:o}=n;return f(o)?o:void 0}(t);e&&(b.abuseUrl=e),b.playbackAdParameters=Ft(t.playbackParameters).config;const i=function(e){if(!u(e))return;const{background:t}=e;return u(t)&&f(t.color)?t.color:void 0}(t);void 0!==i&&(b.backgroundColor=i);const r=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(f(t))return t}(t);r&&Jp(b,"packshotStart",r);const{bidreqid:n,campaignid:o,pageId:a,impId:s,vmapRequestId:l}=function(e){if(!u(e))return{};const{AUCTION_DC_PARAMS:t}=e;if(!u(t))return{};const{data_params:i}=t;if(!u(i))return{};const{misc:r}=i;if(!u(r))return{};const{bidreqid:n,campaignid:o,pageId:a,impId:s,vmap_request_id:l}=r;return{bidreqid:f(n)?n:void 0,campaignid:f(o)?o:void 0,pageId:f(a)?a:void 0,impId:f(s)?s:void 0,vmapRequestId:f(l)?l:void 0}}(t);b.bidreqid=n,b.campaignid=o,b.pageId=a,b.impId=s,b.vmapRequestId=l,b.firstFrameImages=St(null==(P=t.firstFrame)?void 0:P.images),b.productType=Nt(t)}}if(O){const t=Pt(e.querySelector("VASTAdTagURI"));if(!t)throw new fc({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});b.vastAdTagUri=t}if(void 0!==n)for(let c=0;c<n.length;c++){const e=Dt(n[c]);e&&b.mediaFiles.push(e)}if(r){const e=Pt(r.querySelector("ClickThrough"));e&&(b.clickThrough=e);const t=r.querySelectorAll("ClickTracking");for(let i=0;i<t.length;i++)Jp(b,"clickThrough",Pt(t[i]))}for(let c=0;c<s.length;c++){const e=wt(s[c],"event"),t=Pt(s[c]);if("progress"===e){const e=wt(s[c],"offset",""),r=jt(e);void 0===r?Xc.error({error:new fc({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})}):b.progressTrackings.push({urls:[t],offset:r})}else Jp(b,e,t)}Cd(l,(e=>{Jp(b,"impression",Pt(e))}));for(let c=0;c<d.length;c++)Jp(b,"error",Pt(d[c]));for(let c=0;c<_.length;c++)b.icons.push(Qp(_[c]));if(p){const e=p.querySelectorAll('Extension[type="skipAd"]');for(let a=0;a<e.length;a++)Xc.event({name:"UsingSkipAdExtensionInVast",probability:lc,data:void 0}),Jp(b,"skip",Pt(e[a]));const t=p.querySelector('Extension[type="skipTime"]');if(It(t)){const e=zt(Pt(t));Xc.event({name:"UsingSkipTimeExtensionInVast",probability:lc,data:{skipTime:e}}),b.skipTime=zt(Pt(t)),b.skipTime>180&&(b.skipTime=0)}const i=p.querySelector('Extension[type="controls"]');if(i){const e=(e=>{const t=Wt({},qp),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==wt(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==wt(r,"layout"));const n=e.querySelector('control[id="adlabel"]');return n&&(t.showLabel="0"!==wt(n,"layout")),t})(i);Xc.event({name:"UsingControlsExtensionInVast",probability:dc,data:{imhoParams:e}}),b.imhoParams=e}const r=A((()=>{Xc.event({name:"UsingCustomTrackingExtensionInVast",probability:dc,data:void 0})})),n=p.querySelector('Extension[type="CustomTracking"]'),o=n?n.querySelectorAll("Tracking"):[];for(let a=0;a<o.length;a++){r();const e=wt(o[a],"event");Jp(b,e,Pt(o[a]))}}if(It(v)&&(b.description=Pt(v)),It(y)&&(b.adSystem=Pt(y)),It(S)&&(b.adTitle=Pt(S)),o){const e=wt(o,"skipoffset","").trim();if(""!==e){const t=zt(e);isNaN(t)?De(new fc({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),b.trackingEvents.error):b.skipOffset=t}const t=o.querySelector("Duration");t&&(b.duration=zt(Pt(t)))}return b},eA=ze({interactiveViewer:0,motion:0,themeEmpty:0,survey:0,external:0,video:0,clickableVideo:0,vpaidCreative:0},(e=>"firstAdPodFormatType_"+e)),tA=async e=>{var t;let{url:i,loadParameters:r,isWrapper:n=!1}=e;if(!i)return Promise.reject(new fc({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:o}=r;Xc.event({name:n?"WrapperVastLoadStart":"VastLoadStart",probability:lc,data:{url:i,loadParameters:r,timeout:o}});const a=Date.now(),s=await iA({url:i,loadParameters:r,isWrapper:n}),l=He(null==(t=s.ads[0])?void 0:t.adParametersObject),d=Boolean(l),c=et(s.ads[0]),u=ye(h=i)?"AD_FOX":fe(h)?"YANDEX":"EXTERNAL";var h;return Xc.values({name:n?"WrapperVastLoadSuccess":"VastLoadSuccess",probability:lc,data:{url:i,timeout:r.vastTimeout,vast:s,hasTargetUrl_true:d?1:0,hasTargetUrl_false:d?0:1},labels:{},values:Gt({adsCount:s.ads.length,timeSpent:Date.now()-a},eA,{["firstAdPodFormatType_"+c]:1}),sensors:{firstAdPodFormatType:c,vastSource:u}}),s},iA=async e=>{let{url:t,loadParameters:i,isWrapper:r=!1}=e;const{vastTimeout:n}=i,o=fe(t),a="VASFrame"===i.requestMethod?Op:Pp,s="boolean"!==typeof zh||zh;try{const{responseText:e,responseStatus:r}=await At({url:t,data:null,timeout:n,doRequest:a,withCredentials:s}),l=function(e,t,i){if(200!==t)switch(e){case"\x3c!-- Bad partner/domain --\x3e":return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case"\x3c!-- PageImp data not found --\x3e":return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,r,o);if(l)throw new fc({code:l,details:{url:t,responseText:e,responseStatus:r}});return rA({xmlString:e,loadParameters:i,vastUrl:t})}catch(hw){const a="AD_FOX"===i.vastSourceType;let s,l;s=tt(hw)?hw.code:a?"ADFOX_VAST_LOAD_ERROR":o?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR",l=r?o?"YANDEX_WRAPPER_VAST_LOAD_TIMEOUT":"WRAPPER_VAST_LOAD_TIMEOUT":o?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT";const d=(e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:o}=e;const a=t;if(tt(a))return a;if("string"===typeof a.reason&&u(a.error)){const{error:e,reason:t}=a;if("error"===t)return new fc(e,{code:i,details:r});if("timeout"===t)return new fc(e,{code:n,details:o})}return new fc(t,{code:i,details:r})})({thrownError:hw,errorCode:s,errorDetails:void 0,timeoutCode:l,timeoutDetails:{vastTimeout:n,url:t}});return Promise.reject(d)}},rA=async e=>{let{loadParameters:t,vastUrl:i,xmlString:r}=e;const n=ht(r),o="YANDEX"===t.vastSourceType;if(!n){const e=(()=>{switch(t.vastSourceType){case"YANDEX":return"YANDEX_INVALID_VAST_XML";case"AD_FOX":return"ADFOX_INVALID_VAST_XML";default:return"INVALID_VAST_XML"}})();throw new fc({code:e,details:{xmlString:r}})}const a=n.querySelector("VAST");if(!a){const e=o?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",t=o?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new fc({code:Ip.indexOf(vt(n))>-1?e:t,details:{xmlString:r}})}const s=a.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!m(e))return!1;const t=Number(e.split(".")[0]);return!!Ee(t)&&t<=4}(s))throw new fc({code:o?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:r,version:s}});const l="true"===a.getAttribute("ya-uniformat"),d=h(a.querySelectorAll("VAST Ad"));let c;if(0===d.length)c=function(e){let{isUniformat:t,xmlVastNode:i,xmlString:r}=e;const n=Np(Mp,{preserveConstructors:!1}),o=i.querySelector('Extension[type="aim"]');if(!o)return n;const a=o.textContent;if(!a)return n;const s=N((()=>JSON.parse(a)),(()=>{throw new fc({code:"NO_AIM_SCREEN_JSON_IS_INVALID",details:{aimConfig:a}})}));if(!u(s))throw new fc({code:"NO_AIM_SCREEN_JSON_IS_NOT_AN_OBJECT",details:{aimConfig:s}});Xc.event({name:"NoAimScreenDataParsed",data:{aimNodeConfig:a}});const{isActive:l,filterReasons:d}=s;if("boolean"!==typeof l)throw new fc({code:"NO_AIM_SCREEN_INVALID_IS_ACTIVE_PARAMETER",details:{aimConfig:a}});if(!l)return n;if(!wd(d))throw new fc({code:"NO_AIM_SCREEN_FILTER_REASONS_IS_NOT_ARRAY",details:{filterReasons:d}});const c=[];for(const u of d){if(!Ot(u))throw new fc({code:"NO_AIM_SCREEN_FILTER_REASON_INVALID",details:{filterReasons:d}});c.push(u)}const h={controlsSettings:{visibility:!1,controlsVisibility:{}},trackingEvents:{},lang:"ru",packshotSettings:{},contentAfterAd:Bp},p={playbackParameters:h,mediaFiles:[Fp],adParameters:{filterReasons:c}};return{isUniformat:t,ads:[Ct({},Np(xp,{preserveConstructors:!1}),{duration:15,playbackAdParameters:h,mediaFiles:[kp],adParameters:JSON.stringify(p),adParametersObject:p})],children:[],xmlString:r,url:void 0}}({isUniformat:l,xmlVastNode:a,xmlString:r});else{const e=[],n=Sd(d,(i=>{const r=$p(i,{isYandexVastUrl:o}),{vastAdTagUri:n}=r;if(!n)return[r];if(t.wrapperMaxCount<=1)return Xc.error({error:new fc({code:o?"YANDEX_WRAPPER_VAST_MAX_COUNT_LIMIT":"WRAPPER_VAST_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a}=t;return tA({url:Pe({url:n,options:a,win:window}),loadParameters:Gt({},t,{wrapperMaxCount:t.wrapperMaxCount-1}),isWrapper:!0}).then((t=>(e.push(t),Sd(t.ads,(e=>{var t,i;return t=e,(i=r).mediaFiles.length&&(t.mediaFiles=[...t.mediaFiles,...i.mediaFiles]),Cd(D(i.trackingEvents),(e=>{t.trackingEvents[e]=[...t.trackingEvents[e]||[],...i.trackingEvents[e]||[]]})),t.clickThrough||(t.clickThrough=i.clickThrough),null===t.skipTime&&(t.skipTime=i.skipTime),null===t.skipOffset&&(t.skipOffset=i.skipOffset),t.progressTrackings.push(...i.progressTrackings),isNaN(t.duration)&&(t.duration=i.duration),-1===t.sequence&&(t.sequence=i.sequence),t.adSystem||(t.adSystem=i.adSystem),e}))))).catch((e=>(tt(e)?Xc.error({error:e}):Xc.error({error:new fc({code:o?"YANDEX_WRAPPER_VAST_LOAD_ERROR":"WRAPPER_VAST_LOAD_ERROR",details:{error:e,vastAdTagUri:n,parsingParameters:t}})}),[])))}));c={ads:mt(await Promise.all(n)),xmlString:r,children:e,url:i,isUniformat:l}}const p=function(e){var t,i,r,n;const o=$u(null==(t=e.ads[0])||null==(i=t.adParametersObject)||null==(r=i.AUCTION_DC_PARAMS)?void 0:r.data_params),a=null==o||null==(n=o.assets)?void 0:n.images;return void 0!==a&&wd(a)&&a.length>0}(c),A=(e=>{const t=e.ads[0];return(null==t?void 0:t.firstFrameImages.length)>0})(c),v=function(e){var t;const i=null==(t=e.ads[0])?void 0:t.productType;return void 0===i?"unknown":_t(i)}(c);let _;return _=!0===v?"cpm":!1===v?"other":"unknown",Xc.values({name:"CreateVastFromXMLString",data:void 0,labels:{},values:{uniformat_true:c.isUniformat?1:0,uniformat_false:c.isUniformat?0:1,firstAdPodHasImages_true:p?1:0,firstAdPodHasImages_false:p?0:1,firstAdPodHasFirstFrameImage_true:A?1:0,firstAdPodHasFirstFrameImage_false:A?0:1,firstAdPodCreativeType_cpm:"cpm"===_?1:0,firstAdPodCreativeType_other:"other"===_?1:0,firstAdPodCreativeType_unknown:"unknown"===_?1:0},probability:lc,sensors:{uniformat:c.isUniformat?"true":"false",firstAdPodHasImages:p?"true":"false",firstAdPodHasFirstFrameImage:A?"true":"false",firstAdPodCreativeType:_}}),c},nA={bids:[],creatives:{},creativeUrls:{}};class oA extends Yc{constructor(e,t,i){super(),this.onFetchBidsStart=new jh,this.postMessageRequestId=oc+"_"+c(16),this.adFoxParameters=e,this.adBreak=t,this.win=i,this.addDestroyHandler((()=>{this.onFetchBidsStart.removeAll()})),this.requestPromise=new Promise((e=>{this.addDestroyHandler(e)})),this.requestBids()}requestBids(){Xc.event({name:"HBRequestStart",probability:lc,data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then((async e=>{let{timeout:t}=e;Xc.event({name:"HBFetchBidsStart",probability:lc,data:Jt({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=eh(t);throw this.addDestroyHandler(i),await r,new fc({code:"HB_FETCH_BIDS_TIMEOUT",details:Jt({},this.getDataForLogs(),{timeout:t})})})).catch((e=>{Xc.errorToStats(e),this.destroy(nA)}))}subscribeHBMessages(){this.addDestroyHandler(ve({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!u(t)||!u(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Xc.error({error:new fc({code:"HB_MESSAGE_UNKNOWN_METHOD",details:Jt({},this.getDataForLogs(),{methodName:n})})})}}}))}handleFetchBidsStartEventData(e){if(!u(e))return void Xc.error({error:new fc({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;Ee(t)?this.onFetchBidsStart.dispatch({timeout:t}):Xc.error({error:new fc({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:Jt({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new fc({code:"HB_NON_ARRAY_BIDS_DATA",details:Qt({},t,{fetchedBids:e})});e.length>1&&i.push(new fc({code:"HB_EXTRA_BIDS_DATA",details:Qt({},t,{fetchedBids:e})}));const[r]=e;if(!u(r))throw new fc({code:"HB_NON_OBJECT_BIDS_DATA",details:Qt({},t,{fetchedBids:e})});const{bids:n,creatives:o,creativeUrls:a}=r;if(!Array.isArray(n)||!Sh(n,u))throw new fc({code:"HB_INVALID_BIDS_OBJECTS",details:Qt({},t,{fetchedBids:e})});if(!u(o)||!Sh(qt(o),m))throw new fc({code:"HB_BIDS_INVALID_CREATIVES",details:Qt({},t,{fetchedBids:e})});if(!u(a)||!Sh(qt(a),m))throw new fc({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:Qt({},t,{fetchedBids:e})});return{bids:n,creatives:o,creativeUrls:a,warnings:i}}(e,this.getDataForLogs()),o={bids:t,creatives:i,creativeUrls:r};Yt(n),Xc.event({name:"HBFetchBidsComplete",probability:lc,data:Jt({},this.getDataForLogs(),{fetchedBidsObject:o})}),this.destroy(o)}catch(hw){Xc.errorToStats(hw)}}sendBidsRequest(){const e=U(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const n of e)Kt(Jt({win:n},t));const{promise:i,clear:r}=eh(100);return this.addDestroyHandler(r),new Promise(((e,t)=>{i.then((()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise((r=>{t=ve({element:e,eventName:"message",listener:e=>{let{data:n}=e;n===i&&(t(),r())}}),e.postMessage(i,"*")}));return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e})).then((()=>{t(new fc({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))})).catch(t);const n=Xt((t=>{r(),e(t)}),(e=>{Xc.error({error:new fc({code:"HB_START_MULTIPLE_TIMES",details:Jt({},this.getDataForLogs(),{data:e})})})}));this.addDestroyHandler(this.onFetchBidsStart.add(n))}))}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const aA=function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1},sA=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var lA,dA;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(lA||(lA={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(dA||(dA={}));const cA=e=>Math.max(0,Math.round(e));class uA{constructor(){this.config=$t()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}ti({},ic.AB_FLAGS);const hA=ti({},ic.AB_FLAGS),pA=e=>hA[e],AA="TRUE"===pA("REQUEST_ADFOX_FROM_YANDEX_RU"),mA=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"];si();let vA=0;const _A=()=>vA,gA=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},yA=e=>{const t=e.getFullYear(),i=gA(e.getMonth()+1,2),r=gA(e.getDate(),2),n=gA(e.getHours(),2),o=gA(e.getMinutes(),2),a=gA(e.getSeconds(),2),s=gA(e.getMilliseconds(),3),l=(e=>{const t=-e.getTimezoneOffset();return(t>=0?"+":"-")+gA(Math.floor(Math.abs(t)/60),2)+":"+gA(Math.abs(t)%60,2)})(e);return t+"-"+i+"-"+r+"T"+n+":"+o+":"+a+"."+s+l},fA=()=>function(e,t){let i=e+ed()*(t+1-e);return i=Math.floor(i),i}(1,4294967295);let SA=0;const TA=[/avito/],EA=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],bA=["an.ya","ndex.ru/adf","ox"].join(""),CA=AA&&!ic.LOADER_LOADED_FROM_AN_YANDEX_RU;class OA extends Yc{constructor(e){super(),this.params=e;const{promise:t,clear:i}=eh(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch((e=>{throw Xc.errorToStats(e),this.destroy(),e}))}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:r}=this.params;let{adFoxParameters:n}=t;const{bids:o,containerId:a}=n;if(!o&&a){const e=new oA(Si({},n,{containerId:a}),i,window);this.addDestroyHandler((()=>{e.destroy(nA)}));const r=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then((()=>{throw new fc({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})}))]);n=Si({},n,r)}const s=await Promise.race([fi({adFoxParameters:n,adPlacementOptions:r,secureMode:t.secureMode}),this.loadingTimeoutPromise.then((()=>{throw new fc({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:n}})}))]),{vastBase64:l}=s;if(l){const e=await this.processBase64Vast(l).catch((e=>{throw new fc({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:l,error:e}})}));return Xc.event({name:"AdFoxVastLoadedUsingHB",probability:lc,data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const d=await this.processLoadingHBCreativeUsingCampaignId(n,s),c=cc(null!=(e=n.bids)?e:[],(e=>""+(e.campaign_id||"")===s.campaignId));return Cd(c,(e=>{let{win_notice:t}=e;t&&Cd(d.ads,(e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)}))})),Xc.event({name:"AdFoxVastLoaded",probability:lc,data:{adConfig:t,adBreak:i,vast:d}}),this.destroy(),d}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:r,adBreak:n}=this.params,{creatives:o={},creativeUrls:a={}}=e,s=o[i],l=a[i];if(!s&&!l)throw new fc({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:r,adBreak:n,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch((e=>{throw new fc({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastBase64:s,error:e}})})):tA({url:l,loadParameters:Fe({adConfig:r,adBreak:n,isAdFox:!0,adPlacementOptions:su})}).catch((e=>{throw new fc({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:r,adBreak:n,vastUrl:l,error:e}})}))}processBase64Vast(e){let t;try{t=Ue(e)}catch(hw){throw new fc({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:hw}})}return rA({xmlString:t,loadParameters:Fe({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:su}),vastUrl:void 0})}}const wA=function e(t){return Kd(t,((t,i)=>t.concat(wd(i)?e(i):i)),[])},PA=e=>{const t=e.match(/(.*?)[?#]/);return null===t?e:t[1]},IA=V(window,"adsdknovastconvertation"),DA=e=>{const{protocol:t}=E(e);return"blob:"===t?e:fe(e)?i(Cc())?e:w(e,{[lu]:oc,[du]:nc}):e},NA=e=>Ei({},e,{url:DA(e.url)}),RA=wi({},ch,{url:_h.MotionTGO,type:dh}),kA=Pi({},ch,{url:_h.MotionTailor,type:dh}),VA=Ii({},ch,{url:_h.SurveyOldDesignAdCreative,type:dh}),LA=function(e){return void 0===e&&(e=window),-1!==Nl(e)}(),BA=["tickerData","interactiveElements","mediaFiles"],MA=["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"];const xA=["https://"+Wd+"/pcode/media/vpaid-pythia-survey-embed.js"],UA=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&eu(t,(e=>M(Uh,e.url)))},FA=V(window,vd),HA=V(window,_d),zA=V(window,gd),jA=V(window,yd),WA=e=>{let{adConfig:t,adBreak:i,random:r,win:n}=e;const{targetRef:o,width:a,height:s,tagsList:l,extParam:d,charset:c,distrId:u,metaRequestIndex:h,metaImpIdRequestIndex:p}=t,A=n.document.referrer,m=g(n);let v;return o?(v=o,Xc.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:lc})):"about:blank"===m?(v=A,Xc.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:lc})):v=m,Ki({},(e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:n,videoPublisherName:o,videoGenreId:a,videoGenreName:s,musicArtistId:l,musicGenreId:d,musicGenreName:c,preferableAdSize:u}=e;const{ICOOKIE:h,TEST_IDS:p,AB_FLAGS:A,AB_FLAGS_STORE:m}=ic;return Yi({},Gi(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":n,"video-publisher-name":o,"video-genre-id":Wi(a),"video-genre-name":Wi(s),"meta-request-index":void 0,"meta-impid-request-index":void 0,music_artist_id:l,"music-genre":d,"music-genre-name":c,"ad-session-id":Ou(),[vd]:FA,[_d]:HA,[gd]:zA,[yd]:jA,"pcode-icookie":h,"pcode-test-ids":p,"pcode-flags":JSON.stringify(A),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0,uniformat:"ENABLE"===m.getFlagValueAndActivateTestId("UNIFORMAT")?"true":void 0})})(t),{"meta-request-index":void 0===h?void 0:String(h),"meta-impid-request-index":void 0===p?void 0:String(p),"repeat-number":Xi(i)?String(i.repeatNumber):void 0,"target-ref":v,"page-ref":A,"video-width":a,"video-height":s,"tags-list":Wi(l),"ext-param":d,charset:c||"UTF-8","video-session-id":i.sessionId,"distr-id":u,"enable-page-options":"65536",rnd:String(r)})},GA="Yabs Ad Server",YA=[GA,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],XA={width:void 0,height:void 0},KA={text:"",textColor:"#FFFFFF",isVisible:!1},qA=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Lc(e))(window),QA=(""+V(window,"adsdkecmaver")).toUpperCase(),JA="ES2017"===QA||"ES5"===QA?QA:void 0,ZA="ES2017"===JA?"ES2017":"ES5"===JA?"ES5":qA?"ES2017":"ES5",$A="utf-8",em={onBeforeLoad:e=>{var t;t=ic,e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t}},tm=e=>{(e=>{e.crossOrigin="anonymous"})(e),null==em.onBeforeLoad||em.onBeforeLoad(e)},im=1e3;class rm extends Yc{constructor(){super(),this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)},this.addDestroyHandler((()=>{this.stop()}))}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise((t=>{this.addCallback(e,t)}))}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=Ji(this.callbacks,(e=>{let{time:t}=e;return t<=this.spent}));this.callbacks=t,Cd(e,(e=>{let{callback:t}=e;t()}))}}const nm=dr({},$h,{display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"YS Text, -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif",padding:"14px",backgroundColor:"#f4f6fb",fontSize:"14px",color:"#a3acbf"}),om={fontWeight:"600",fontSize:"16px",color:"#3a3d40",textAlign:"center"},am={width:"calc(100% - 28px)"},sm={listStyle:"none",margin:"0px",padding:"0px",alignSelf:"flex-start",width:"calc(100% - 28px)"},lm=e=>{let{src:t,win:i}=e;const r=Fi(t),{promise:n,teardown:o}=sr({src:r?Vh:t,win:i});return{promise:n.then((()=>i.getVPAIDAd)),teardown:o}},dm=e=>{const t=Number(pA(e));return x(t)?t:void 0},cm=dm("MEDIA_FILE_BITRATE_PRIORITY_FACTOR"),um=j(cm)?W(cm,0,1):1e-6,hm=rc.getFlagValueAndActivateTestId("PERFECT_VPR"),pm=Number(hm),Am=Ee(pm)?pm:1,mm=rc.getFlagValueAndActivateTestId("VPR_PRIORITY_MULTIPLIER"),vm=Number(mm),_m=j(vm)?vm:1.2,gm=rc.getFlagValueAndActivateTestId("VAS_LONG_EXP_FLAG_VPR_PRIORITY_FACTOR"),ym=Number(gm),fm=j(ym)?W(ym,0,1):0,Sm=document.createElement("video"),Tm="function"===typeof Sm.load?function(e,t){return void 0===t&&(t=Sm),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,Em=dm("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_HLS"),bm=j(Em)?Em:void 0,Cm=dm("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_MP4"),Om=j(Cm)?Cm:void 0,wm=dm("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNKNOWN_TYPE"),Pm=j(wm)?wm:void 0,Im=dm("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_UNSET_TYPE"),Dm=j(Im)?Im:void 0,Nm=dm("VAS_LONG_EXP_FLAG_MEDIA_FILE_TYPE_PRIORITY_FOR_WEBM"),Rm=j(Nm)?Nm:void 0,km={bitratePriorityFactor:um,mediaFileTypePriorities:{webm:null!=Rm?Rm:1,mp4:null!=Om?Om:2,hls:null!=bm?bm:3,unknown:null!=Pm?Pm:3,unset:null!=Dm?Dm:4},vprPriorityFactor:fm,canPlayType:Tm,perfectVpr:Am,vprMoreThanOneMultiplier:_m},Vm="TRUE"===rc.getFlagValueAndActivateTestId("DISABLE_144P_QUALITY"),Lm="TRUE"===pA("DISABLE_VP9_CODECS"),Bm="TRUE"===pA("ENABLE_H265_CODECS")||void 0,Mm="video/webm";const xm=e=>{let{type:t,codec:i}=e;return i?t+'; codecs="'+i+'"':t},Um={multiplier:1,isVertical:!1},Fm=A((()=>{Xc.error({error:new fc({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:lc})})),Hm=(e=>{const t=Cr(e);return!!t&&Boolean(Ne((()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"'))))})(window),zm=Cr(),jm=!Fl&&Tm("video/webm"),Wm=Hm&&jm,Gm=zm&&p(zm),Ym=void 0!==window.AbortController&&void 0!==window.fetch&&p(AbortController)&&p(fetch),Xm=Gm&&Ym;const Km=["application/vnd.apple.mpegurl","application/x-mpegurl"],qm=["bitrate","minBitrate","maxBitrate","width","height"],Qm=A((e=>{Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_BITRATE",details:{mediaFile:e}}),probability:lc})})),Jm=A((e=>{Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_CODEC",details:{mediaFile:e}}),probability:lc})})),Zm=A((e=>{Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_HAS_AUDIO",details:{mediaFile:e}}),probability:lc})})),$m=A((e=>{Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_WIDTH_HEIGHT",details:{mediaFile:e}}),probability:lc})})),ev=A((e=>{Xc.error({error:new fc({code:"INVALID_MEDIA_FILE_VMAF_AVG",details:{mediaFile:e}}),probability:lc})})),tv=A((e=>{Xc.error({error:new fc({code:"MEDIA_FILE_TYPE_EMPTY",details:{mediaFile:e}}),probability:lc})})),iv=ze({PreloadingController:0,AdPodViewer:0},(e=>"initiator_"+e)),rv=(e,t)=>e+"_"+t;class nv extends Yc{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const n=new r.ReportingObserver((e=>{i({reportSourceEvent:"callback",reports:e,records:n.takeRecords()})}),{buffered:!0});n.observe();const o=n.takeRecords();o.length&&i({reportSourceEvent:"buffered",reports:[],records:o}),this.addDestroyHandler(ve({element:t,eventName:"beforeunload",listener:()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler((()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),n.disconnect()}))}}const ov=E(Mc).hostname;let av=0;const sv=[],lv=(e,t)=>{const i=e.contentDocument.body;return Br((()=>{var e;!(null!=(e=i.ownerDocument)&&e.defaultView)&&t()}))};class dv extends Yc{static create(e){const{parentElement:t,attributes:i,scope:r}=e,n=Mr(t,i);if(!n)throw kr({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new dv(Ur({},e,{iframe:n}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,n=xr(t,i);if(!n)throw kr({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new dv(Ur({},e,{iframe:n}))}constructor(e){super();const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler((()=>{me(i)})),this.addDestroyHandler(lv(this.iframe,(()=>{this.destroy(kr({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))}))),this.addDestroyHandler(Lr(this.window,((i,r,n)=>{const o="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;Xc.error({error:kr({scope:t,errorType:r,error:i,details:Ur({},o,{error:i,data:n})})})})))}}var cv;!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(cv||(cv={}));tc({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});var uv,hv;const pv=null!=(uv=null!=(hv=window.URL)?hv:window.webkitURL)?uv:{},Av=i(pv.createObjectURL)&&i(pv.revokeObjectURL)?pv:void 0,mv=e=>!!f(e)&&(!!Tm(e)&&(e=>Boolean(Av)&&!wr(e))(e)),vv=tc({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class _v{constructor(e){this.ready=!1;const{type:t}=e;if(!mv(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);vv.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then((t=>(this.ready=!0,null!=t?t:e)))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),m(this.blobUrl)&&(null==Av||Av.revokeObjectURL(this.blobUrl))}async preloadToBlob(e){const{response:t}=await(i={method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e},new Promise(((e,t)=>{ee(zr({},i,{onSuccess:e,onError:t}))})));var i;return jr({},e,{url:null==Av?void 0:Av.createObjectURL(t)})}}const gv=["preloadTimeout"];class yv{constructor(e){this._isPreloaded=!1,this.preloaders=[];const{params:t,contentType:i,options:r,mediaAd:n}=e;this.parsedParams=function(e){const{videoSlot:t,viewMode:i=cv.NORMAL,preloadJS:r=!0,preloadVideo:n=!0}=e,{width:o=t.clientWidth,height:a=t.clientHeight}=e,s=Vt(e.desiredBitrate);let{preloadTimeout:l}=e;return("number"!==typeof l||l>zp)&&(l=zp),{preloadTimeout:l,width:o,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:n}}(t),this.contentType=i,this.getMediaFiles=r.getMediaFiles,this.getJSMediaFile=r.getJSMediaFile,this.getVastAd=r.getVastAd,this.mediaAd=n}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}get preloadedFirstFramePicture(){return this._preloadedFirstFramePicture}destroy(e){this._promise&&Xc.event({name:"PreloadCancelled",data:{reason:e},probability:lc}),this._promise=void 0,this._vpaidWindow=void 0,Cd(this.preloaders,(e=>e.destroy())),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{var e;const{preloadJS:t,preloadVideo:i}=this.parsedParams,r=this.getVastAd(),n=Ti(r);if(!n&&i&&"video"===this.contentType)return void(await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams));if(!n&&t&&"js"===this.contentType)return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:o,animationMediaFile:a}}=$i(null!=(e=r.adParametersObject)?e:r.adParameters),s=[];if(!n)return;if(i&&o.length>0){const e=this._preloadVideoFile(o,this.parsedParams);s.push(e)}if(t&&a){const e=this._preloadAdCreative(a);s.push(e)}return void(await Promise.all(s))}catch(hw){Cd(this.preloaders,(e=>e.destroy())),this.preloaders.length=0,this._logError(hw,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=dv.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e){const t=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:i,teardown:r}=cr({animationMediaFile:e,win:t});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await i}catch(hw){return void this._logError(hw,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,gv),r=this.getJSMediaFile();if(!r)return;const n=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=n;try{const{promise:e,teardown:t}=lm({src:r.url,win:n});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(hw){return this._logError(hw,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null==(t=n.Ya)?void 0:t.preloadVPAIDAd))return;const o=n.Ya.preloadVPAIDAd(Wr({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let a;this.preloaders.push(o);try{a=await o.readyPromise}catch(hw){return void this._logError(hw,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=a.AdParameters}async _preloadVideoFile(e,t){let{width:r,height:n,desiredBitrate:o}=t;const{adBreak:a}=this.mediaAd,s=this.mediaAd.getAdPodId(),{prioritisedMediaFile:l}=Rr(e,Wr({container:{width:r,height:n},desiredBitrate:o,isVideoADB:i(Cc()),allowedToHideVideoSlotAreaPortion:0},km),{adBreak:a,adPodId:s,initiator:"PreloadingController"});if(!l)return;const{firstFrameImages:d}=this.mediaAd.vastAd,c=pr(d,l);c&&(Hr(c.url),this._preloadedFirstFramePicture=c);const u=NA(l),h=new _v(u);let p;this.preloaders.push(h);try{p=await h.readyPromise}catch(hw){return void this._logError(hw,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=p}_logError(e,t){Fr(e),Xc.error({error:new fc(e,{code:t})})}}class fv{constructor(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}static fromVastIcon(e){const t=new fv;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class Sv{get contentType(){return this.getIsConvertedFromVideoVast()?"video":this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.duration=0,this.getMediaFiles=()=>Ci(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getAdContentDimensions=()=>function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:n,adParametersObject:o}=t;if(Ti(t)){const{parsed:{videoMediaFiles:e}}=$i(null!=o?o:n);return 0===e.length?XA:er(e)}const a=tr(r,i);return er(a?[a]:Ci(r,i))}({vastAd:this.vastAd,secureMode:this.adConfig.secureMode}),this.getJSMediaFile=()=>tr(this.vastAd.mediaFiles,this.adConfig.secureMode),this.getIsConvertedFromVideoVast=()=>{const{vastAd:{originallyConvertedFromVast:e}}=this;return void 0!==e&&Oi({secureMode:this.adConfig.secureMode,vastAd:e})},this.getPreloadedAdCreativeInitFunction=()=>{var e;return null==(e=this.preloadingController)?void 0:e.preloadedAdCreativeInitFunction},this.adBreak=e,this.vastAd=t,this.adConfig=i,this.icons=Sd(this.vastAd.icons,(e=>fv.fromVastIcon(e))),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}getAdPodId(){return(this.vastAd.adId||"")+";"+(this.vastAd.creativeId||"")+";"+this.vastAd.parseIndex+";"+this.vastAd.randomHexString+";"+(this.vastAd.bidreqid||"")+";"+(this.vastAd.campaignid||"")+";"+(this.vastAd.pageId||"")+";"+(this.vastAd.impId||"")+";"+(this.vastAd.vmapRequestId||"")}trackError(e){De(e,this.vastAd.trackingEvents.error)}hasMediaFiles(){var e;return(null==(e=this.getMediaFiles())?void 0:e.length)>0}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new yv({params:e,contentType:this.contentType,options:{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd},mediaAd:this}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){return this.vastAd.adSystem===GA}getIsIndependentOnVideoElement(){if(ir(this.vastAd))return!0;this.getJSMediaFile();return!1}getIsYandexCreative(){return e=this.vastAd,M(YA,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null==(e=this.preloadingController)?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVideoFile}getPreloadedFirstFramePicture(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedFirstFramePicture}getPreloadedVpaidAdParameters(){var e;return null==(e=this.preloadingController)?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(z("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.vastAd.imhoParams&&(!Ti(this.vastAd)&&!fe(e.url)))}}const Tv=e=>{try{const t=function(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}(e);return"display"in t}catch(Kg){return!1}},Ev=Nl(),bv=function(e){if(void 0===e&&(e=window),a(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),Cv=a(),Ov=document.createElement("video"),wv="function"===typeof Ov.load,Pv=!Fl&&(wv?function(e,t){return void 0===t&&(t=Ov),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1)("video/webm")?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",Iv="__yaMuffleVideoPlayPromiseOriginalPlay",Dv=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&rn(on(e))}})(e);return()=>{t(),i(),r()}};var Nv;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(Nv||(Nv={}));class Rv{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:r(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=Nv[this.code]||"")}}var kv;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(kv||(kv={}));let Vv=function(e,t,i){e.attachEvent("on"+t,i)},Lv=function(e,t,i){e.detachEvent("on"+t,i)};S(document,"addEventListener")&&S(document,"removeEventListener")&&(Vv=function(e,t,i,r){const n=e&&S(e,"addEventListener");n&&n.call(e,t,i,r)},Lv=function(e,t,i,r){const n=e&&S(e,"removeEventListener");n&&n.call(e,t,i,r)});let Bv=!1,Mv=!1,xv=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>Bv=!0}),Object.defineProperty(t,"passive",{get:()=>Mv=!0}),Object.defineProperty(t,"capture",{get:()=>xv=!0}),Vv(e,"click",F,t)}}catch(hw){}var Uv;!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(Uv||(Uv={}));const Fv={once:!0,passive:!0};let Hv=!1;const zv=-1<Ev&&Ev<=16,jv=An({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:kv.AutomaticallyGenerated}),Wv=An({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:kv.AutomaticallyGenerated});class Gv{constructor(e,t){let{checkSoundEnabled:i,promise:r}=t;if(this.video=e,this.stop=F,this.isStopped=!1,this.revertVideoState=F,this.getIsActiveWindow())return this.promise=Promise.resolve(pn({},Wv,{detectionMethod:kv.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const n=document.createElement("div");n.style.display="none";const o=Dv(e),a=hn(e,(()=>tn(e,{src:Pv})));let s;this.revertVideoState=Z((()=>{a(),e.load(),o(),ke(n)})),this.promise=new Promise((async(e,t)=>{let r,n,o;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)o=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);o=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(An({canPlayUnMuted:n,canPlayMuted:o,detectionMethod:r||kv.NotRecognized})))}})),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(hn(t,(()=>{t.load()})),await wp(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:kv.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise((e=>{un(t,{useProgressEvent:!0,timeoutForNonPromisePlay:500}).then((t=>{e({autoplayAbility:!0,detectionMethod:t})})).catch((i=>{const r=function(e){const{error:t}=e;return new Rv(t)}(t);r&&r.code===Nv.MEDIA_ERR_DECODE?setTimeout((()=>{e({autoplayAbility:!0,detectionMethod:kv.MediaError})}),0):e({autoplayAbility:!1,detectionMethod:i})}))}));return this.isStopped?{autoplayAbility:!1,detectionMethod:kv.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!r(i))return;const{isActive:n,hasBeenActive:o}=i;return{isActive:n,hasBeenActive:o}}(e);return Boolean(t&&t.hasBeenActive)}}var Yv;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(Yv||(Yv={}));const Xv="TRUE"===pA("DISABLE_SUBTITLES")||void 0,Kv="DISABLE"===pA("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0,qv={reason:1,action:0},Qv={reason:2,action:0},Jv={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},Zv={unpleasantContentAd:{reason:24,action:2},politicalAd:{reason:31,action:4},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},$v={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},e_=vn({},{hide:{reason:21,action:4},complaint:{reason:5,action:4},about:{reason:19,action:0},advertiserInfo:{reason:20,action:0}},Jv,Zv,$v),t_={abuseUrl:"",legalInfoText:""},i_="https://"+jd+"/secure-ads",r_="https://"+jd+"/ads/advertiser_info",n_={isAvailable:!1},o_=e=>{if(!Array.isArray(e))return[];const t=Sd(e,(e=>{const t=e[0],i=Number(e[1]),r=Number(e[2]),n=e[3];if(f(t)&&!isNaN(i)&&!isNaN(r)){const e=[t,String(i),String(r)];return u(n)&&e.push(n),e}}));return cc(t,(e=>void 0!==e))},a_=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!u(t)||!u(t.data_params))return;const i=$u(t.data_params);if(!u(i))return;const r=i.assets;if(!u(r))return;const n={},{logo:o,button:a,icon:s,app:l,images:d,price_info:c}=r;if(u(o)){const e=k(o);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:o}=r;f(e)&&gn(n)&&gn(o)&&(t[i]={url:e,width:n,height:o})}yn(t)||(n.logo=t)}}if(u(a)){const{caption:e,href:t,key:i}=a;f(e)&&f(t)&&f(i)&&(n.button={caption:e,href:t,key:i})}if(u(l)){const{review_count:e,store_name:t,name:i,download_count:r,rating:o,store_app_id:a,store_content_id:s,price_currency_symbol:d,price_currency_code:c,price:u,age:h,free:p}=l;gn(e)&&f(t)&&f(i)&&f(r)&&Ee(o)&&f(a)&&f(s)&&f(d)&&f(c)&&Ee(u)&&gn(h)&&"boolean"===typeof p&&(n.app={review_count:e,store_name:t,name:i,download_count:r,rating:o,store_app_id:a,store_content_id:s,price_currency_symbol:d,price_currency_code:c,price:u,age:h,free:p})}if(u(s)){const e=k(s);if(e.length){const t={};for(const[i,r]of e){const{url:e,width:n,height:o}=r;f(e)&&gn(n)&&gn(o)&&(t[i]={url:e,width:n,height:o})}yn(t)||(n.icon=t)}}return wd(d)&&(n.images=o_(d)),u(c)&&f(c.price)&&f(c.currency)&&(n.priceInfo={currency:c.currency,oldPrice:f(c.old)?Number.parseFloat(c.old):void 0,price:Number.parseFloat(c.price)}),n},s_=A((e=>{Xc.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:lc})})),l_=A((()=>{Xc.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:lc})})),d_=A((()=>{Xc.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:lc})})),c_=A((e=>{Xc.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:lc})})),u_=e=>{var t;if(!u(e))return;const{AUCTION_DC_PARAMS:i,HAS_DOMAIN:r,AGE_BACKGROUND_COLOR:n,AGE_TEXT_COLOR:o,BODY_BACKGROUND_COLOR:a,BODY_TEXT_COLOR:s,BUTTON_BORDER_COLOR:l,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:c,DISCLAIMER_BACKGROUND_COLOR:h,DISCLAIMER_TEXT_COLOR:p,DOMAIN_BACKGROUND_COLOR:A,DOMAIN_TEXT_COLOR:m,HAS_AGE:v,HAS_BUTTON:_,HAS_DISCLAIMER:g,HAS_LEGAL:y,LEGAL_BACKGROUND_COLOR:S,LEGAL_TEXT:T,LEGAL_TEXT_COLOR:E,TITLE_BACKGROUND_COLOR:b,TITLE_TEXT_COLOR:C,BUTTON_POSITION:O,BUTTON_LABELS:w,showTitleAndBody:P}=e;if(!u(i)||!u(i.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&d_();const I=$u(i.data_params);if(!u(I)||!u(I.text))return;const D=I.text,{domain:N,green_url_text_prefix:R,green_url_text_suffix:k,age:V,banner_flags:L,lang:B}=D,M=function(e){let{domain:t,greenUrlTextPrefix:i,greenUrlTextSuffix:r}=e;return f(i)?i:f(r)?r:f(t)?t:void 0}({domain:N,greenUrlTextPrefix:R,greenUrlTextSuffix:k}),x=I.unmoderated||D.unmoderated||{},{punyDomain:U}=x,F=Array.isArray(L)?L:[],{hasDrugDisclaimer:H,hasDietarysupplDisclaimer:z,hasDistanceSales:j,legalInfoText:W}=Sn(e),G=Nt(e);F.length>0&&c_({bannerFlags:F}),x===D.unmoderated&&l_();const Y=p_(x),{title:X,body:K,hasTitle:q,hasBody:Q}=Me(e);return{title:X,body:K,titleExtension:v_(Y),domain:v_(N),greenUrl:M,punyDomain:v_(U),domainBackgroundColor:v_(A),domainTextColor:v_(m),hasGreenUrl:__(r),ageRestriction:v_(V),hasAgeRestriction:__(v),extraLinks:h_(x),legalInfoText:W,hasDrugDisclaimer:H,hasDietarysupplDisclaimer:z,hasDistanceSales:j,hasButton:__(_),images:fn(e),clickThruUrl:_n(e),ageBackgroundColor:v_(n),ageTextColor:v_(o),bodyBackgroundColor:v_(a),bodyTextColor:v_(s),buttonBorderColor:v_(l),buttonColor:v_(d),buttonTextColor:v_(c),hasDisclaimer:__(g),disclaimerBackgroundColor:v_(h),disclaimerTextColor:v_(p),hasBody:Q,hasLegal:__(y),hasTitle:q,legalBackgroundColor:v_(S),legalText:v_(T),legalTextColor:v_(E),titleBackgroundColor:v_(b),titleTextColor:v_(C),buttonPosition:v_(O),buttonLabels:g_(w),offer:I,assets:a_(e),targetUrl:He(e),productType:G,lang:f_(B),showTitleAndBody:null==(t=__(P))||t}},h_=e=>{if(!u(e))return[];const{sitelinks:t,addInfo:i,telNum:r,workingTime:n,metro:o,region:a}=e;if(m_(t)){const e=cc(t,(e=>f(e.title)&&f(e.url)));if(e.length)return Sd(e,(e=>({type:"sitelink",text:e.title,url:e.url})))}const s=null==i?void 0:i.callouts_list;if(A_(s)){const e=cc(s,f);if(e.length)return Sd(e,(e=>({type:"callout",text:e})))}const l=cc([r,n,o,a],f);return Sd(l,(e=>({type:"contact",text:e})))},p_=e=>{if(void 0!==(null==e?void 0:e.secondTitle)&&f(null==e?void 0:e.secondTitle))return e.secondTitle},A_=e=>Array.isArray(e)&&Sh(e,m),m_=e=>Array.isArray(e)&&Sh(e,u),v_=e=>f(e)?e:void 0,__=e=>"boolean"===typeof e?e:void 0,g_=e=>u(e)&&Sh(qt(e),(e=>"string"===typeof e))?e:void 0,y_=new Map([["1","ru"],["2","uk"],["3","en"],["4","be"],["5","kk"],["6","tr"],["ru","ru"],["uk","uk"],["en","en"],["by","be"],["kz","kk"],["tr","tr"]]),f_=e=>{var t;return null!=(t=y_.get(e))?t:"ru"},S_=!1,T_={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:-2,getAdVolume:0,getAdIcons:false,getAdExpanded:false,getAdHeight:0,getAdWidth:0,getAdLinear:!0,getAdSkippableState:S_},E_=Tn({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),b_=Tn({},T_,E_),C_={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},O_={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},w_={adVolume:"setAdVolume"},P_=null===Ov.onwaiting,I_=250;let D_=0;const N_=[],R_=!P_||LA||Fl?(e,t)=>{let i=0,r=!1;return n=()=>{const n=e.currentTime,o=e.duration,{currentTime:a}=e,s=e.buffered&&1===e.buffered.length&&a>e.buffered.end(0);if(s&&!r)return r=!0,void t(r);if(!s||!r){if(!e.paused){const e=i+.004;r?n>e&&(t(!1),r=!1):n<e&&n!==o&&(t(!0),r=!0)}i=n}},0===N_.length&&(D_=window.setInterval((()=>{pe(N_)}),I_)),N_.push(n),()=>{const e=N_.indexOf(n);e>-1&&N_.splice(e,1),0===N_.length&&window.clearInterval(D_)};var n}:(e,t)=>{let i=!1;const r=ve({element:e,eventName:"pause",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),n=ve({element:e,eventName:"waiting",listener:()=>{i||(i=!0,t(!0))},options:{passive:!0}}),o=ve({element:e,eventName:"playing",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}}),a=ve({element:e,eventName:"canplay",listener:()=>{i&&(i=!1,t(!1))},options:{passive:!0}});return()=>{r(),n(),o(),a()}};class k_ extends Yc{constructor(){super(),this.isPlaying=new Wh(!1),this.isBuffering=new Wh(!1),this.bufferingTimeCount=new rm,this.addDestroyHandler((()=>{this.bufferingTimeCount.destroy()}))}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(R_(e,(e=>{this.isBuffering.dispatch(e)}))),this.addDestroyHandler(En([this.isPlaying,this.isBuffering],((e,t)=>e&&t),(e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()})))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/im}}const V_={AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdPaused:"pause",AdPlaying:"resume"},L_={adloox:"AdCreativeInitMeasurer_adloox",adriver:"AdCreativeInitMeasurer_adriver",moat:"AdCreativeInitMeasurer_moat",weborama:"AdCreativeInitMeasurer_weborama"},B_=["impression"],M_={adloox:{impression:"TrackingEventWithMeasurer_impression_adloox"},yandexTestMeasurer:{impression:"TrackingEventWithMeasurer_impression_yandexTestMeasurer"},weborama:{impression:"TrackingEventWithMeasurer_impression_weborama"},moat:{impression:"TrackingEventWithMeasurer_impression_moat"},adriver:{impression:"TrackingEventWithMeasurer_impression_adriver"}},x_=D({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),U_=Boolean(Fc);class F_ extends Yc{constructor(e){var t;super(),this.resizeObserverCallback=e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})},this.getElementWindow=e=>{var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||null};const i=Gh(e);this.onResize=new Wh({width:i.width,height:i.height},((e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r})),this.addDestroyHandler((()=>{this.onResize.removeAll()}));const r=this.getElementWindow(e),n=null!=(t=null==r?void 0:r.ResizeObserver)?t:window.ResizeObserver;if("undefined"!==typeof n&&p(ResizeObserver))try{const t=new n(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler((()=>{t.disconnect()}))}catch(hw){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return wn({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Gh(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(ve({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(Br(i))}}class H_{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class z_{constructor(e){this.stopped=!0,this.lastNow=0,this.lastKnockTime=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0,this.distributionFunction=e,this.clock=new H_}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout((()=>{this.knock(this.lastNow+this.lastTimeout)}),this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout((()=>{this.knock(e+t)}),t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const j_={height:0,width:0},W_=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],G_=1,Y_=2,X_=3,K_=4,q_=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},Q_=q_(),J_={PAGEURL:encodeURIComponent(J(document).location),Y_DEVICE_TYPE:Q_?"mobile":"desktop",Y_AD_SESSION_ID:Cu()},Z_=e=>{try{return"display"in Ln(e)}catch(Kg){return!1}},$_=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),eg=(e,t,i,n)=>{r(t)?(n=Boolean(i),_(t,((t,i)=>{xn(e,i,t,n)}))):xn(e,t,i,n)},tg=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),ig=e=>!!Du&&("IntersectionObserverEntry"in e&&"isVisible"in e.IntersectionObserverEntry.prototype),rg=eu([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(e=>null!==navigator.userAgent.match(e))),ng=!0,og=.5,ag=2;class sg extends Yc{constructor(e,t){let{considerDocumentVisibility:i=ng,numberOfMeasurementSteps:r=ag,enableTrackVisibility:n}=void 0===t?{}:t;super(),this.totalVisibilityValueSignal=new Wh(!1),this.documentVisibilityValueSignal=new Wh(true),this.isElementReachableByTrackVisibilityValueSignal=new Wh(!0),this.recalculateVisibility=()=>{if(this.isDestroyed||!en(this.element))return;const e=jn(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.element=e;const o=Math.max(r,ag),a=e.ownerDocument.defaultView;this.elementVisibilityRatioValueSignal=new Wh(0);const s=a.IntersectionObserver;Boolean(s)?this.startIntersectionObserver(s,o):this.startVisibilityCheckInterval(),n&&Boolean(s)&&ig(a)&&this.startCheckVisibilityWithTrackVisibility(a),i&&this.startObservingDocumentVisibility(e.ownerDocument);const{valueSignal:l,teardown:d}=Mn([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByTrackVisibilityValueSignal],((e,t,i)=>i&&t?e:0));l.add((e=>{this.totalVisibilityValueSignal.dispatch(e>=og)})),this.totalVisibilityRatioValueSignal=l,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),d(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByTrackVisibilityValueSignal.removeAll()}))}startIntersectionObserver(e,t){const i=[og],r=1/t;for(let o=1;o<t;o++)i.push(o*r);const n=new e((e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)}),{threshold:i});n.observe(this.element),this.addDestroyHandler((()=>{n.disconnect()}))}startVisibilityCheckInterval(){const e=Br(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=eh(0);t.then(this.recalculateVisibility).catch(Ae),this.addDestroyHandler(i)}startCheckVisibilityWithTrackVisibility(e){const{element:t}=this,{teardown:i,visualVisibilitySignal:r}=(e=>{let{element:t,win:i}=e;const r=new Wh(!0),n=t.ownerDocument.createElement("div");Un(n,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:"999"},!0),t.append(n);const o=new i.IntersectionObserver((e=>{const[t]=e,{isVisible:i=!0}=t;r.dispatch(i)}),{trackVisibility:!0,delay:100});return o.observe(n),{teardown:()=>{o.disconnect(),r.removeAll(),me(n)},visualVisibilitySignal:r}})({element:t,win:e});this.addDestroyHandler(i),r.add(this.isElementReachableByTrackVisibilityValueSignal)}async startObservingDocumentVisibility(e){await wp(0);const t=ue(e);this.documentVisibilityValueSignal.dispatch(t);const i=Wn(e,(e=>{this.documentVisibilityValueSignal.dispatch(e)}));this.addDestroyHandler(i)}}class lg{constructor(){var e=this;this.events={},this.subscribe=(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})},this.unsubscribe=(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=cc(i,(t=>{let{callback:i}=t;return e!==i})))},this.dispatch=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if("string"!==typeof t)throw new Error("Event name MUST be a string");const o=e.events[t];o&&Cd(o,(e=>{let{callback:i,context:n}=e;try{i.apply(n,r)}catch(Kg){Xc.error({error:new fc(Kg,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}}))}}}const dg="https://pixel.adlooxtracking.com/ads/ic.php",cg={id1:"",id2:"",id5:"",id7:"",id9:""},ug="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",hg=Rc.split("/"),pg=hg[hg.length-1],{initMoatTracking:Ag}=e(7176),mg={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},vg="yandexhostedvideo786420153684",_g={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n}=e;const o=i.ownerDocument.defaultView,a=(e=>"https://"+Wd+"/pcode-static/measurers/"+e+"/video/adriver.js")(n);await or({win:o,src:a}).promise;new o.AdriverViewabilityYandexVPAID(Xn({},r,{ya_custom:"ADSID="+oc}),i,t),z("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;const s=Ag(i,Kn({},r,{zMoatADID:a,slicer1:pg,partnerCode:vg}),t.getAdDuration(),vg,o);Cd(D(mg),(e=>{t.subscribe((()=>{try{s.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(hw){n(new fc({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:hw,eventName:e}}))}}),e)}))},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n,yastaticVersion:o,verifyLogAdditionalData:a=""}=e;var s;const l=Yn({},r,{targetelt:((s=i).id||(s.id=c(8)),s.id),urli:ug,urlv:ug,urle:ug},{id8:a}),d=Kd(k(l),((e,t,i)=>{let[r,n]=t;return"string"!==typeof n?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(n)}),"");t.subscribe((()=>{const e=""+(e=>"https://"+Wd+"/pcode-static/measurers/"+e+"/video/adloox.js")(o)+d;var t;Te((t=Yn({},cg,l),w(dg,(e=>{let{id1:t,id2:i,id5:r,id7:n,id9:o}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:n,id9:o,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(t)))),or({win:i.ownerDocument.defaultView,src:e}).promise.catch((e=>{n(new fc({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))}))}),"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r,yastaticVersion:n,verifyLogAdditionalData:o=""}=e;const a=i.ownerDocument.defaultView,s=(e=>"https://"+Wd+"/pcode-static/measurers/"+e+"/video/weborama.js")(n);await or({win:a,src:s}).promise;new a.WBMeasurerV(i,t,JSON.stringify(qn({},r,{siteid:o}))),z("weborama measurer loaded")},yandexTestMeasurer:async e=>{let{vpaidCreative:t}=e;z("start YandexTestMeasurer initialization"),Cd(x_,(e=>{const i=A((()=>{var t;Xc.event({name:(t=e,"YandexTestMeasurerVpaidEvent_"+t),data:void 0,probability:lc})}));t.subscribe((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];z("YandexTestMeasurer received VPAID event=["+e+"], args=["+ai(r)+"]"),i()}),e)})),z("complete YandexTestMeasurer initialization")}},gg={moat:{actual:"71",unstable:"71"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},yandexTestMeasurer:{actual:"1",unstable:"2"}},yg=D(_g),fg="omid",Sg={1:[],2:[],3:[],5:[]},Tg=["use_unstable_script"];class Eg extends Yc{constructor(e,t,i){var r,n;super(),r=this,this.userInteractionDispatchers={AdClickThru:e=>{this.onClickThru.dispatch(e)},AdSkipped:()=>{this.onSkipped.dispatch(void 0)},AdStopped:()=>{this.onStopped.dispatch(void 0)},AdVideoComplete:()=>{this.onVideoComplete.dispatch(void 0)},AdUserClose:()=>{this.onUserClose.dispatch(void 0)},AdTimeToSkipChange:Ae},this.playingStateValueSignal=new Wh(!1),this.slotHoverStateValueSignal=new Wh(!1),this.shouldPlayTimeCounter=new rm,this.vpaidEventBus=new lg,this.vpaidCreativeProxyForMeasurersEventBus=new lg,this.isVisibilityConfirmed=!1,this.initializedMeasurers=void 0,this.initMeasurableParameters=A((e=>{var t;const i=e[4];if(!u(i))throw new fc({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:r}=i,n=e[5];if(!u(n)||!u(n.slot))throw new fc({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:o,videoSlot:a,yandexAdPlaybackParams:s}=n,l=null!=(t=this.parameters.measurersSlot)?t:o;this.bufferingTimeManager.start(a);const{parameters:d,errors:c}=io(r);if(Cd(c,this.callbacks.onExecutionError),!d)throw new fc({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:r}});const{skipAdSdkDetect:h}=d;if(!u(s)){const e=new fc({code:h?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:"Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",details:{adParameters:r}});if(this.callbacks.onExecutionError(e),!h)throw e}this.vpaidInitParameters={slot:l,videoSlot:a,adParameters:d},this.initMeasurers()})),this.initMeasurers=A((()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new fc({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i},slot:r}=e,n=no({},i,{yandexTestMeasurer:{}});return this.initializedMeasurers=n,Promise.all(Sd(D(n),(async e=>{const i=n[e],o=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(i,Tg),a=_g[e],s=((e,t)=>{const i=gg[e],r=t;return u(r)&&"use_unstable_script"in r&&Boolean(r.use_unstable_script)?i.unstable:i.actual})(e,i);try{await a({vpaidCreative:t,slot:r,measurerParameters:o,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:s,verifyLogAdditionalData:this.parameters.verifyLogAdditionalData}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:r,measurerParameters:o})}catch(hw){this.callbacks.onExecutionError(new fc({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:o,error:new yc(hw)}}))}})))})),this.trackRenderUndetermined=A((()=>{this.trackEvent("renderUndetermined",this.getTrackingUrlsByTrackingEventName("renderUndetermined"),void 0)})),this.trackEncounters=A((e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.trackImpression()):this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),this.trackImpression=A((()=>{this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0),this.trackImpressionWithVisibility()})),this.trackTrueView=A((e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),this.startMeasurement=A((()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new fc({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:n,dwell:o}=i;this.addDestroyHandler(On(t,(e=>{this.slotHoverStateValueSignal.dispatch(e)})));const a=new F_(t),s=a.getSize();this.callbacks.onSlotSizeChange(s);const l=Bn(r)?new F_(r):a,d=new Wh(Cn(s,U_));let c;if(a.onResize.add((e=>{this.callbacks.onSlotSizeChange(e),d.dispatch(Cn(e,U_))})),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new sg(t,{numberOfMeasurementSteps:10});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler((()=>e.destroy()))}this.measurerStartParameters={videoSlotSize:l.onResize,slotSize:a.onResize,visibilityRatio:c},this.addDestroyHandler(c.add((e=>{this.slotVisibilityStateValueSignal.dispatch(e>=og)}))),this.addDestroyHandler((()=>{l.destroy(),a.destroy()}));const u=new z_((e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),3e4})),h=new z_((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"viewability5",intervalId:5}:1===r?{eventName:"viewability1",intervalId:1}:2===r?{eventName:"viewability2",intervalId:2}:3===r?{eventName:"viewability3",intervalId:3}:void 0;var r;return void 0!==i&&this.trackEvent(i.eventName,n[i.intervalId],void 0),ro(t)})),p=new z_((e=>{let{count:t}=e;const i=(r=t)>3?{eventName:"dwell5",intervalId:5}:1===r?{eventName:"dwell1",intervalId:1}:2===r?{eventName:"dwell2",intervalId:2}:3===r?{eventName:"dwell3",intervalId:3}:void 0;var r;return void 0!==i&&this.trackEvent(i.eventName,o[i.intervalId],void 0),ro(t)})),A=new z_((e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),ro(t)}));this.addDestroyHandler((()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()})),this.addDestroyHandler(this.playingStateValueSignal.add((e=>{u.setEnabled(e)}))),this.addDestroyHandler(En([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,d],((e,t,i)=>e&&t&&i),(e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)}))),this.addDestroyHandler(En([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,d],((e,t,i,r)=>e&&t&&i&&r),(e=>{p.setEnabled(e)})))})),this.methodInterceptors={subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe},this.onClickThru=new jh,this.onSkipped=new jh,this.onStopped=new jh,this.onVideoComplete=new jh,this.onUserClose=new jh,this.eventInterceptors={AdLoaded:()=>{this.initMeasurers().then((()=>{this.vpaidEventBus.dispatch("AdLoaded")})).catch(q)},AdClickThru:(e,t,i)=>{var r;this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)},AdVideoStart:()=>{this.vpaidEventBus.dispatch("AdVideoStart"),"video"===this.parameters.intrinsicAdCreativeType&&this.trackImpression()},AdSkipped:()=>{var e;this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onSkipped.dispatch(void 0),this.vpaidEventBus.dispatch("AdSkipped")},AdUserClose:()=>{var e;this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onUserClose.dispatch(void 0),this.vpaidEventBus.dispatch("AdUserClose")},AdStopped:()=>{var e;this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_STOPPED_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onStopped.dispatch(void 0),this.vpaidEventBus.dispatch("AdStopped")},AdVideoComplete:()=>{var e;this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_VIDEO_COMPLETE_EVENT",details:{adParameters:null==(e=this.vpaidInitParameters)?void 0:e.adParameters}})),this.onVideoComplete.dispatch(void 0),this.vpaidEventBus.dispatch("AdVideoComplete")}},this.vpaidWillSetProperty=(e,t)=>{this.vpaidCreative[e]=t},this.vpaidWillCallMethod=(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(hw){return this.vpaidEventBus.dispatch("AdError",hw),void this.destroy({error:hw})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodInterceptors[e];if(i)return i(...t);return this.vpaidCreative[e].apply(this.vpaidCreative,t)},this.trackImpressionWithVisibility=()=>{const e=Nu()?"impressionUndetermined":"impressionDetermined";this.trackEvent(e,this.getTrackingUrlsByTrackingEventName(e),void 0)},this.updatePlayTimeCounter=e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}},this.trackEvent=function(e,t,i){if(void 0===t&&(t=[]),z("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:n,videoSlotSize:o,visibilityRatio:a}=r.measurerStartParameters,s=Iu(n.getValue()),l=Iu(o.getValue()),d={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Rn({win:window,slotSize:s,videoSlotSize:l,slotVisibilityRatio:a.getValue(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()}),pixelsSource:"adParameters"};Vn(d),r.callbacks.onTrackEvent(d),bn(e,r.initializedMeasurers)},this.vpaidCreative=e,this.parameters=t,this.callbacks=i,this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.onClickThru.add((e=>{let{url:t,id:i,playerHandles:r}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,r)})),this.addDestroyHandler(this.onSkipped.add((()=>{this.trackEvent("skip",this.getTrackingUrlsByTrackingEventName("skip"),void 0),this.destroy({reason:"AdSkipped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdSkipped")}))),this.addDestroyHandler(this.onUserClose.add((()=>{this.trackEvent("close",this.getTrackingUrlsByTrackingEventName("close"),void 0),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdUserClose")}))),this.onStopped.addOne((()=>{this.destroy({reason:"AdStopped"}),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdStopped")})),this.addDestroyHandler(this.onVideoComplete.add((()=>{this.trackEvent("complete",this.getTrackingUrlsByTrackingEventName("complete"),void 0),this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdVideoComplete")}))),this.playingStateValueSignal.add(i.onPlayingStateChange);let o=!1;t.visibilityRatio&&(o=t.visibilityRatio.getValue()>=og),this.slotVisibilityStateValueSignal=new Wh(o),null==(n=t.visibilityRatio)||n.add((e=>this.slotVisibilityStateValueSignal.dispatch(e>=og))),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new k_,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.addDestroyHandler((e=>{i.onStop(e),Cd([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],(e=>{e.dispatch(!1),e.removeAll()}))})),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=ae(E_,((e,t)=>()=>{z("Measurer called VPAID action method=["+t+"]"),Xc.event({name:"Measurer_VPAIDActionMethodCalled",data:{methodName:t}})})),r=ae(T_,((t,i)=>function(){const t=e[i];for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.apply(e,n)}));Cd(x_,(e=>{this.vpaidEventBus.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...r)}),e)}));return Gn(no({},i,r,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Cd(x_,(t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.vpaidDidDispatchEvent(t,r)}),t)}))}vpaidDidDispatchEvent(e,t){const i=V_[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new fc({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};z("Track VPAIDMeasurer event=[error]"),Ie(i),this.callbacks.onAdError(i)}var r,n,o;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdImpression"===e)&&this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null==(r=this.vpaidInitParameters)?void 0:r.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null==(n=this.vpaidInitParameters)?void 0:n.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new fc({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null==(o=this.vpaidInitParameters)?void 0:o.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdError":this.destroy({reason:e})}const a=this.eventInterceptors[e];void 0===a?this.vpaidEventBus.dispatch(e,...t):a(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Sd(i,(t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return u(i)?w(t,i,{override:!1}):t})):[]}getConsumerAdditionalTrackingParams(e,t){const i=N((()=>{var i,r;return null==(i=(r=this.parameters).getAdditionalTrackingParameters)?void 0:i.call(r,{eventName:e,url:t})}));return!u(i)||yn(i)?null:i}onAdVideoStart(){this.measurerStartParameters?(this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}),Nu()&&this.trackRenderUndetermined()):this.callbacks.onExecutionError(new fc({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const bg=["clickThrough","close","impression","mute","skip","unmute"],Cg={},Og=()=>0,wg=()=>false,Pg=()=>false,Ig=()=>"2.0";class Dg{constructor(e){this.dispatch=A((e=>{this.value=e,this._isDispatched=!0,pe(this.callbacks,e),this.callbacks.length=0})),this.callbacks=[],this._isDispatched=!1,i(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),Ae):(this.callbacks.push(e),()=>{this.callbacks=cc(this.callbacks,(t=>t!==e))})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise((e=>{this.subscribe(e)}))}}class Ng extends Yc{constructor(e){super(),this.params=e,this.promise=this.loadAdCreative().catch((e=>{throw this.destroy(),e}))}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:r,initAdCreative:n}=this.params;if(!i(n))throw new fc({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let o,a,s;try{const i=n({adParametersString:e,slot:t,externalLiveCycle:r});ku(i)?(Xc.event({name:"UsingAdCreativeFunctionWithoutTeardown",data:{adParameters:e},probability:lc}),o=i,a=Ae):(o=i.promise,a=i.teardown)}catch(Kg){throw new fc(Kg,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!ku(o))throw new fc({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{s=await o}catch(Kg){if(a(),tt(Kg))throw Kg;throw new fc(Kg,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),s}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Rg={startAd:()=>new Promise(Ae),stopAd:Ae};class kg extends Yc{constructor(e){super(),this.vpaidEventBus=new lg,this.handshakeVersion=Ig,this.subscribe=this.vpaidEventBus.subscribe,this.unsubscribe=this.vpaidEventBus.unsubscribe,this.resizeAd=Ae,this.expandAd=Ae,this.collapseAd=Ae,this.getAdIcons=Pg,this.getAdExpanded=wg,this.setAdVolume=Ae,this.getAdVolume=Og,this.initAd=A((()=>{this.vpaidEventBus.dispatch("AdLoaded")})),this.videoStartedLatch=new Dg,this.adCreativeLatch=new Dg,this.completeLatch=new Dg,this.isPackshotStarted=new Dg,this.remainingTime=new Wh(-2),this.shouldPlay=new Wh(!1),this.isPlaying=new Wh(!1),this.shouldPlayTimeCounter=new rm,this.lifeCycleLatches=ae({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},((e,t)=>new Dg(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch(t)}))))),this.stopAnimation=Ae,this.beforeDestroyLatch=new Dg,this.packshotCurrentTime=0,this.destroyReasonSniffers={complete:()=>{this.params.adCreativeUserInteractionCallbacks.AdVideoComplete()},skip:()=>{this.params.adCreativeUserInteractionCallbacks.AdSkipped()},close:()=>{this.params.adCreativeUserInteractionCallbacks.AdUserClose()},stopAd:Ae},this.pauseAd=()=>{this.shouldPlay.dispatch(!1)},this.resumeAd=()=>{this.shouldPlay.dispatch(!0)},this.getAdHeight=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoHeight)?e:0},this.getAdWidth=()=>{var e;return null!=(e=this.params.videoNodeController.videoNode.videoWidth)?e:0},this.getAdLinear=()=>!1,this.getAdDuration=()=>{const e=this.getVideoDuration();return e||-1},this.getAdRemainingTime=()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDuration(),{currentTime:i}=t.getCurrentPosition();if(Ee(e)&&j(i)){if(this.isPackshotStarted.getValue()){const e=this.getPackshotBgVideoDuration();return Math.max(e-this.packshotCurrentTime,0)}return Math.max(e-i,0)}}return-1},this.getAdSkippableState=()=>!0,this.dispatchAdStarted=()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")},this.params=e,this.addDestroyHandler((()=>{this.beforeDestroyLatch.dispatch(void 0)}));const{videoParameters:t,firstFrameParameters:r,videoNodeController:n,slot:o,slotSize:a,packshotParameters:s,getVPAIDLogDetails:l,adCreativeUserInteractionCallbacks:d}=e;if(t&&r){const{posterImage:e,isPreloaded:t}=r,{videoNode:i}=n,o=function(e,t){return Jr(e,{backgroundImage:'url("'+t.url+'")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"})}(i,e),a=Date.now();this.videoStartedLatch.subscribe((()=>{t&&Xc.values({name:"TimeBetweenFirstFrameImageAndVideoStart",values:{time:Date.now()-a},probability:lc,sensors:{},data:void 0,labels:{}}),o()})),this.addDestroyHandler(o)}if(this.vpaidEventBus.subscribe((e=>{Xc.errorToStats(e)}),"AdError"),this.addDestroyHandler(A(d.AdStopped)),this.addDestroyHandler((()=>{this.shouldPlayTimeCounter.destroy()})),this.shouldPlay.add((e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()})),this.remainingTime.add((()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")})),this.beforeDestroyLatch.subscribe((()=>{this.remainingTime.removeAll()})),t){this.getAdVolume=()=>n.getVolume(),this.setAdVolume=e=>{0===e?n.setMuted(!0):n.setVolume(e)};const e=()=>{const e=n.playingState.getValue()===Yv.PLAY;this.isPlaying.dispatch(e)};this.beforeDestroyLatch.subscribe(n.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(n.pause(),t&&(this.attachToVideoNode(t,n),this.addDestroyHandler(this.adCreativeLatch.subscribe((()=>{this.shouldPlay.getValue()&&n.play();const e=this.shouldPlay.add((e=>{e?n.play():n.pause()}));this.isPackshotStarted.subscribe(e),this.beforeDestroyLatch.subscribe(e)})))),this.params.videoParameters?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe((e=>{const{getAdDuration:t,getAdRemainingTime:i}=e;if(!t||!i)return void this.dispatchAdStarted();const r=this.remainingTime.add((()=>{0!==t()-i()&&(this.dispatchAdStarted(),r())}));this.addDestroyHandler(r)})),this.adCreativeLatch.subscribe((e=>{const{getAdDuration:r,getAdRemainingTime:n,resizeAd:o}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add((t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)})),t||(i(r)&&(this.getAdDuration=()=>r.call(e)),i(n)&&(this.getAdRemainingTime=()=>n.call(e),this.beforeDestroyLatch.subscribe(Br((()=>{this.remainingTime.dispatch(this.getAdRemainingTime())}))))),this.stopAnimation=A((()=>{e.stopAd()})),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(a.add((t=>{i(o)&&o.call(e,t)})))})),s){const e=o.ownerDocument.defaultView;if(e){const e="packshot"===s.type?s.packshotImageUrl:void 0;e&&this.lifeCycleLatches.AdVideoThirdQuartile.subscribe((()=>{Se(e)})),this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.vpaidEventBus.dispatch("AdVideoComplete"),this.isPackshotStarted.dispatch(s)})))}else Xc.error({error:new fc({code:"AD_CREATIVE_PACKSHOT_WINDOW_NULL",details:{win:String(e)}}),probability:lc})}else this.completeLatch.subscribe(this.ignoreAfterDestroy((()=>{this.stopAdAndDestroyWrapper("complete")})));this.isPackshotStarted.subscribe((e=>{this.stopAnimation();const t="packshot"===e.type?e.renderLayoutComponent(e):e.renderLayoutComponent();this.shouldPlay.add((e=>{t.setPlaying(e)})),t.progress.add((t=>{"packshot"===e.type&&(this.packshotCurrentTime=Math.min(e.packshotDuration,e.packshotDuration*t))})),t.addDestroyHandler((e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(Xc.error({error:new fc({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:l()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):this.destroy()})),this.addDestroyHandler((()=>{t.destroy({reason:"stopAd",details:void 0})}))})),this.loadAndRenderAnimation().catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()})))}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null==(e=this.params.videoParameters)?void 0:e.getStartStrategy();t&&"startPlaying"!==i?(z("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),Xc.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,startStrategy:i},probability:lc})):(z("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)),this.beforeDestroyLatch.subscribe(this.shouldPlay.add((e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")}))),this.beforeDestroyLatch.subscribe((()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()}))}stopAd(){this.destroy()}skipAd(){this.stopAdAndDestroyWrapper("skip")}stopAdAndDestroyWrapper(e){this.destroyReasonSniffers[e](),this.destroy()}getVideoDuration(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{duration:e}=t.getCurrentPosition(),i=Ee(e)?e:void 0;if(i){return i+this.getPackshotBgVideoDuration()}}}async loadAndRenderAnimation(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:r,slot:n,videoParameters:o}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Rg);const{animationMediaFile:a,getPreloadedAdCreativeInitFunction:s,adCreativeParameters:l}=e;let d=s();try{if(i(d))0;else{0;const{promise:e,teardown:i}=cr({animationMediaFile:a,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(hw){if(tt(hw))throw hw;throw new fc(hw,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:r()})}if(this.isDestroyed)return;const c=new Ng({slot:n,adParametersString:l,externalLiveCycle:Boolean(o),initAdCreative:d});this.beforeDestroyLatch.subscribe((()=>{c.destroy()}));const u=await c.promise;this.isDestroyed||this.adCreativeLatch.dispatch(u)}attachToVideoNode(e,t){const{videoSlotSize:r,videoContentSize:n,videoMediaFile:o,videoMediaFiles:a,videoTimeout:s,bufferEmptyLimit:l,bufferFullTimeout:d,durationFallback:c,onVideoBufferingStateChange:u}=e,{videoNode:h}=t,{clickThroughUrl:p,animationParameters:m,slot:v}=this.params;t.onVolumeChange.add((()=>this.vpaidEventBus.dispatch("AdVolumeChange")));const _=Date.now();this.addDestroyHandler(t.onCanPlay.addOne((()=>{Xc.values({name:"MediaFileLoadingTime",values:{loadingTime:Date.now()-_},sensors:{},data:void 0,labels:{},probability:lc})}))),t.setSrc(o),f(p)&&this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:p,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add((()=>{Xc.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:p}}),e()}))),Bn(h)&&!U_&&this.beforeDestroyLatch.subscribe(Jr(h,{cursor:"pointer"})),void 0===m&&(this.beforeDestroyLatch.subscribe(ve({element:v,eventName:"click",listener:()=>{Xc.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:p}}),e()},ignoreBubbling:!0})),U_||this.beforeDestroyLatch.subscribe(Jr(v,{cursor:"pointer"})))}))),this.beforeDestroyLatch.subscribe(t.onVolumeChange.add((()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}))),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{const e=t.onPlayAfterPause.add((()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")})),i=t.playingState.add((e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));this.beforeDestroyLatch.subscribe(e),this.beforeDestroyLatch.subscribe(i),this.isPackshotStarted.subscribe(e),this.isPackshotStarted.subscribe(i)})));const g=()=>{const e=this.adCreativeLatch.getValue();if(!e||!i(e.adjustAdPosition))return;const t=this.getAdDuration(),r=this.getAdRemainingTime();Ee(t)&&j(r)&&e.adjustAdPosition({adDuration:t,adRemainingTime:r})};this.beforeDestroyLatch.subscribe(function(e){function t(){let{duration:e}=i.getCurrentPosition();return Ee(e)||(e=r()),e}let{videoNodeController:i,durationFallback:r,callbacks:{AdStarted:n,AdVideoFirstQuartile:o,AdVideoMidpoint:a,AdVideoThirdQuartile:s,AdVideoBeforeComplete:l,AdVideoComplete:d}}=e;const c=A(o),u=A(a),h=A(s),p=A(l);let m=0;const v=()=>{const e=t();if(!Ee(e))return;const{currentTime:r}=i.getCurrentPosition(),n=(r-m)/e;n>=.25&&c(),n>=.5&&u(),n>=.75&&h()},_=A((()=>{v(),d()})),g=[lo(i.videoNode,(()=>{m=i.getCurrentPosition().currentTime,n()})),i.currentPosition.add((e=>{let{currentTime:i}=e;const r=function(e){let{currentTime:t,duration:i}=e;return!(t>=i)&&t+.5>=i}({currentTime:i,duration:t()});r&&p()})),i.currentPosition.add(v),i.onEnd.add(_)];return()=>pe(g)}({durationFallback:c,videoNodeController:t,callbacks:co({},ae(this.lifeCycleLatches,(e=>()=>{e.dispatch(void 0)})),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),g()},AdVideoComplete:()=>{this.completeLatch.dispatch(void 0)}})}));const y=new Error;this.shouldPlayTimeCounter.addCallback(s,(()=>{if(this.videoStartedLatch.getDispatched())return;const e=new fc(y,{code:"video"===this.params.intrinsicAdCreativeType?"VIDEO_TIMEOUT":"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:s,mediaFile:o,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add((e=>{u(e)})))}))),this.beforeDestroyLatch.subscribe(this.videoStartedLatch.subscribe((()=>{this.beforeDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:r}=e;if(!Ee(i))return Ae;let n=0;const o=t.onBufferingAfterPlay.add((()=>{n++,z("bufferEmptyCount=["+n+"] limit=["+i+"]"),n<=i||(o(),r())}));return o}({videoNodeController:t,bufferEmptyLimit:l,callback:()=>{const e=new fc({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_EMPTY_LIMIT":"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:l,mediaFile:o,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(function(e){let{videoNodeController:t,bufferFullTimeout:i,callback:r}=e,n=Ae;const o=t.isBuffering.add((async e=>{if(n(),!e)return;const{promise:t,clear:a}=eh(i);n=a,await t,n(),o(),r()}));return()=>{n(),o()}}({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new fc({code:"video"===this.params.intrinsicAdCreativeType?"BUFFER_FULL_TIMEOUT":"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:o,networkState:h.networkState,readyState:h.readyState}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}}))}))),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add((()=>{Xc.event({name:"AdCreativeRestoreSeek",data:{},probability:lc})}))),this.beforeDestroyLatch.subscribe((()=>{t.setSeekAllowed(!0)})),this.beforeDestroyLatch.subscribe(t.onError.add((e=>{e=new fc(e,{details:co({},e.details,{selectedMediaFile:o,mediaFiles:a})}),this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}))),this.beforeDestroyLatch.subscribe(t.currentPosition.add((()=>{g(),this.remainingTime.dispatch(this.getAdRemainingTime())}))),this.beforeDestroyLatch.subscribe(r.add((e=>{const t=this.adCreativeLatch.getValue();t&&i(t.resizeVideoSlot)&&t.resizeVideoSlot(e)}))),this.beforeDestroyLatch.subscribe(n.add((e=>{const t=this.adCreativeLatch.getValue();t&&i(t.resizeVideoContent)&&t.resizeVideoContent(e)})))}startAdCreative(e){const{videoParameters:t,slotSize:i}=this.params,r=i.getValue(),n=ae(this.lifeCycleLatches,(e=>t?Ae:()=>e.dispatch(void 0))),o=e.startAd({callbacks:co({AdClickThru:this.ignoreAfterDestroy(((e,t,i)=>{const r=f(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:t,playerHandles:i})}))},n),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},requestTimeToSkipChange:e=>{this.params.adCreativeUserInteractionCallbacks.AdTimeToSkipChange(e)},videoSlotSize:t?t.videoSlotSize.getValue():r,size:r,videoContentSize:null==t?void 0:t.videoContentSize.getValue(),playerEnvironment:void 0});if(!ku(o))throw new fc({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});o.then(this.ignoreAfterDestroy((e=>{if(t)return;let i="complete";if(u(e)){const t=e.reason;f(t)&&Boolean(this.destroyReasonSniffers[t])&&(i=t)}"complete"===i?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(i)}))).catch(this.ignoreAfterDestroy((e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()})))}pauseAdCreative(e){null==e.pauseAd||e.pauseAd()}resumeAdCreative(e){null==e.resumeAd||e.resumeAd()}getPackshotBgVideoDuration(){var e,t;return"packshot"!==(null==(e=this.params.packshotParameters)?void 0:e.type)?0:null!=(t=this.params.packshotParameters.packshotDuration)?t:0}}const Vg=A((e=>{Xc.event({name:"IntersectionObserverMocked",data:{functionCode:N((()=>e.IntersectionObserver.toString()))}})})),Lg=A((()=>{Xc.event({name:"DocumentHiddenMocked",data:void 0})})),Bg=A((e=>{Xc.event({name:"IframeIntersectionObserverMocked",data:{functionCode:N((()=>e.IntersectionObserver.toString()))}})})),Mg=A((()=>{Xc.event({name:"IframeDocumentHiddenMocked",data:void 0})})),xg=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],Ug=V(window,"adsdkhoneypotforced");class Fg{constructor(e,t){this.time=0,this.startTime=0,this.id=0,this.started=!1,this.loop=()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()},this.callback=t,this.animationFrameFunctions=Ao(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}var Hg,zg,jg,Wg,Gg,Yg,Xg,Kg={},qg=[],Qg=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Hg=qg.slice,zg={__e:function(e,t){for(var i,r,n;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),n=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e),n=i.__d),n)return i.__E=i}catch(t){e=t}throw e}},jg=0,fo.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=mo({},this.state),"function"==typeof e&&(e=e(mo({},i),this.props)),e&&mo(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),Eo(this))},fo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Eo(this))},fo.prototype.render=yo,Wg=[],Gg="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bo.__r=0,Xg=0;var Jg,Zg,$g,ey=0,ty=[],iy=zg.__b,ry=zg.__r,ny=zg.diffed,oy=zg.__c,ay=zg.unmount;zg.__b=function(e){Zg=null,iy&&iy(e)},zg.__r=function(e){ry&&ry(e),Jg=0;var t=(Zg=e.__c).__H;t&&(t.__h.forEach(qo),t.__h.forEach(Qo),t.__h=[])},zg.diffed=function(e){ny&&ny(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==ty.push(t)&&$g===zg.requestAnimationFrame||(($g=zg.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),sy&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);sy&&(t=requestAnimationFrame(i))})(Ko)),Zg=void 0},zg.__c=function(e,t){t.some((function(e){try{e.__h.forEach(qo),e.__h=e.__h.filter((function(e){return!e.__||Qo(e)}))}catch(Yg){t.some((function(e){e.__h&&(e.__h=[])})),t=[],zg.__e(Yg,e.__v)}})),oy&&oy(e,t)},zg.unmount=function(e){ay&&ay(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(qo)}catch(e){zg.__e(e,t.__v)}};var sy="function"==typeof requestAnimationFrame;const ly=e=>tt(e)?e:new fc(e,{code:"PREACT_ERROR",details:{error:e}}),dy=e=>{const[t]=Ho(new Wh({status:"initial"}));jo((()=>{const i=t.getValue();return"initial"!==i.status?(e.onFirstRender(i),Ae):t.addOne((t=>{"initial"!==t.status&&e.onFirstRender(t)}))}),[t]),zo((()=>{"initial"===t.getValue().status&&t.dispatch({status:"success"})}),[t]);const[i]=function(e){var t=Fo(Jg++,10),i=Ho();return t.__=e,Zg.componentDidCatch||(Zg.componentDidCatch=function(e){t.__&&t.__(e),i[1](e)}),[i[0],function(){i[1](void 0)}]}((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];const o=wd(r)&&1===r.length&&ad(r[0])?r[0]:void 0,a=null!=o?o:new Error("Preact error boundary error"),s=ly(a);Xc.error({error:s});const{status:l}=t.getValue();"initial"===l?t.dispatch({status:"error",error:s}):e.onRuntimeError(s)}));return i||"error"===t.getValue().status?null:_o(yo,null,e.children)};tc({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window});Uo({}).Provider.displayName="ErrorBoundaryTestContext";const cy=e=>{const t=e.components;return _o(yo,null,Kd(t,((t,i)=>i($o({},e.componentsProps,{children:t}))),e.children))},uy=Uo(au);uy.Provider.displayName="SlotSizeContext";const hy=e=>ia(e),py=()=>Xo(uy),Ay=Uo({element:document.body});Ay.Provider.displayName="SlotContext";const my=e=>({element:e});Number(new Date);class vy{constructor(){this.usingStylesByContainersMap=new WeakMap}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const _y=new class{constructor(){this.stylesUsingCounter=new vy,this.styleElementsMap=new WeakMap}useStyleModule(e,t){const i=t,r=[];for(let n=0;n<i.length;n++){const[t,o]=i[n];if(!o)continue;if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=ra(e,o),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}r.push(t)}return r.length?A((()=>{Cd(r,(t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);if(!i||!r)return;me(r.get(t)),r.delete(t),0===r.size&&this.styleElementsMap.delete(e)}))})):Ae}},gy=Uo({buttonText:"",openClickThroughUrl:Ae});gy.Provider.displayName="HoneypotContext";var yy=e(1256),fy=e.n(yy);const Sy=e=>{let{children:t,onClick:i}=e;return na(fy()),_o("div",{className:yy.locals.HoneypotButton,onClick:i},_o("div",{className:yy.locals.HoneypotButton__content},t))};var Ty=e(6383),Ey=e.n(Ty);const by=e=>{let{width:t,height:i}=e;return na(Ey()),_o("div",{className:Ty.locals.HoneypotOverlay,style:{width:t+"px",height:i+"px"}})};var Cy=e(5046),Oy=e.n(Cy);const wy=()=>{na(Oy());const{width:e,height:t}=py(),{buttonText:i,openClickThroughUrl:r}=Xo(gy);return _o("div",{onClick:i?void 0:r,className:ta(Cy.locals.HoneypotScreen,{[Cy.locals.HoneypotScreen_clickable]:!i}),style:{width:e+"px",height:t+"px"}},_o("div",{className:Cy.locals.HoneypotScreen__honeypotOverlayWrapper},_o(by,{width:e,height:t})),i&&_o("div",{className:Cy.locals.HoneypotScreen__buttonWrapper},_o(Sy,{onClick:r},i)))},Py=[e=>_o(Ay.Provider,{value:my(e.container),children:e.children}),e=>_o(uy.Provider,{value:hy(e.containerSize),children:e.children}),e=>_o(gy.Provider,{value:oa(e),children:e.children})];class Iy extends Yc{constructor(e){super(),this.honeypotProgress=new Wh(0),this.shouldPlay=new Wh(!0),this.progress=new Wh(0),this.props=e;const{win:t,onClick:i,videoNodeController:r,parent:n}=this.props;this.addDestroyHandler((e=>{z("Honeypot: destroy honeypot reason=["+e.reason+"]"),Xc.event({name:"HoneypotDestroyed",data:{reason:e}})}));const o=t.document.createElement("div");n.appendChild(o);const a=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return xo(_o(dy,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},_o(cy,{components:Py,componentsProps:e},_o(wy,null))),t),()=>{xo(null,t)}}(aa({},this.props,{container:o,containerSize:e.parentSize,onClick:()=>{Xc.event({name:"HoneypotButtonClicked",data:void 0}),i()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));this.addDestroyHandler((()=>{a(),me(o)})),Xc.event({name:"HoneypotRendered",data:void 0});const s=new Fg(t,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.honeypotProgress.dispatch(i)}));if(this.addDestroyHandler((()=>{s.stop()})),s.start(),void 0!==r){const e=r.getMuted();if(!e){let i;r.setMuted(!0),this.addDestroyHandler(r.onVolumeChange.add((()=>{i=void 0!==i}))),this.addDestroyHandler((()=>{i||t.setTimeout((()=>{r.setMuted(e)}),100)}))}r.setLoop(!0),r.play(),this.addDestroyHandler((()=>r.setLoop(!1))),Xc.event({name:"HoneypotBackgroundLoopedVideo",data:void 0,probability:lc})}this.shouldPlay.add((e=>{e?s.start():s.stop(),void 0!==r&&(e?r.play():r.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const Dy=function(e){let t=0,i=e?Sd(e,(e=>e[0])):[],r=e?Sd(e,(e=>e[1])):[];const n=e=>(t=i.indexOf(e))>-1,o={get size(){return i.length},has:n,clear:()=>{i=[],r=[]},get:e=>r[i.indexOf(e)],keys:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>i.slice())),values:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((()=>r.slice())),entries:()=>Sd(i,((e,t)=>[e,r[t]])),delete:e=>n(e)&&i.splice(t,1)&&Boolean(r.splice(t,1)),forEach(e,t){Cd(r,((r,n)=>e.call(t,r,i[n],o)))},set:(e,a)=>(n(e)?r[t]=a:r[i.push(e)-1]=a,o)};return o},Ny=(Boolean(window.Map)&&"function"===typeof window.Map.prototype.keys&&window.Map,class{constructor(){this.map=new Dy}add(e){return this.map.set(e,e),this}clear(){this.map.clear()}delete(e){return this.map.delete(e)}has(e){return this.map.has(e)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}get size(){return this.map.size}}),Ry=p(window.Set)?window.Set:Ny,ky="https://"+Wd+"/pcode-static/measurers/75/omweb-js",Vy=ky+"/Session-Client/omid-session-client-v1.js",Ly=ky+"/Service/omweb-v1.js",By=ky+"/Compliance-Script/omid-compliance-verification-script-v1.js",My=(e,t)=>{const{promise:i}=or({src:t,win:e.contentWindow});return i},xy=new Ny;let Uy,Fy;const Hy=async e=>{void 0===Uy&&(void 0===Fy&&(Fy=(async e=>{const t=xr(e.document.body,{sandbox:"allow-scripts allow-same-origin"});if(!t)throw new fc({code:"OMSDK_ERROR",details:{reason:"Could not init IFrame for OM SDK script"}});const i=My(t,Vy),r=My(t,Ly),n=Promise.all([i,r]),o=Promise.race([n.then((()=>t)),eh(3e3).promise.then((()=>{throw new Error("OMID scripts loading timeout")}))]);return t.setAttribute("data-vas-omsdk",""),o})(e)),Uy=await Fy);const t=()=>{if(xy.has(t)&&(xy.delete(t),0===xy.size)){const t=Uy;e.setTimeout((()=>{me(t)}),3e3),Uy=void 0,Fy=void 0}};return xy.add(t),{omsdkFriendlyIFrame:Uy,release:t}},zy="0.0."+Bd,jy="generic",Wy="video";class Gy extends Yc{get videoNode(){return this.adPodViewer.adDisplayController.videoNode}get videoNodeController(){return this.adPodViewer.adDisplayController.videoNodeController}constructor(e,t){super(),this.omsdkServiceScriptIframe=new Dg,this.omidSessionClient=new Dg,this.onSessionFinish=new jh,this.onDestroy=new Dg,this.addDestroyHandler((()=>this.onDestroy.dispatch(void 0))),this.adPodViewer=e,this.verificationScriptParametersList=t,Hy(window).then((e=>{let{omsdkFriendlyIFrame:i,release:r}=e;this.omsdkServiceScriptIframe.dispatch(i),this.addDestroyHandler(r),Xc.event({name:"OmidVerifiersHasBeenSuccessfullyLoaded",data:{parameters:JSON.stringify(t)}})})).catch((e=>(z("[OMSDK]: Could not register OMSDK on page"),this.destroy({reason:"Could not register OMSDK on page: "+e.message,isError:!0})))),this.addDestroyHandler(this.omsdkServiceScriptIframe.subscribe((e=>{const t=((e,t)=>{for(const i of t.split(".")){if(!u(e)){e=void 0;break}e=e[i]}return e})(e.contentWindow,"OmidSessionClient.default");t?(z("OmidSessionClient initialized, "+t),this.omidSessionClient.dispatch(t)):this.destroy({reason:"OmidSessionClient was not initialized",isError:!0})}))),this.addDestroyHandler((e=>{let{reason:t,isError:i}=e;z("[OMSDKController]: destroy "+t),i&&Xc.error({error:new fc({code:"OMSDK_ERROR",details:{reason:t}}),probability:lc})}))}async initSession(e){let{impressionType:t="unspecified",startStrategy:i}=e;if(this.isDestroyed)return;const r=await Promise.race([this.omidSessionClient.wait(),this.onDestroy.wait()]);if(void 0!==r)try{var n;const{Partner:e,VerificationScriptResource:o,Context:a,AdSession:s,AdEvents:l,MediaEvents:d,VastProperties:c}=r,u=la(window).split("?").shift(),h=new e("Yandex",zy),p=new a(h,Sd(this.verificationScriptParametersList,(e=>{let{javaScriptResource:t,vendorKey:i,verificationParameters:r,accessMode:n}=e;return new o(t,i,r,n)})),u);p.setVideoElement(this.videoNode),Qd&&(p.underEvaluation=!0);const A=null==(n=this.omsdkServiceScriptIframe.getValue())?void 0:n.contentWindow;if(!A)throw new Error("OMSDK service script IFrame is unloaded");p.setServiceWindow(A);const m=new s(p);if(!m.isSupported())throw new Error("AdSession is not supported");m.setCreativeType("video"),m.setImpressionType(t);const v=new l(m),_=new d(m);m.start(),this.addDestroyHandler((e=>{let{reason:t}=e;"complete"===t&&_.complete(),"skip"===t&&_.skipped(),m.finish(),this.onSessionFinish.dispatch()}));const g=x(this.adPodViewer.adPodViewerPlaybackParams.skipDelay),y=this.adPodViewer.adPodViewerPlaybackParams.skipDelay,f=new c(g,y,"startPlaying"===i,function(e){switch(e.mediaAd.adBreak.adType){case"midroll":case"inroll":case"pauseroll":return"midroll";case"preroll":return"preroll";case"postroll":return"postroll";default:return"standalone"}}(this.adPodViewer));this.adPodViewer.addDestroyHandler((e=>{let{reason:t,details:i}=e;"error"===t&&void 0!==i&&m.error(jy,i.message)})),this.videoNodeController.onError.add((e=>m.error(Wy,e.message))),this.videoNodeController.onLoadedData.add((()=>{v.loaded(f)})),this.videoNodeController.isBuffering.add((e=>{e?_.bufferStart():_.bufferFinish()})),this.adPodViewer.isStarted.add((()=>{const{duration:e}=this.videoNodeController.getCurrentPosition(),t=this.videoNodeController.getVolume();_.start(e,t)})),this.adPodViewer.onImpression.add((()=>{v.impressionOccurred()})),this.adPodViewer.onFirstQuartile.add((()=>_.firstQuartile())),this.adPodViewer.onMidpoint.add((()=>_.midpoint())),this.adPodViewer.onThirdQuartile.add((()=>_.thirdQuartile())),this.adPodViewer.onClickThrough.add((()=>_.adUserInteraction("click"))),this.adPodViewer.onPause.add((()=>_.pause())),this.adPodViewer.onResume.add((()=>_.resume())),this.videoNodeController.onVolumeChange.add((()=>{_.volumeChange(this.adPodViewer.adDisplayController.getVolume())})),this.adPodViewer.adDisplayController.isFullscreen.add((e=>{_.playerStateChange(e?"fullscreen":"normal")}))}catch(Kg){this.destroy({reason:"Session initialization failed: "+Kg.message,isError:!0})}}}const Yy=[Gd,Wd],Xy=new Ry;Cd([...Yy,"static.adsafeprotected.com","z.moatads.com"],(e=>{Xy.add(e)}));class Ky{constructor(e){this.position=0,this.offset=0,this.onAnimationFrame=e=>{let{diff:t}=e;const i=t/this.duration,r=1500/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const n=i*(1+this.offset/r);this.position=W(this.position+n,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-n,this.params.callback(this.position)},this.params=e,this.duration=e.duration,this.onFinishOnce=A(e.onFinish),this.animationFramesController=new Fg(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=W(e,0,1),this.offset=0,this.params.callback(e))}}var qy=e(5432),Qy=e.n(qy);const Jy=e=>{const{url:t,children:r,onClick:n,pointerEvents:o}=e;na(Qy());return _o("a",{onClick:e=>{e.preventDefault(),i(n)&&n()},className:qy.locals.ClickThroughLink,"data-pointer-events":o,href:t,target:"_blank",rel:"nofollow noreferrer"},r)},Zy=e=>{const[t,i]=Ho($y(e));return zo((()=>{const t=$y(e);if(!t)return;const r=new Image,n=()=>{clearTimeout(a),r.width<=1&&(Xc.event({name:"NoSuchFavicon",data:{domain:String(e)}}),i(void 0))},o=e=>{var t;clearTimeout(a),Xc.event({name:"FaviconIsNotLoaded",data:{reason:null!=(t=null==e?void 0:e.message)?t:"timeout"}}),i(void 0)};r.addEventListener("load",n),r.addEventListener("error",o),r.src=t;const a=setTimeout(o,3e3);return()=>{r.removeEventListener("load",n),r.removeEventListener("error",o),clearTimeout(a)}}),[e]),t},$y=e=>{if(f(e))return e.startsWith("data:")?e:"https://favicon.yandex.net/favicon/"+e+"?size=32&stub=1"},ef=e=>{const{isClickDisabled:t,children:i,clickThruUrl:r,onClickThru:n}=e;return t?_o(yo,null,i):_o(Jy,{onClick:n,url:r},i)},tf=Uo({title:void 0,descriptionText:void 0,isPackshotClickable:!1,openClickThroughUrl:Ae,disableOverlay:!1,clickUrl:"",packshotNewDesignMode:"OFF"});tf.Provider.displayName="PackshotContext";var rf=e(7480),nf=e.n(rf);const of=e=>{let{children:t}=e;return na(nf()),_o("div",{className:rf.locals.PackshotButton},_o("div",{className:rf.locals.PackshotButton__content},t))};var af=e(4368),sf=e.n(af);const lf=e=>{let{width:t,height:i}=e;return na(sf()),_o("div",{className:af.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var df=e(2670),cf=e.n(df);const uf=Uo((e=>qu(e,Yu)));uf.Provider.displayName="I18NContext";const hf=e=>{let{lang:t}=e;return e=>qu(e,t)},pf=()=>Xo(uf),Af=Uo({shouldUseNewSkin:!1,supportsFullscreen:!1});Af.Provider.displayName="NewSkinContext";const mf=()=>Xo(Af),vf=e=>{const{width:t="1em",height:i="1em",style:r={}}=e;return _o("svg",{width:t,height:i,style:ma({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},r),viewBox:"14 14 38 38"},_o("g",{"fill-rule":"nonzero",fill:"currentcolor"},_o("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var _f=e(2563),gf=e.n(_f);const yf=e=>{let{size:t,children:i}=e;return na(gf()),_o("div",{className:ta(_f.locals.ActionButton,{[_f.locals.ActionButton__content_middle]:"middle"===t,[_f.locals.ActionButton__content_small]:"small"===t})},_o("div",{className:_f.locals.ActionButton__textWrapper},i),_o(vf,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:i?"0.3em":"0px",flexShrink:"0"}}))};var ff=e(6246),Sf=e.n(ff);const Tf=e=>{let{title:t,greenUrl:i}=e;return na(Sf()),_o("div",{className:ff.locals.InfoBlock},_o("div",{className:ff.locals.InfoBlock__title},t),i?_o("div",{className:ff.locals.InfoBlock__greenUrl},i):null)};var Ef=e(9461),bf=e.n(Ef);const Cf=e=>{na(bf());const{shouldUseNewSkin:t}=mf(),i=py(),r=pf(),n=r("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),o=r("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:a,greenUrl:s,onClickThrough:l,buttonLabel:d=o,faviconSrc:c,targetUrl:u}=e,h=1.1*va(i),p={height:h,maxWidth:280*h/48+20,fontSize:h/4,paddingLeft:t?10:null};return _o("div",{className:Ef.locals.ActionPanel__clickableLayer,style:p},_o("div",{className:Ef.locals.ActionPanel},_o("div",{className:Ef.locals.ActionPanel__content},_o(Jy,{url:u,onClick:l},_o("div",{className:Ef.locals.ActionPanel__mask,style:{maxWidth:p.maxWidth}},_o("div",{className:ta(Ef.locals.ActionPanel__wrapper,!c&&Ef.locals.ActionPanel__wrapper_wide)},_o(Tf,{greenUrl:s,title:f(a)?a:n}),_o(yf,{size:"big"},d)))),c?_o("div",{className:Ef.locals.ActionPanel__favicon},c?_o("img",{onClick:l,src:c,alt:"favicon"}):void 0):null)))},Of=Uo({themeEmptyParameters:void 0,clickThrough:Ae,shouldShowTitleAndBody:()=>!0});Of.Provider.displayName="ThemeEmptyContext";const wf=e=>{let{themeEmptyParameters:t,clickThrough:i}=e;const r=ia(t);return{themeEmptyParameters:r,clickThrough:Yo((e=>{i(e,"SkinActionButton")}),[i]),shouldShowTitleAndBody:Yo((()=>{var e;return null!=(e=r&&(r.showTitleAndBody||"TRUE"!==rc.getFlagValueAndActivateTestId("VAS_CONSIDER_SHOW_TITLE_AND_BODY_AD_PARAMETER")))&&e}),[null==r?void 0:r.showTitleAndBody])}},Pf=()=>Xo(Of),If=()=>{na(cf());const e=py(),t=function(e){let t;const{width:i}=e;let r;return t=i<360?14:i>=1024?32:Math.max(16,Math.min(14+2*Math.floor((i-240)/80),30)),r=i<560?13:i<720?14:16,{title:{fontSize:t,lineHeight:t+4},body:{fontSize:t-2,lineHeight:t+4},textBlock:{fontSize:r}}}(e),i=function(e){const{width:t}=e;return t<640?.1*t:t<960?.15*t:.2*t}(e),{descriptionText:r,isPackshotClickable:n,openClickThroughUrl:o,disableOverlay:a=!1,clickUrl:s,title:l,packshotNewDesignMode:d}=Xo(tf),c=pf(),u=ta(df.locals.PackshotScreen,{[df.locals.PackshotScreen_clickable]:n}),h=null!=l?l:c("LEARN_MORE_ON_ADVERTISERS_WEBSITE"),{themeEmptyParameters:p}=Pf(),{punyDomain:A,greenUrl:m,label:v,targetUrl:_}=null!=p?p:{},g=Zy(A),y="OFF"!==d,S=y?_o("div",{className:df.locals.PackshotScreen__content},_o(ef,{isClickDisabled:n,clickThruUrl:s,onClickThru:o},_o("div",{className:df.locals.PackshotScreen__title,style:{fontSize:t.title.fontSize+"px",lineHeight:t.title.lineHeight+"px",padding:"0 "+i+"px"}},h)),p&&_o("div",{className:df.locals.PackshotScreen__buttonWrapper_newDesign},_o(Cf,{title:void 0,greenUrl:m,buttonLabel:v,targetUrl:_,onClickThrough:n?Ae:o,faviconSrc:g}))):v&&_o("div",{className:df.locals.PackshotScreen__buttonWrapper},_o(Jy,{url:s,onClick:o},_o(of,null,v))),{width:T,height:E}=e,b=_o("div",{className:u,style:{width:T+"px",height:E+"px"}},!a&&_o("div",{className:df.locals.PackshotScreen__packshotOverlayWrapper},_o(lf,{width:T,height:E})),S,f(r)&&_o("div",{className:y?df.locals.PackshotScreen__textBlock_newDesgin:df.locals.PackshotScreen__textBlock,style:{fontSize:t.textBlock.fontSize+"px"}},r));return n?(e=>_o(Jy,{url:s,onClick:o},e))(b):b},Df=[e=>_o(Ay.Provider,{value:my(e.container),children:e.children}),e=>_o(uy.Provider,{value:hy(e.containerSize),children:e.children}),e=>_o(uf.Provider,{value:hf(e),children:e.children}),e=>_o(tf.Provider,{value:Aa(e),children:e.children}),e=>_o(Of.Provider,{value:{themeEmptyParameters:e.themeEmptyParameters,clickThrough:e.openClickThroughUrl,shouldShowTitleAndBody:()=>!1},children:e.children})];class Nf extends Yc{constructor(e){super(),this.progress=new Wh(0),this.shouldPlay=new Wh(!0),this.props=e;const{duration:t,win:i,openClickThroughUrl:r,videoNodeController:n,imageUrl:o,parent:a}=this.props,s=!Ee(t);this.addDestroyHandler((e=>{z("Packshot: destroy packshot reason=["+e.reason+"]"),Xc.event({name:"PackshotDestroyed",data:{isInfiniteDuration:s,reason:e},probability:lc})}));const l=i.document.createElement("div"),d=!o;o&&Un(l,_a({},$h,{backgroundImage:"url("+o+")",backgroundPosition:"center",backgroundSize:"cover"})),a.appendChild(l);const c=function(e){const{container:t,onRuntimeError:i,onFirstRenderError:r}=e;return xo(_o(dy,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&r(e.error)}},_o(cy,{components:Df,componentsProps:e},_o(If,null))),t),()=>{xo(null,t)}}(_a({},this.props,{container:l,containerSize:e.parentSize,openClickThroughUrl:()=>{Xc.event({name:"PackshotButtonClicked",data:void 0}),r()},onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})}}));let u;if(this.addDestroyHandler((()=>{c(),me(l)})),Xc.event({name:"PackshotRendered",data:{isInfiniteDuration:s},probability:lc}),s?(u=new Fg(i,(e=>{let{time:t}=e;const i=Math.atan(t/1e4)/(.5*Math.PI);this.progress.dispatch(i)})),this.addDestroyHandler((()=>{u.stop()})),u.start()):(u=new Ky({win:i,duration:t*im,callback:e=>{this.progress.dispatch(e)},onFinish:()=>{this.destroy({reason:"complete",details:void 0})}}),this.progress.add((e=>{e>=1&&u.stop()})),this.addDestroyHandler((()=>{u.stop(),this.progress.removeAll(),this.shouldPlay.removeAll()})),u.start()),d&&void 0!==n){const e=n.getMuted();if(!e){let t;n.setMuted(!0),this.addDestroyHandler(n.onVolumeChange.add((()=>{t=void 0!==t}))),this.addDestroyHandler((()=>{t||i.setTimeout((()=>{n.setMuted(e)}),100)}))}n.setLoop(!0),n.play(),this.addDestroyHandler((()=>n.setLoop(!1))),Xc.event({name:"PackshotBackgroundLoopedVideo",data:void 0,probability:lc})}this.shouldPlay.add((e=>{e?u.start():u.stop(),d&&void 0!==n&&(e?n.play():n.pause())}))}setPlaying(e){this.shouldPlay.dispatch(e)}}const Rf={duration:NaN,remainingTime:0},kf=D({portion:"portion",seconds:"seconds"});class Vf{constructor(e){this.trackingUrls={portion:[],seconds:[]},Cd(e,(e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})}))}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!j(i))return[];const r=t-i,n={portion:r/t,seconds:r},o=[];return Cd(kf,(e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,n[e]);o.push(...t)})),o}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=Ji(this.trackingUrls[e],(e=>{let{offset:i}=e;return t>=i}));return this.trackingUrls[e]=r,mt(Sd(i,(e=>{let{urls:t}=e;return t})))}}const Lf="2.0",Bf=D({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0}),Mf=["slot","videoSlot"];class xf extends Yc{static getVpaidAd(e){return Gn(new xf({outsideApi:e}))}handshakeVersion(){return Lf}stopAd(){z("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),wa(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,r,n,o){if(this.isDestroyed)return void Xc.error({error:new fc({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:o}})});const a=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(o,Mf);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:r,creativeData:n,environmentVars:Pa({},a,{videoSlot:void 0,slot:void 0})}]).then(Ae).catch((e=>{this.destroy({reason:"fatal",details:e})}))}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.unsubscribe=Ae,this.getAdIcons=Pg,this.getterValues=ne(Sd(Bf,(e=>[e,T_[e]]))),this.subscribe=(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,((t,r)=>{e.apply(i,r)}))},this.params=e;const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy(((e,t)=>{this.getterValues[e]=t})))),this.addDestroyHandler((e=>{"fatal"===e.reason&&Xc.error({error:new fc({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})}))}callRemoteMethod(e,t){this.isDestroyed?Xc.error({error:new fc({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(Ae).catch((e=>{this.destroy({reason:"fatal",details:e})}))}}const Uf=(e,t,i,r,n,o)=>{const a=e?r:t,s=e?i:n;return{width:a,height:s,top:(o.height-s)/2,left:(o.width-a)/2}},Ff=e=>{const{image:t,boundingRectangle:{width:i,height:r},scaleForHorizontal:n=1,scaleForVertical:o=1,pixelRatio:a,stretch:s}=e,l=t.width,d=t.height,c=l/d,u=c>i/r,h=c>1?n:o,p=h*(i<l||s?i:l),A=h*(r<d||s?r:d),m=l*(A/d),v=d*(p/l);return{width:u?p:m,height:u?v:A,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:Uf(u,p,A,m,v,{width:i,height:r}),coeff:l*d/(i*r*a),isHorizontal:c>1,smartCenters:t.smartCenters}},Hf=["idle","load","init","start","play"];const zf=e=>fe(e)||!ei(e),jf=e=>{const{adConfig:{secureMode:t}}=e,i=null!=oh?oh:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!zf(r.url);default:return!1}},Wf=e=>{var t;const{adParametersObject:i}=e;if(!u(i))return;const r=null!=(t=i.adParameters)?t:i;return{parsedParameters:u_(r),adParametersObject:i}},Gf={AdClickThru:e=>{Xc.error({error:new fc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})},AdSkipped:()=>{Xc.error({error:new fc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_SKIPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdStopped:()=>{Xc.error({error:new fc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_STOPPED_WITHOUT_AD_CREATIVE",details:void 0})})},AdUserClose:()=>{Xc.error({error:new fc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_USER_CLOSE_WITHOUT_AD_CREATIVE",details:void 0})})},AdVideoComplete:()=>{Xc.error({error:new fc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_VIDEO_COMPLETE_WITHOUT_AD_CREATIVE",details:void 0})})},AdTimeToSkipChange:()=>{Xc.error({error:new fc({code:"CALL_USER_INTERACTION_DISPATCHER_AD_TIME_TO_SKIP_CHANGE_WITHOUT_AD_CREATIVE",details:void 0})})}};class Yf extends Yc{constructor(e){super(),this.onAdSkippableStateChange=new jh,this.adSkippableState=!1,this.canUseMediaAfterPlayback=!1,this.lifeCycleStage=new Wh("idle",((e,t)=>{const i=Hf.indexOf(e);return Hf.indexOf(t)-i!==1&&Xc.error({error:new fc({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:Ma({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),this.startVpaidCreative=A((e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),z("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();e.subscribe(A((()=>{z("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),Xc.values({name:"VpaidCreativeStarted",probability:lc,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},sensors:{},labels:{}})})),"AdStarted")})),this.creativeAdStartedCallback=Xt((()=>{if(this.isDestroyed)return void Xc.error({error:new fc({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||Xc.error({error:new fc({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=A((()=>{this.isStarted.dispatch(!0)})),t=this.playingState.getValue();z("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"===t?e():this.playingState.subscribeValueConditionOnce((e=>"play"===e),e)}),(()=>{Xc.error({error:new fc({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),this.createContainerNode=A((e=>{let{isAdCreative:t}=e;const{creativesLayoutContainer:i,slotParameters:r}=this.adDisplayController,n=r.document.createElement("div");nt(n,Ma({},$h,{pointerEvents:"auto",visibility:"hidden",overflow:"hidden",zIndex:"0"})),this.isCreativeStartRequested.addOne((()=>{nt(n,{visibility:"visible"})})),this.addDestroyHandler((()=>{me(n)})),i.appendChild(n);let o=null;return t&&(o=ya(n),o&&nt(o,$h)),o||n})),this.prepareVpaidCreative=A((async e=>{let{startStrategy:t}=e;this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add((()=>{this.onVolumeChange.dispatch(void 0)}))),this.omsdkController&&await this.omsdkController.initSession({impressionType:"viewable",startStrategy:t});const i=await this.initCreative();if(!i||this.isDestroyed)throw new fc({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});i.subscribe((e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})}),"AdError"),this.creative=i,this.addDestroyHandler((()=>{this.creative=void 0})),this.onReady.dispatch(void 0),"play"===this.playingState.getValue()?this.startVpaidCreative(i):this.startAndPauseVpaidCreative(i),this.updateAdSkippableState()})),this.updatePosition=this.ignoreAfterDestroy((()=>{var e,t,i,r;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!=(e=null==(t=this.creative)?void 0:t.getAdRemainingTime())?e:-1}),z("[AdPodViewer]: updated position [duration = ["+this.getDuration()+"], adRemainingTime = ["+(null!=(i=null==(r=this.creative)?void 0:r.getAdRemainingTime())?i:-1)+"]]")})),this.isAdPlayingCalled=!1,this.getVPAIDLogDetails=()=>({adPodId:this.mediaAd.getAdPodId(),adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:en(this.adDisplayController.slotParameters.element),lifeCycleStage:this.lifeCycleStage.getValue()}),this.playbackPosition=new Wh(Rf,fa),this.userInteractionDispatchers=Gf,this.packshotStartLatch=new Dg,this.adVideoIsBuffering=new Wh(!1),this.playingState=new Wh("idle",((e,t)=>"idle"===t?(Xc.error({error:new fc({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&Xc.error({error:new fc({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),this.isCreativeStartRequested=new Wh(!1),this.onReady=new jh,this.onBeforeDestroy=new jh,this.isStarted=new Wh(!1),this.onResume=new jh,this.onPause=new jh,this.onVolumeChange=new jh,this.onImpression=new jh,this.onFirstQuartile=new jh,this.onMidpoint=new jh,this.onThirdQuartile=new jh,this.onBeforeComplete=new jh,this.completeLatch=new Dg((()=>{this.trackVastEvent("complete",void 0)})),this.onClickThrough=new jh,this.onAdInteraction=new jh,this.playingTimeCounter=new rm,this.shouldPlayTimeCounter=new rm,this.getAdParametersTrackingUrls=e=>{var t,i;return null==(t=this.mediaAd.vastAd.adParametersObject)||null==(i=t.trackingEvents)?void 0:i[e]},this.subscribeFullscreenForLogs=()=>{const{videoNodeController:e}=this.adDisplayController,t=A((()=>{Xc.error({error:new fc({code:"VIDEOTAG_FULLSCREEN",details:void 0})})}));e.isFullscreen()?t():this.onBeforeComplete.addOne((()=>{e.isFullscreen()&&t()}))};const{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;const n=pa(i.vastAd,i.adConfig);if(n){z("[OMSDK] Initializing OMSDKController with parameters: "+JSON.stringify(n));const e=new Gy(this,n);this.addDestroyHandler((t=>{let{reason:i}=t;e.destroy({reason:i,isError:!1})})),this.omsdkController=e}this.addDestroyHandler((e=>{const i=Math.round(this.shouldPlayTimeCounter.getTime()),r=Math.round(this.playingTimeCounter.getTime()),n=Math.round(i-r),o=Math.round(this.bufferingTimeManager.getBufferingTime()*im),a=Math.round(this.getDuration()*im),s=Math.round(this.getAdRemainingTime()*im),l=Math.round(a-s),d=Math.round(o/l*1e6),{droppedVideoFrames:c,corruptedVideoFrames:u,totalVideoFrames:h,droppedVideoFramesRatio:p}=Ce(this.adDisplayController.videoNode),A=t.getAdPlacementOptions(),{videoToDevicePixelRatio:m,videoPixelRatio:v}=A,_=void 0!==t.disclaimerParameters.getValue(),g=Boolean(this.getVideoSlotClickUrl()),y=te(this.adDisplayController.slotParameters.window);Xc.values({name:"ViewerDestroy",probability:lc,data:this.getAdPodViewerDestroyOptions({destroyReason:e,adPlacementOptions:A}),labels:{},values:{shouldPlayTime:i,playingTime:r,notPlayingTime:n,bufferingTime:o,duration:a,remainingTime:s,currentTime:l,bufferingTimeRatio:d,videoToDevicePixelRatio:m,videoPixelRatio:v,droppedVideoFrames:Math.round(c),corruptedVideoFrames:Math.round(u),totalVideoFrames:Math.round(h),droppedVideoFramesRatio:Math.round(1e6*p),vastHasDisclaimers_true:_?1:0,vastHasDisclaimers_false:_?0:1,videoSlotIsClickable_true:g?1:0,videoSlotIsClickable_false:g?0:1,touchScreen_true:y?1:0,touchScreen_false:y?0:1},sensors:{vastHasDisclaimers:_?"true":"false",videoSlotIsClickable:g?"true":"false",touchScreen:y?"true":"false"}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e)})),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add((()=>{this.trackVastEvent("creativeView",void 0)})),this.onResume.add((()=>{this.trackVastEvent("resume",void 0)})),this.onPause.add((()=>{this.trackVastEvent("pause",void 0)})),this.packshotStartLatch.subscribe((()=>{this.trackVastEvent("packshotStart",void 0)}));let o=0===this.getVolume();this.onVolumeChange.add((()=>{const e=0===this.getVolume();o!==e&&(this.trackVastEvent(e?"mute":"unmute",void 0),o=e)})),this.onImpression.addOne((()=>{this.trackVastEvent("impression",void 0)}));const a=new Vf(i.vastAd.progressTrackings);this.playbackPosition.add((e=>{let{remainingTime:t,duration:i}=e;const r=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&Ea({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"vast"})})),this.onFirstQuartile.add((()=>{this.trackVastEvent("firstQuartile",void 0)})),this.onMidpoint.add((()=>{this.trackVastEvent("midpoint",void 0)})),this.onThirdQuartile.add((()=>{this.trackVastEvent("thirdQuartile",void 0)})),this.bufferingTimeManager=new k_,this.addDestroyHandler((()=>this.bufferingTimeManager.destroy())),this.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add((e=>{"play"===e?(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume()):(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause())}))})),this.isStarted.addOne((()=>{const e=(this.getDuration()+20)*im;this.playingTimeCounter.addCallback(e,(()=>{Xc.event({name:"TooLongPlaying",data:{mediaFile:this.mediaAd.getJSMediaFile(),adFormatType:Sa(this.mediaAd),adParameters:this.mediaAd.vastAd.adParametersObject},probability:lc})})),this.playingTimeCounter.start(),this.onPause.add((()=>{this.playingTimeCounter.stop()})),this.onResume.add((()=>{this.playingTimeCounter.start()})),this.addDestroyHandler((()=>{this.playingTimeCounter.stop()}))})),this.isStarted.add((()=>{this.playingState.dispatch("play")})),this.onPause.add((()=>{this.playingState.dispatch("pause")})),this.onResume.add((()=>{this.playingState.dispatch("play")})),this.addDestroyHandler((()=>{this.playingState.dispatch("end")})),this.onBeforeComplete.add((()=>{this.trackVastEvent("beforeComplete",void 0)})),this.addDestroyHandler((e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackVastEvent(t,void 0)})),this.addDestroyHandler((()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()})),this.addDestroyHandler(ve({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne((()=>{this.subscribeFullscreenForLogs()}));const s=new Error,{vpaidTimeout:l}=r;this.shouldPlayTimeCounter.addCallback(l,(()=>{const e=this.getScriptSrc(),t=this.lifeCycleStage.getValue(),{videoNodeController:i}=this.adDisplayController,{videoNode:n}=i,o={adPodId:this.mediaAd.getAdPodId(),timeout:l,src:e,config:this.adDisplayController.playbackParameters,viewerPlaybackParams:r,liveCycleStage:t,videoNodeSrc:n.src,adMediaState:this.adDisplayController.adMediaState.getValue(),networkState:n.networkState,readyState:n.readyState};this.isDestroyed?Xc.error({error:new fc({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&Xc.error({error:new fc({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new fc(s,{code:Va({creativeLifeCycleStage:t,isYandexCreative:zf(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:o})}))})),this.completeLatch.subscribe((()=>{const{clear:e,promise:t}=eh(1e4);this.addDestroyHandler(e),t.then((()=>{Xc.error({error:new fc({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})})).catch(q)})),this.completeLatch.subscribe((()=>{const{clear:e,promise:t}=eh(25e3);this.addDestroyHandler(e),t.then((()=>{Xc.error({error:new fc({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})})).catch(q)})),this.addDestroyHandler((()=>{this.onAdSkippableStateChange.removeAll()}))}startCreative(e){let{startStrategy:t}=e;this.isDestroyed&&Xc.error({error:new fc({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})});const i="startPlaying"===t?"play":"pause";this.playingState.dispatch(i),this.creative?this.resume():this.prepareVpaidCreative({startStrategy:t}).catch((e=>{this.destroy({reason:"error",details:e})}))}getCurrentTime(){if(!this.creative)return 0;const e=this.creative.getAdRemainingTime()||0;return x(e)?this.getDuration()-e:0}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return x(e)?e<0?this.isStarted.getValue()?e:this.getDuration():e:this.isStarted.getValue()?-2:this.getDuration()}getAdPodViewerDestroyOptions(e){let{destroyReason:t,adPlacementOptions:i}=e;const{adBreakType:r,adFormatType:n}=i;return{destroyReason:t,adBreakType:r,adFormatType:n,wasViewerStarted:this.isStarted.getValue()}}pause(){this.playingState.dispatch("pause"),this.creative&&(z("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),z("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(z("AdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():S_}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0}resizeAd(e,t,i){var r;void 0===i&&(i=cv.NORMAL),null==(r=this.creative)||r.resizeAd(e,t,i)}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:.5;this.setVolume(e?0:i)}getVolume(){var e,t;return null!=(e=null==(t=this.creative)?void 0:t.getAdVolume())?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){if(!this.isDestroyed)if(this.creative){const t=this.getVolume()!==e&&!jf(this.mediaAd),{videoNode:i}=this.adDisplayController.videoNodeController,r=i.volume,n=i.muted;this.creative.setAdVolume(e);const o=i.volume,a=i.muted;!t||this.adCreativeWrapper||this.mediaAd.getIsIndependentOnVideoElement()||r!==o||n!==a||Xc.event({name:"VpaidCreativeDidNotChangeVideoSlotVolume",probability:lc,data:this.getVPAIDLogDetails()})}else this.adDisplayController.videoNodeController.setVolume(e)}startAndPauseVpaidCreative(e){zf(this.getScriptSrc())&&(z("preload VPAID creative by start and pause"),this.startVpaidCreative(e),Xc.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:lc,data:{vpaidSrc:this.getScriptSrc()}}),z("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,n=Ti(r),o=this.createContainerNode({isAdCreative:n});let a;if(n){z("[AdPodViewer]: play creative as AdCreative"),a=o;const{creative:i,wrapper:r}=this.wrapAdCreative({creativeSlot:a});e=i,this.adCreativeWrapper=r,t=A((()=>{try{z("[AdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(hw){Xc.error({error:new fc(hw,{code:"AD_CREATIVE_STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}))}else if(jf(this.mediaAd)){z("[AdPodViewer]: play creative via VASFrame"),a=o;const i=Sp({container:a,initTimeout:5e3});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler((()=>{this.destroy({reason:"error",details:new fc({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{adPodId:this.mediaAd.getAdPodId()}})})})),this.addDestroyHandler((()=>{r.destroy(void 0)})),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const n=()=>xf.getVpaidAd(r),s=this.getStandardVpaidCreative(n);e=s.creative,t=A((()=>{z("[AdPodViewer]: call VPAID stopAd method"),s.stopAd()})),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{z("[AdPodViewer]: play creative with Friendly Iframe");const i=dv.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;nt(r,$h),a=r.contentDocument.body;const n=r.contentWindow;ho(n)&&Mg(),po(n)&&Bg(n),Cd(xg,(e=>{this.addDestroyHandler(ve({element:a,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))})),this.addDestroyHandler((()=>{i.destroy(void 0)})),i.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}));const s=await this.loadVpaidMediaFile(n);if(this.isDestroyed)return;const l=this.getStandardVpaidCreative(s);e=l.creative,t=l.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne((()=>{z("[AdPodViewer]: call stopAd in onBeforeDestroy callback"),t()})),Xc.values({name:"VpaidCreativeLoaded",probability:lc,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},sensors:{},labels:{}}),this.isDestroyed)throw new fc({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{adDisplayController:s}=this,{videoNodeController:l,playbackParameters:d}=s,{clientWidth:c,clientHeight:u}=l.videoNode,h=this.getDesiredBitrate(),p={AdParameters:this.getAdParameters()},m=s.autoplayAbilitySignal.getValue();let v;v=void 0!==m&&(l.videoNode.muted?m.canPlayMuted:m.canPlayUnMuted);const _={slot:a,videoSlot:l.videoNode,videoSlotCanAutoPlay:v,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:d.lang,controlsSettings:{controlsVisibility:Yp},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},g=Oa({creative:e,isYandexCreative:zf(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(g,a.ownerDocument.defaultView);const y=Date.now();return await new Promise(((i,r)=>{g.subscribe((()=>{z("VPAID dispatched AdLoaded event"),i(g)}),"AdLoaded"),g.subscribe((e=>{z("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))}),"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(c,u,cv.NORMAL,h,p,_)}catch(hw){throw z("[AdPodViewer]: creative.initAd() error, call stopAd"),t(),new fc(hw,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}})),Xc.values({name:"VpaidCreativeInitialized",probability:lc,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-y},sensors:{},labels:{}}),g}wrapAdCreative(e){let{creativeSlot:t}=e;const r=this.getAdParameters(),{adParametersObject:n}=this.mediaAd.vastAd,{parsed:{videoMediaFiles:o,animationMediaFile:a,adParameters:s},errors:l}=$i(null!=n?n:r);let d;const{disableSurveyCompleteScreen:c,disableSurveyStartTimeout:h}=this.adDisplayController.playbackParameters;if("survey"===this.adDisplayController.getAdPlacementOptions().adFormatType&&s&&(void 0!==c||void 0!==h)){const e=Ht(s);u(e)&&(d=JSON.stringify(Ma({},e,{pythia:Ma({},e.pythia,{disableSurveyCompleteScreen:c,disableSurveyStartTimeout:h})})))}Yt(l);const{playbackParameters:p,videoContentSize:A,videoSlotSize:m,slotParameters:v,videoNodeController:_,visibilitySlotParameters:g}=this.adDisplayController,{videoTimeout:y,bufferFullTimeout:S,bufferEmptyLimit:T}=this.adPodViewerPlaybackParams,E=o.length>0&&!zi(this.mediaAd.vastAd)&&!Hi(this.mediaAd.vastAd),b=this.mediaAd.getIsConvertedFromVideoVast();let C,O,w;if(E){let e=this.mediaAd.getPreloadedVideoFile();const{adBreak:t}=this.mediaAd,r=this.mediaAd.getAdPodId(),{allowedToHideVideoSlotAreaPortion:n}=p,a=Ma({container:v.size.getValue(),desiredBitrate:this.getDesiredBitrate(),isVideoADB:i(Cc(v.window)),allowedToHideVideoSlotAreaPortion:n},km);e||(e=Rr(o,a,{adBreak:t,adPodId:r,initiator:"AdPodViewer"}).prioritisedMediaFile);const s=b?1===o.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE":"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE";if(!e)throw new fc({code:s,details:{mediaFiles:o,adPodId:this.mediaAd.getAdPodId(),mediaFilePriorityOptions:a}});if(function(e){const{win:t,videoType:i,videoCodec:r,width:n,height:o,bitrate:a}=e;if(ic.VAS_USER_SESSION_RANDOM>dc)return;if(!r||!a)return;if(!f(i)||!yr(r)&&!gr(r))return;const s=t.navigator;if(!s.mediaCapabilities)return;const l={type:"file",video:{contentType:i+";codecs="+r,width:n,height:o,bitrate:a,framerate:25}};s.mediaCapabilities.decodingInfo(l).then((e=>{Xc.values({name:"MediaCapabilitiesCheck",values:{},sensors:{},data:{config:l,result:e},labels:{}})})).catch((e=>{Xc.error({error:new fc({code:"MEDIA_CAPABILITIES_CHECK_ERROR",details:{config:l,error:e}})})}))}({win:v.window,videoType:e.type,videoCodec:mr(e.codec),width:e.width,height:e.height,bitrate:e.bitrate}),E){const{firstFrameImages:t}=this.mediaAd.vastAd,i=this.mediaAd.getPreloadedFirstFramePicture(),r=null!=i?i:pr(t,e);void 0!==r&&(O={posterImage:r,isPreloaded:void 0!==i})}C={videoContentSize:A,videoSlotSize:m,videoMediaFile:Ma({},e,{url:DA(e.url)}),videoMediaFiles:o,videoTimeout:y,bufferFullTimeout:S,bufferEmptyLimit:T,durationFallback:()=>this.mediaAd.getDuration(),getStartStrategy:()=>"play"===this.playingState.getValue()?"startPlaying":"warmupOnly",onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}w=a&&"InteractiveElementsAdCreative"===gh[a.url]?"IV":"AD_CREATIVE_FRIENDLY_IFRAME";let P,I=t.ownerDocument.defaultView;if(a){var D;P={animationMediaFile:a,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:null!=(D=d)?D:s};const e=dv.createHidden({parentElement:t,scope:w,provideLogDetails:this.getVPAIDLogDetails});I=e.window,this.addDestroyHandler((()=>{e.destroy(void 0)})),e.addDestroyHandler((e=>{e&&this.destroy({reason:"error",details:e})}))}const N=I,R={AdClickThru:e=>{Xc.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:lc}),this.userInteractionDispatchers.AdClickThru(e),this.clickThrough(e)},AdSkipped:()=>{this.userInteractionDispatchers.AdSkipped(),this.destroy({reason:"skip",details:void 0})},AdStopped:()=>{var e,t;this.userInteractionDispatchers.AdStopped(),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e}})},AdUserClose:()=>{this.userInteractionDispatchers.AdUserClose(),this.destroy({reason:"close",details:void 0})},AdTimeToSkipChange:e=>{this.adDisplayController.timeToSkipAdCreative.dispatch(e)},AdVideoComplete:()=>{this.userInteractionDispatchers.AdVideoComplete(),z("VPAID dispatched AdVideoComplete event"),this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})}};let k=this.adPodViewerPlaybackParams.packshotParameters;this.adPodViewerPlaybackParams.isPackshotDisabled?k=void 0:k||(k=this.getAutogeneratedPackshotParameters(E));const V=this.getVideoSlotClickUrl(),L=this.mediaAd.getIsConvertedFromVideoVast(),{creative:B,wrapper:M,userInteractionDispatchers:x}=uo({adCreativeWindow:N,slot:t,measurersSlot:this.adDisplayController.measurersSlot,visibilityRatio:g.visibilityRatio,animationParameters:P,videoParameters:C,firstFrameParameters:O,videoNodeController:_,slotSize:v.size,clickThroughUrl:V,intrinsicAdCreativeType:L?"video":"vpaid",getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:this.getCreativePackshotParameters({win:N,slot:t,packshotParameters:k,slotSize:v.size,videoNodeController:_,adCreativeUserInteractionCallbacks:R,themeEmptyParameters:Ba(this.mediaAd.vastAd)}),lang:p.lang,adCreativeUserInteractionCallbacks:R,verifyLogAdditionalData:sa(this.mediaAd.vastAd)});return this.userInteractionDispatchers=x,{creative:B,wrapper:M}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null==(e=t.adParametersObject)?void 0:e.theme,r="video-banner_theme_caucasus"===i,n="video-banner_theme_moroz"===i,o="video-banner_theme_lake"===i;UA(t)&&(r||n||o)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=zf(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(Lr(e,((e,i,r)=>{Xc.error({error:kr({scope:t,errorType:i,error:e,details:Ma({},this.getVPAIDLogDetails(),{error:e,data:r})})})})));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(lv(e,(()=>{this.destroy({reason:"error",details:new fc({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:{adPodId:this.mediaAd.getAdPodId()}})})}))),t;Xc.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=lm({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(hw){throw new fc(hw,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:{adPodId:this.mediaAd.getAdPodId()}})}}getStandardVpaidCreative(e){const t=zf(this.getScriptSrc());if("function"!==typeof e)throw new fc({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:Ma({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(hw){throw new fc(hw,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=A((()=>{z("[AdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(hw){Xc.error({error:new fc(hw,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}}));if(!(e=>u(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe)(i))throw new fc({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(Lf);if(!(e=>{let{versionSupported:t,versionToCheck:i}=e;const r=Sd(t.split("."),(e=>parseInt(e,10))),n=Sd(i.split("."),(e=>parseInt(e,10)));for(let o=0;o<n.length;o++){const e=n[o],t=r[o],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0})({versionSupported:Lf,versionToCheck:n}))throw z("[AdPodViewer]: vpaid version is NOT supported, call stopAd method"),r(),new fc({code:"VPAID_VERSION_ERROR",details:Ma({},this.getVPAIDLogDetails(),{playerSupportedVersion:Lf,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}setUpdatePositionInterval(e){const t=e.setInterval(this.updatePosition,250);return this.addDestroyHandler((()=>{i(e.clearInterval)&&e.clearInterval(t)})),()=>{e.clearInterval(t)}}subscribeCreativeEvents(e,t){e.subscribe((()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!=(e=null==(t=this.completeLatch.getValue())?void 0:t.canUseMediaAfterPlayback)&&e}})}),"AdStopped"),e.subscribe(((e,t,i)=>{Xc.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:lc}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})}),"AdClickThru"),e.subscribe((()=>{this.updateAdSkippableState()}),"AdSkippableStateChange");const r=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};let n;e.subscribe((()=>{z("VPAID dispatched AdDurationChange event"),r()}),"AdDurationChange"),e.subscribe((()=>{this.creativeAdStartedCallback(),r(),i(n)&&n(),n=this.setUpdatePositionInterval(t)}),"AdStarted"),e.subscribe((()=>{z("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.updatePosition(),i(n)&&n(),n=this.setUpdatePositionInterval(t),this.onResume.dispatch(void 0)}),"AdPlaying"),e.subscribe((()=>{z("VPAID dispatched AdPaused event"),this.updatePosition(),i(n)&&n(),this.onPause.dispatch(void 0)}),"AdPaused"),e.subscribe((()=>{this.trackStartEvent()}),"AdVideoStart"),e.subscribe((()=>{this.onImpression.dispatch(void 0)}),"AdImpression"),e.subscribe((()=>{this.onFirstQuartile.dispatch(void 0)}),"AdVideoFirstQuartile"),e.subscribe((()=>{this.onMidpoint.dispatch(void 0)}),"AdVideoMidpoint"),e.subscribe((()=>{this.onThirdQuartile.dispatch(void 0)}),"AdVideoThirdQuartile");const o=A((()=>this.onBeforeComplete.dispatch(void 0)));e.subscribe((()=>{o()}),"AdVideoBeforeComplete"),e.subscribe((()=>{this.onVolumeChange.dispatch(void 0)}),"AdVolumeChange"),e.subscribe((()=>{this.destroy({reason:"skip",details:void 0})}),"AdSkipped");const a=A((()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})}));e.subscribe((()=>{z("VPAID dispatched AdVideoComplete event"),a()}),"AdVideoComplete"),e.subscribe((()=>{this.destroy({reason:"close",details:void 0})}),"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new fc({code:t,message:"String error from vpaid ["+e+"]",details:i}):tt(e)?e:e?new fc(e,{code:t,details:i}):new fc({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}getAutogeneratedPackshotParameters(e){var t;const i=rc.getNumberFlagValueAndActivateTestId("VAS_AUTOGENERATED_PACKSHOT_DURATION");if(!i||!e)return;const{vastAd:r}=this.mediaAd,{slotParameters:n}=this.adDisplayController,o=Ra(r,n.size.getValue()),a=(null==(t=this.mediaAd.vastAd.playbackAdParameters)?void 0:t.clickThroughUrl)||this.getVideoSlotClickUrl(),{title:s}=Me(this.mediaAd.vastAd.adParametersObject);return{packshotImageUrl:o,packshotActionButtonClickUrl:a,packshotDuration:i,packshotTitle:s,packshotButtonText:void 0}}get contentType(){return this.mediaAd.contentType}trackOnCreativeInit(){this.trackVastEvent("onCreativeInit",void 0)}trackVastEvent(e,t){var i;const r=null!=(i=this.mediaAd.vastAd.trackingEvents[e])?i:[];Ea({eventName:e,options:this.adDisplayController.getAdPlacementOptions(),trackingEventDetails:t,trackingUrls:r,pixelsSource:"vast"})}trackStartEvent(){this.isCreativeStartRequested.getValue()||Xc.error({error:new fc({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=ru),this.trackVastEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;this.isDestroyed&&Xc.error({error:new fc({code:"CALL_AD_POD_VIEWER_CLICK_THROUGH_AFTER_DESTROY",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),e.url?n=e.url:r&&(Xc.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r,adPodId:this.mediaAd.getAdPodId()}}),n=r);const{pauseOnClickThrough:o,clickThroughConfirmation:a,clickThroughCallback:s}=this.adDisplayController.playbackParameters,l=Boolean(s||n);if(!l||!i)return this.trackVastEvent("clickThrough",void 0),void Xc.event({name:"PhantomClickThrough",data:{canHandleClickThrough:l,playerHandles:i,hasClickThroughCallback:Boolean(s),clickThroughUrl:n,clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()},probability:lc});n&&(n=Pe({url:ga(n),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=A((function(i){void 0===i&&(i=!1);const r=Date.now(),a=t.adDisplayController.getPaused(),l=o&&!a;if(l&&t.pause(),i){const e=Wn(window.document,(i=>{var n;if(!i)return;l&&t.resume();const o=Date.now()-r;Ea({eventName:"returnAfterClickThrough",trackingEventDetails:{timeSpentBeforeReturn:o},trackingUrls:null!=(n=t.getAdParametersTrackingUrls("returnAfterClickThrough"))?n:[],options:t.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"});const a=(e=>{switch(!0){case e<=1e3:return"ReturnBackAfterClickThroughIn1Sec";case e<=2e3:return"ReturnBackAfterClickThroughIn2Sec";case e<=1e4:return"ReturnBackAfterClickThroughIn10Sec";case e<=6e4:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}})(o);Xc.event({name:a,data:{timeSpentBeforeReturn:o,adPodId:t.mediaAd.getAdPodId()}}),e()}));t.addDestroyHandler(e)}t.trackVastEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(o)}),s&&Xc.event({name:"ClickThroughCallbackHandle",probability:lc,data:{clickThroughParams:e,url:n,pauseOnClickThrough:o,adPodId:t.mediaAd.getAdPodId()}})}));if(s){a||d();const t=this.isDestroyed;s({url:n,onHandle:d}),!t&&this.isDestroyed&&Xc.error({error:new fc({code:"DESTROY_DURING_CLICK_THROUGH_CALLBACK_CALL",details:{clickThroughParams:e,adPodId:this.mediaAd.getAdPodId()}})}),Xc.event({name:"ClickThroughCallbackCall",probability:lc,data:{clickThroughParams:e,url:n,pauseOnClickThrough:o,adPodId:this.mediaAd.getAdPodId()}})}else{null!==window.open(n,"_blank")&&d(!0)}}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isAdaptive())return XA;const e={width:this.getAdWidth(),height:this.getAdHeight()};return 0!==e.height&&0!==e.width?e:void 0}getVideoSlotClickUrl(){var e;const{mediaAd:t}=this;if("video"===t.contentType)return this.adPodViewerPlaybackParams.clickThroughUrl;const{vastAd:i}=t,r=null==(e=i.playbackAdParameters)?void 0:e.clickThroughUrl;return r||void 0}getDesiredBitrate(){const{desiredBitrate:e=jp}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}trackHoneypotShowEvent(){var e;Ea({eventName:"showHp",trackingEventDetails:void 0,trackingUrls:null!=(e=this.getAdParametersTrackingUrls("showHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}trackHoneypotClickEvent(){var e;Ea({eventName:"clickHp",trackingEventDetails:void 0,trackingUrls:null!=(e=this.getAdParametersTrackingUrls("clickHp"))?e:[],options:this.adDisplayController.getAdPlacementOptions(),pixelsSource:"adParameters"})}isHoneypotEnabledForCurrentCreative(){return"TRUE"!==rc.getFlagValueAndActivateTestId("VAS_DISABLE_HONEYPOT")&&(!LA&&!!Ug)}areHoneypotTrackingUrlsDefined(){return Boolean(this.getAdParametersTrackingUrls("showHp")&&this.getAdParametersTrackingUrls("clickHp"))}getCreativePackshotParameters(e){var t;let{win:i,slot:r,packshotParameters:n,slotSize:o,videoNodeController:a,adCreativeUserInteractionCallbacks:s,themeEmptyParameters:l}=e;const d=()=>{this.packshotStartLatch.dispatch(void 0)};if(this.isHoneypotEnabledForCurrentCreative())return{type:"honeypot",renderLayoutComponent:()=>{this.trackHoneypotShowEvent(),Xc.event({name:"AdCreativeWrapperHoneypotRender",data:void 0,probability:ac}),d();const e=new Iy({win:i,parent:r,parentSize:o,videoNodeController:a,onClick:()=>{z("Honeypot clicked"),this.trackHoneypotClickEvent(),Xc.event({name:"AdCreativeWrapperHoneypotContinueClicked",data:void 0,probability:ac}),e.destroy({reason:"complete",details:void 0})},buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"});return e}};if(void 0===n)return;const c=this.adDisplayController.playbackParameters.lang,u=null!=(t=rc.getFlagValueAndActivateTestId("VAS_ENABLE_NEW_PACKSHOT_DESIGN_MODE"))?t:"OFF";return Ma({},n,{type:"packshot",renderLayoutComponent:()=>(d(),new Nf({win:i,parent:r,parentSize:o,packshotNewDesignMode:u,videoNodeController:a,lang:c,title:n.packshotTitle,imageUrl:n.packshotImageUrl,duration:n.packshotDuration,clickUrl:n.packshotActionButtonClickUrl,openClickThroughUrl:()=>{s.AdClickThru({url:n.packshotActionButtonClickUrl,id:void 0,playerHandles:!0})},themeEmptyParameters:null!=l?l:{ageRestriction:void 0,body:void 0,clickUrl:n.packshotActionButtonClickUrl,greenUrl:void 0,label:n.packshotButtonText||qu("LEARN_MORE",c),punyDomain:void 0,title:void 0,targetUrl:n.packshotActionButtonClickUrl,showTitleAndBody:!0},descriptionText:void 0,disableOverlay:void 0}))})}}const Xf=Gp,Kf={position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px",overflow:"hidden",lineHeight:"initial"},qf=-1,Qf=-1===Ev&&!(Cv&&bv>=15),Jf=Ao(window),Zf=Jf.requestAnimationFrame,$f=Jf.cancelAnimationFrame;class eS extends Yc{constructor(e){var t,i;super(),this.isPlaying=new Wh(!1),this.framesInterval=100,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=.3;if(!this.isPlaying.getValue()&&i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=Nn(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:n,clientHeight:o}=this.params.container,a=n/o,s=r.width/r.height,l=s-a;this.prepareBlurCanvas(s,l),this.setVisibility(!0);const{context:d}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=2;d.drawImage(c,0,0,r.width,r.height,0,0,e,e),d.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else d.drawImage(c,0,0,r.width,r.height,0,0,u,h);d.globalAlpha=.1,this.handleSlowDevices(),this.setRepaintTimeout()},this.params=e,this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),t=this.params.container,i=this.blurWrapper,t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),this.appendStyles(),this.isPlaying.add((e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))})),this.addDestroyHandler((()=>{this.setPlaying(!1),me(this.blurWrapper)}))}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[1.6,Math.max(e,1.6)];t&&i.reverse(),this.slowDevice||eg(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){eg(this.canvas,{opacity:e})}simplifyBlur(){const{clientWidth:e,clientHeight:t}=this.params.container;this.setCanvasSize(e+10,t+10);const i="-5px";eg(this.canvas,{left:i,top:i,transform:"",filter:"blur(5px)",width:100*(1+10/e)+"%",height:100*(1+10/t)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=Ln(this.params.videoNode).position;-1===["fixed","absolute"].indexOf(t)&&(e["z-index"]="-1"),eg(this.blurWrapper,e),eg(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout((()=>this.rafId=Zf(this.repaint)),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),$f(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,n=t<0,o=n?r.offsetHeight*e:r.offsetWidth/e,a=n?o:r.offsetWidth,s=n?r.offsetHeight:o,l=(n?i.offsetWidth:i.offsetHeight)/o*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*l,n)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}var tS;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(tS||(tS={}));const iS=new Dy,rS=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class nS{constructor(e){const{cues:t}=Ja(e);this.cues=t.sort(((e,t)=>e.start-t.start))}findCuesByCurrentTime(e){return cc(this.cues,(t=>this.isCueApplicable(t,e)))}isCueApplicable(e,t){const{start:i,end:r}=e;return t>=i&&t<=r}}const oS=e=>{const t=tn(e,{crossorigin:null,loop:null,preload:"auto",autoplay:null}),i=Jr(e,{objectFit:""});return A((()=>{t(),i()}))},aS=15,sS=1e3,lS="Fullscreen is not supported";class dS{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new jh,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=In(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&Cv&&(this.onDestroy.addOne(ve({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(ve({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=Pn(e,t),this.names&&(this.onDestroy.addOne(ve({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(lS);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(lS);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(lS);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=cc(this.handlers,(t=>t!==e))}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Cd(this.handlers,(t=>t(e)))}}class cS{constructor(e){this.violatedSources=[],this.securityPolicyViolationCallback=e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const n={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(n)},this.unsubscribeEvent=ve({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return rd(this.violatedSources,(t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)}))}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const uS=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class hS extends Yc{constructor(e){super(),this.params=e,this.mediaSource=new e.MediaSourceConstructor,ve({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy((e=>{z("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new fc(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))}))}),z("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler((()=>{var e;z("MSEController: detach BLOB URL"),(e=this.params.videoSlot).removeAttribute("src"),e.load()})),this.init().then((()=>{z("MSEController: MSE successfully attached"),Xc.event({name:"MSEControllerAttachSuccess",data:{},probability:lc})})).catch((e=>{z("MSEController: init error"),"AbortError"===e.name?Xc.event({name:"MSEControllerFetchWasAborted",data:{message:e.message},probability:lc}):Xc.error({error:new fc(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})}))}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler((()=>{if(e.signal.aborted)return z("MSEController#reader: abort controller was already aborted"),void Xc.error({error:new fc({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});z("MSEController#reader: abort controller"),e.abort()}));const t=await fetch(this.params.mediaFile.url,{signal:e.signal});if(!t.body)throw new fc({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler((()=>{z("MSEController#reader: cancel reader"),wa(i.cancel())})),z("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise((e=>ve({element:this.mediaSource,eventName:"sourceopen",listener:e})));const{mediaFile:e}=this.params,{type:t,codec:i}=e;let r;t&&i?r=xm({type:t,codec:i}):(Xc.event({name:"MSEControllerSourceBufferUsesDefaultWebmContentType",data:{mediaFile:e},probability:lc}),r='video/webm; codecs="vorbis,vp8"');const n=this.mediaSource.addSourceBuffer(r);return ve({element:n,eventName:"error",listener:this.ignoreAfterDestroy((e=>{z("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new fc(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))}))}),this.addDestroyHandler((()=>{"open"===this.mediaSource.readyState&&(z("MSEController#abort source buffer"),n.abort())})),z("MSEController: got source buffer"),n}async doReadCycle(e,t){z("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+uS);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise((e=>ve({element:t,eventName:"updateend",listener:e})));if(!i.value)break;if(this.isDestroyed)return;if(uS){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise((e=>ve({element:t,eventName:"updateend",listener:e})));i=await e.read()}while(i.value);for(uS&&(z("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise((e=>ve({element:t,eventName:"updateend",listener:e})));z("MSEController: read cycle complete")}async finalize(e){for(z("MSEController#close streams");e.updating;)await new Promise((t=>ve({element:e,eventName:"updateend",listener:t})));"open"===this.mediaSource.readyState?(z("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):z("MSEController#finalize: media source is closed")}}class pS{constructor(e,t){this.seekAllowed=!0,this.onVideoTimeUpdate=()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())},this.video=e,this.onSeekRestore=t,this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=ve({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<50)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>2*(i||1)}}const AS=Math.ceil(8),mS=Fl;class vS extends Yc{constructor(e,t){super(),this.onClick=new jh,this.currentPosition=new Wh({currentTime:0,duration:0},fa),this.onError=new jh,this.onEnd=new jh,this.onVolumeChange=new jh,this.onPlay=new jh,this.onPlayAfterPause=new jh,this.onBufferingAfterPlay=new jh,this.isBuffering=new Wh(!1),this.onPlaying=new jh,this.onSeekRestore=new jh,this.onCanPlay=new jh,this.onLoadedData=new jh,this.pauseRequest=new Wh(-1),this.videoNode=e,this.window=t,this.playingState=new Wh(this.videoNode.paused?Yv.PAUSE:Yv.PLAY),this.seekController=new pS(e,(()=>this.onSeekRestore.dispatch(void 0))),this.win=Bn(e)?e.ownerDocument.defaultView:this.window,this.fullscreenApi=new dS(this.win,e),this.cspErrorHandler=new cS(this.win);let i=this.playingState.getValue();this.playingState.add((e=>{const{currentTime:t,duration:r,paused:n,ended:o}=this.videoNode;switch(z("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:n,ended:o})+"]"),e){case Yv.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case Yv.END:this.onEnd.dispatch(void 0);break;case Yv.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===Yv.BUFFERING),i=e}));const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new fc({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&Xc.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=eh(1e3);this.addDestroyHandler((()=>{t(),i()})),e.then(i).catch(q)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(Yv.PLAY)},playing:()=>{this.currentPosition.dispatch(this.getCurrentPosition()),this.onPlaying.dispatch(void 0),this.playingState.dispatch(Yv.PLAY)}};this.subscribeClick(),this.subscribeUpdatePositionInterval(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange(),this.subscribeLoadedData();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler((()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll(),this.onCanPlay.removeAll()}))}play(){z("VideoNodeController.play");const e=this.videoNode.play();ku(e)&&e.catch((e=>{this.shouldIgnorePlayRejection(e)||Xc.error({error:new fc(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})}))}pause(){z("VideoNodeController.pause"),this.pauseRequest.dispatch(this.win.Date.now()),this.currentPosition.dispatch(this.getCurrentPosition()),this.videoNode.pause(),this.playingState.getValue()!==Yv.END&&this.playingState.dispatch(Yv.PAUSE)}setSrc(e){const t=this.prepareSrcUrl(e),{videoNode:r}=this;let n;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const o=Cc(this.win);n=!(!i(o)||void 0!==Or(e)),z("VideoNodeController.setSrc shouldPlayWithMSE=["+n+"] url=["+t+"]"),ts(r,(()=>{if(!n)return r.src=t,void r.load();const i=(e=>{if(!Xm||!zm)throw new fc({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new hS(os({},e,{MediaSourceConstructor:zm}))})({mediaFile:e,videoSlot:r});this.activeMSEController=i,i.addDestroyHandler(this.ignoreAfterDestroy((e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)}))),this.addDestroyHandler((()=>{i.destroy(void 0)}))}))}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentPosition(){return ns(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return In(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){ts(e,(()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:.5;e.volume=t}}))}(this.videoNode,e)}getVolume(){return as(this.videoNode)}setVolume(e){!function(e,t){ts(e,(()=>{e.volume=t,e.muted=0===t}))}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}setLoop(e){this.videoNode.loop=e}getLoop(){return this.videoNode.loop}prepareSrcUrl(e){const{url:t}=e;return wr(e.type)?w(e.url,{video_height:String(this.getHeight()),video_width:String(this.getWidth())}):t}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:n,error:o,networkState:a,readyState:s}=e,l=o&&o.code,d={code:l,message:o&&o.message||"",src:t,currentSrc:i,currentTime:r,duration:n,networkState:a,readyState:s,selectedMediaFile:void 0,mediaFiles:void 0};if(!o||"undefined"===typeof MediaError)return new fc({code:"VIDEO_ERROR",details:d});switch(l){case MediaError.MEDIA_ERR_ABORTED:return new fc({code:"MEDIA_ERR_ABORTED",details:d});case MediaError.MEDIA_ERR_NETWORK:return new fc({code:"MEDIA_ERR_NETWORK",details:d});case MediaError.MEDIA_ERR_DECODE:return new fc({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:d});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return x(a)&&x(s)&&s===e.HAVE_NOTHING&&a===e.NETWORK_NO_SOURCE?new fc({code:"MEDIA_ERR_NETWORK_FIRST_CHUNK_FAIL",details:d}):new fc({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:d});default:return new fc({code:"MEDIA_ERROR_UNRECOGNIZED",details:d})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=bv>=11?rs(this.videoNode,e):ve({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeUpdatePositionInterval(){let e;const{videoNode:t}=this,i=()=>{if(this.seekController.isSeekingIllegal())return;this.currentPosition.dispatch(this.getCurrentPosition());const{currentTime:e,duration:t}=this.getCurrentPosition();z("[VideoNodeController]: updated position [currentTime = ["+e+"], duration = ["+t+"]]")},r=ve({element:t,eventName:"playing",listener:()=>{this.win.clearInterval(e),e=this.win.setInterval(i,250)},options:{passive:!0}}),n=ve({element:t,eventName:"pause",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),o=ve({element:t,eventName:"ended",listener:()=>{this.win.clearInterval(e)},options:{passive:!0}}),a=ve({element:t,eventName:"canplay",listener:()=>{this.onCanPlay.dispatch(void 0)}});this.addDestroyHandler(r),this.addDestroyHandler(n),this.addDestroyHandler(o),this.addDestroyHandler(a),this.addDestroyHandler((()=>{this.win.clearInterval(e)}))}subscribePause(){const{videoNode:e}=this,t=ve({element:e,eventName:"pause",listener:()=>{const{currentTime:e,duration:t}=this.getCurrentPosition();e>=t||this.playingState.dispatch(Yv.PAUSE)},options:{passive:!0}}),i=Br((()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===Yv.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;z("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Xc.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i},probability:lc}),this.playingState.dispatch(Yv.PAUSE)}}));this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=ve({element:this.videoNode,eventName:"ended",listener:()=>{if(this.seekController.isSeekingIllegal())return;const{currentTime:e,duration:t}=this.getCurrentPosition();e+.25>=t?this.playingState.dispatch(Yv.END):z("video ended ignored with currentTime=["+e+"] duration=["+t+"]")},options:{passive:!0}});let t=0,i=NaN;const r=Br((()=>{const{currentTime:e,duration:r}=this.getCurrentPosition(),{paused:n}=this.videoNode,o=this.playingState.getValue();if(r>0&&e>=r)return void(o!==Yv.END&&(Xc.event({name:"DetectVideoEndByCurrentTime",probability:lc,data:void 0}),this.playingState.dispatch(Yv.END)));const a=!n&&r>0&&e===i&&r-e<1&&this.playingState.getValue()===Yv.PLAY;i=e,a?t>=AS?(t=0,o!==Yv.END&&(Xc.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(Yv.END))):t++:t=0}));this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=Ae;const t=R_(this.videoNode,(t=>{let i;if(i=t?Yv.BUFFERING:this.videoNode.paused?Yv.PAUSE:Yv.PLAY,e(),this.playingState.dispatch(i),t&&mS){const{clear:t,promise:i}=eh(1e3);e=t,this.addDestroyHandler(t),i.then((()=>{if("buffering"!==this.playingState.getValue())return;const{currentTime:e,duration:t}=this.getCurrentPosition(),i=e+.1;this.setCurrentTime(i);const{currentSrc:r,src:n}=this.videoNode;Xc.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:r,src:n,currentTime:e,duration:t}})})).catch(q)}}));this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(ve({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}subscribeLoadedData(){this.addDestroyHandler(ve({element:this.videoNode,eventName:"loadeddata",listener:()=>this.onLoadedData.dispatch(void 0)}))}shouldIgnorePlayRejection(e){if(this.isDestroyed)return!0;if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=1e3}}const _S=.05,gS=Math.max(.1,_S),yS=e=>!1!==e.abuse,fS={isCloseAvailable:!1,isCloseDialogActive:!1},SS={clickableVideo:!0,video:!0,interactiveViewer:!0,external:void 0,motion:void 0,survey:void 0,themeEmpty:void 0,vpaidCreative:void 0},TS=(e,t)=>t>=og&&("play"===e||"pause"===e),ES=[{type:"video/x-flv",codec:void 0},{type:"video/webm",codec:"vp8, vorbis"},{type:"video/webm",codec:"vp8"},{type:"video/webm",codec:"vp9, vorbis"},{type:"video/webm",codec:"vp9"},{type:"video/webm",codec:"av1"},{type:"video/webm",codec:void 0},{type:"video/ogg",codec:void 0},{type:"video/mp4",codec:"avc1.640033, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640033"},{type:"video/mp4",codec:"avc1.640034, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640034"},{type:"video/mp4",codec:"avc1.64082A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64082A"},{type:"video/mp4",codec:"avc1.640828, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640828"},{type:"video/mp4",codec:"avc1.640820, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640820"},{type:"video/mp4",codec:"avc1.64081F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081F"},{type:"video/mp4",codec:"avc1.64081E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64081E"},{type:"video/mp4",codec:"avc1.64002A,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64002A"},{type:"video/mp4",codec:"avc1.640028,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640028"},{type:"video/mp4",codec:"avc1.640020,mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020, mp4a.40.2"},{type:"video/mp4",codec:"avc1.640020"},{type:"video/mp4",codec:"avc1.64001F,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001F"},{type:"video/mp4",codec:"avc1.64001E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.64001E"},{type:"video/mp4",codec:"avc1.4D481E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D481E"},{type:"video/mp4",codec:"avc1.4D401E,mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E, mp4a.40.2"},{type:"video/mp4",codec:"avc1.4D401E"},{type:"video/mp4",codec:"h264"},{type:"video/mp4",codec:"h265"},{type:"video/mp4",codec:"hev1.1.6.L60.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L63.90"},{type:"video/mp4",codec:"hev1.1.6.L90.90"},{type:"video/mp4",codec:"hev1.1.6.L120.90"},{type:"video/mp4",codec:"av1"},{type:"video/mp4",codec:void 0},{type:"video/3gpp",codec:"av1"},{type:"video/3gpp",codec:void 0},{type:"application/x-mpegURL",codec:void 0},{type:"application/vnd.apple.mpegurl",codec:void 0},{type:"video/x-ms-wmv",codec:void 0},{type:"application/x-shockwave-flash",codec:void 0},{type:"video/3gp",codec:"av1"},{type:"video/3gp",codec:void 0},{type:"video/mpeg",codec:void 0},{type:"video/mpeg",codec:"av1"}];let bS=0;class CS extends Yc{get isNewSkinEnabled(){return"EVERYWHERE"===rc.getFlagValueAndActivateTestId("VAS_USE_NEW_SKIN")||!0===this.playbackParameters.enableNewSkin}constructor(e){let{config:t,videoNode:r,videoWrapperNode:n,skinParameters:o,backgroundSlot:a,visibilitySlotParameters:s,measurersSlot:l,retainLastMediaAfterPlayback:d}=e;super(),this.volumeButtonCollapseProgress=new Wh(void 0),this.volumeStatus=new Wh("unknown"),this.videoSlotClickUrl=new Wh(void 0),this.onReady=new jh,this.onBeforeDestroy=new jh,this.onDestroy_PUBLIC_DO_NOT_USE=new jh,this.onBeforeAdStart=new jh,this.onAdStart=new jh,this.adSlowStart=new Wh(!1),this.onAdMediaStart=new jh,this.onAdMediaEnd=new jh,this.onAdEnd=new jh,this.onAdSkipped=new jh,this.onClickThrough=new jh,this.autoplayAbilitySignal=new Wh(ps({},jv)),this.onAdStartRejected=new jh,this.adContentSize=new Wh(void 0,fa),this.onAdStop=new jh,this.onAdPodPlayAdMedia=new jh,this.onAdPodStartRequest=new jh,this.onAdPodStart=new jh,this.onAdPodImpression=new jh,this.onAdPodFirstQuartile=new jh,this.onAdPodMidpoint=new jh,this.onAdPodThirdQuartile=new jh,this.onAdPodPause=new jh,this.onAdPodResume=new jh,this.onAdPodError=new jh,this.onAdPodComplete=new jh,this.onAdPodClose=new jh,this.onAdInteraction=new jh,this.adMediaState=new Wh({name:"idle"},fa),this.isPackshotPlaying=new Wh(!1),this.themeEmptyParameters=new Wh(void 0,fa),this.disclaimerParameters=new Wh(void 0,fa),this.abuseParameters=new Wh(t_,fa),this.adPodDuration=new Wh(NaN),this.adVolumeAvailability=new Wh(false),this.adPodRemainingTime=new Wh(-2),this.skinAnimationProgress=new Wh(0),this.timeToSkipComputed=new Wh(qf),this.timeToSkipAdCreative=new Wh(void 0),this.timeToSkip=Mn([this.timeToSkipComputed,this.timeToSkipAdCreative],((e,t)=>null!=t?t:e)).valueSignal,this.adSkippableState=new Wh(S_),this.playingState=new Wh("idle",((e,t)=>"idle"===t?(Xc.error({error:new fc({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),this.adPodCloseState=new Wh(fS,fa),this.adTuneState=new Wh(n_,fa),this.combinedSkinControlsVisibility=new Wh({},fa),this.creativeType=new Wh(void 0),this.adSystemType=new Wh(void 0),this.contentAfterAdPod=new Wh(Bp,fa),this.socialAdvertising=new Wh(!1),this.abuseDisplayStatus=new Wh("hidden"),this.pauseByOpenAbuseScreen=new Wh(!1),this.adPodsCount=new Wh(0),this.playingAdPodIndex=new Wh(0),this.adPodCurrentSubtitles=new Wh([]),this.isFullscreen=new Wh(!1),this.displayAdSequence=new Wh(void 0,fa),this.logAbuseOpenFirstTime=A((()=>{Xc.event({name:"AbuseScreenOpenFirstTime",data:{},probability:ac})})),this.onAllAdPodComplete=new jh,this.lastMediaRetained=new Wh(void 0),this.adBlockIdentification=new Wh({adType:void 0,partnerId:void 0,impId:void 0}),this.retainLastMediaAfterPlayback=!1,this.skinControlsHideReasons=new Wh(ne(Sd(Gp,(e=>[e,[]])))),this.publicApiControlsSettings=new Wh({controlsVisibility:{}}),this.isCreativeWithOwnControls=new Wh(!1),this.vastAdControlsSettings=new Wh(void 0),this.shouldHandleResize=!0,this.viewersList=[],this.showAdCounter=0,this.shouldBlurBeVisibleByApiLogic=new Wh(!0),this.adPodBackground=new Wh(void 0),this.adPodDestroyReasonObjects=[],this.destroyBlur=Ae,this.adVideoIsBuffering=new Wh(!1),this.onAdInteractionWrapper=((e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}})((()=>{this.onAdInteraction.dispatch(void 0)}),500),this.documentVisibility=new Wh(!1),this.currentViewerProductType=new Wh(void 0),this.isBrandliftSurveyCreative=new Wh(!1),this.prepareSkin=A((()=>{const e=this.skinContainer;nt(e,Kf);const t=ya(e);t||Xc.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:r,clear:n}=this.skinParameters.renderSkinFunction(null!=t?t:e,this);i.catch((e=>{Xc.error({error:new fc(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)})),r.catch((e=>{Xc.error({error:new fc(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)})),this.addDestroyHandler((()=>{n(),me(e)}))})),this.openAdSystemWebsite=()=>{const e=this.socialAdvertising.getValue(),t=e?"https://yandex.ru/socialads-transparency-report":qu("YANDEX_DIRECT_LINK",this.playbackParameters.lang),i=!this.getPaused(),r=Date.now();Xc.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause();if(null===window.open(t,"_blank"))return;const n=Wn(window.document,(o=>{o&&(Xc.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),n(),i&&this.resume())}));this.addDestroyHandler(n)},this.clickThrough=(e,t)=>{this.currentViewer?(Xc.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.playbackParameters},probability:lc}),this.viewerClickThrough(this.currentViewer,e)):Xc.error({error:new fc({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.playbackParameters}})})},this.destroyCurrentViewer=()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen(),this.showCreativesContainer())},this.logAbuseEventToStats=e=>{Xc.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:ac});const t="AbuseVariantChoose_"+e;Xc.event({name:t,data:{},probability:ac})},this.showCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display=""}catch(hw){Xc.error({error:new fc(hw,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.hideCreativesContainer=()=>{try{this.creativesLayoutContainer.style.display="none"}catch(hw){Xc.error({error:new fc(hw,{code:"CREATIVES_CONTAINER_VISIBILITY_CHANGE_FAILED",details:void 0})})}},this.abuseVariantChooseHandler=(e,t)=>{if(!this.currentViewer)return void Xc.error({error:new fc({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});null!=t&&t.needToHideCreativesContiner&&this.hideCreativesContainer();const{reason:i,action:r}=e_[e];this.sendAdTuneTracking({actionId:r,reasonId:i,options:t}),this.logAbuseEventToStats(e);(null==t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()},this.onAbuseCopyLinkToClipboardClick=e=>{e?(Xc.event({name:"AbuseScreenCopiedCountLink",data:{},probability:ac}),function(e){const t=document.createElement("textarea"),i=window.pageYOffset||document.documentElement.scrollTop;t.style.fontSize="12pt",t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",t.style.top=i+"px",t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);try{document.execCommand("copy")}catch(r){}document.body.removeChild(t)}(e)):Xc.error({error:new fc({code:"ABUSE_COPY_COUNT_LINK_WITHOUT_URL",details:void 0})})},this.getSendBeaconParams=e=>{const t=null==e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})},this.abuseButtonClickHandler=()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),Xc.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:ac}),this.logAbuseOpenFirstTime(),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseDisplayStatus.dispatch("selection"),this.sendAdTuneTracking({actionId:qv.action,reasonId:qv.reason})},this.abuseScreenCloseHandler=()=>{Xc.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:ac}),this.closeAbuseScreen(),this.sendAdTuneTracking({actionId:Qv.action,reasonId:Qv.reason})},this.handleAbuseScreenCloseByResumeError=()=>{Xc.error({error:new fc({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseDisplayStatus.dispatch("hidden")},this.getCurrentViewerAssets=()=>{const e=this.currentViewer;if(!e)return void Xc.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:lc});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?u_(t):void 0,r=this.getAdPlacementOptions(),{adFormatType:n}=r,o="survey"===n?n:void 0;if(!i)return Xc.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:lc}),{logo:void 0,domain:void 0,greenUrl:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,app:void 0,icon:void 0,images:void 0,adFormatType:o,isFullyClickable:cs(n,e.getVideoSlotClickUrl()),sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const a=null==i?void 0:i.assets,s=null==a?void 0:a.button,{abuseUrl:l}=this.abuseParameters.getValue(),d={logo:null==a?void 0:a.logo,domain:null==i?void 0:i.domain,greenUrl:null==i?void 0:i.greenUrl,punyDomain:null==i?void 0:i.punyDomain,title:null==i?void 0:i.title,body:null==i?void 0:i.body,age:null==i?void 0:i.ageRestriction,buttonCaption:null==s?void 0:s.caption,lang:this.playbackParameters.lang,targetUrl:null==i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),app:null==a?void 0:a.app,icon:null==a?void 0:a.icon,images:null==a?void 0:a.images,adFormatType:o,isFullyClickable:cs(n,e.getVideoSlotClickUrl()),sendAdTuneTracking:l?e=>{Xc.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:lc}),this.sendAdTuneTracking(e)}:void 0,clickThrough:Boolean(e.adPodViewerPlaybackParams.clickThroughUrl)?()=>{Xc.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:lc}),this.viewerClickThrough(e,{})}:void 0,clickThroughButtonAsset:s?()=>{Xc.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:lc}),this.viewerClickThrough(e,{id:s.key,url:s.href})}:void 0};return Xc.event({name:"GetCurrentViewerAssetsReturnAssets",data:d,probability:lc}),d},this.subscribeInteractionHandlers=()=>{if(!Z_(this.slotParameters.element))return Ae;const e=[],t=Bn(this.videoNode);return Cd(xg,(i=>{e.push(ve({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(ve({element:this.slotParameters.element,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))})),()=>pe(e)},this.viewerClickThrough=(e,t)=>{e.userInteractionDispatchers.AdClickThru(t),e.clickThrough(t)},this.saveCurrentInstanceToRegistry=()=>{if(!Qd)return;const e=function(e){var t,i;const r=e;return null!=(t=r.ya)&&null!=(i=t.videoAd)&&i.debugParameters||Qa(r,{videoAd:{debugParameters:{}}},"ya"),r.ya.videoAd.debugParameters}(window);if(!e.adDisplayControllerRegistry){const t=new Map,i=new Ny;Object.defineProperty(e,"adDisplayControllerRegistry",{get:()=>(Xc.warning({name:"UsingDebugCodeAdDisplayControllerRegistryGetter",message:"You are using debug code ad display controller registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."}),i)}),Object.defineProperty(e,"blockRegistry",{get:()=>(Xc.warning({name:"UsingDebugCodeBlockRegistryGetter",message:"You are using debug code block registry getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."}),t)});const r=()=>(Xc.warning({name:"UsingDebugCodeAdDisplayControllersGetter",message:"You are using debug code ad display controllers getter, WE DON'T PROVIDE SUPPORT FOR THIS CODE."}),Array.from(e.adDisplayControllerRegistry.values()));e.getAdDisplayControllers=r;const n=()=>(Xc.warning({name:"UsingDebugCodeGetBlocksInfo",message:"You are using debug code get blocks info, WE DON'T PROVIDE SUPPORT FOR THIS CODE."}),Array.from(e.blockRegistry.values()));e.getBlocksInfo=n}const t=e.adDisplayControllerRegistry,i=e.blockRegistry;t.add(this),this.addDestroyHandler(this.adBlockIdentification.add((e=>{if(!e||void 0===e.impId||void 0===e.partnerId)return;const t=e.partnerId+"-"+e.impId;if(i.has(t))return;const r=(e=>{const t=e.adBlockIdentification.getValue();return{visibilityTrackingElement:e.visibilitySlotParameters.element,adType:null==t?void 0:t.adType,bundleName:Hd,SID:oc,partnerId:null==t?void 0:t.partnerId,impId:null==t?void 0:t.impId}})(this);i.set(t,r)}))),this.addDestroyHandler((()=>{t.delete(this)}))},this.desiredPlayStateByVisibility=new Wh(void 0),this.pausedByVisibilityRatio=new Wh(void 0),this.setupVisibilityPlaybackPauseResume=()=>{this.desiredPlayStateByVisibility.add((e=>{if(void 0===e)return void 0;const t="pause"===e;t?this.pause():this.resume(),this.pausedByVisibilityRatio.dispatch(t),Xc.event({name:t?"AdDisplayControllerVisibilityPause":"AdDisplayControllerVisibilityResume",probability:lc,data:{}})})),this.addDestroyHandler(this.onReady.addOne((()=>{const e=Mn([this.documentVisibility,this.visibilitySlotParameters.visibilityRatio],((e,t)=>{const i=this.getVolume()>0,r=t>=.5;if(e||!i)return this.getPaused()||r?r&&!0===this.pausedByVisibilityRatio.getValue()?"play":void 0:"pause"}));this.addDestroyHandler(e.teardown),this.desiredPlayStateByVisibility.dispatch(e.valueSignal.getValue()),e.valueSignal.add(this.desiredPlayStateByVisibility),this.addDestroyHandler(this.playingState.subscribeValueConditionOnce((e=>"end"===e),(()=>{e.teardown()})))})))},this.retainLastMediaAfterPlayback=Boolean(d),this.addDestroyHandler((e=>{this.onBeforeDestroy.dispatch(e)})),Qd&&this.saveCurrentInstanceToRegistry(),this.backgroundSlot=a,this.visibilitySlotParameters=s,this.measurersSlot=l,function(e){ho(e)&&Lg(),po(e)&&Vg(e)}(window);const c=void 0===r.volume||void 0===r.muted;c&&Xc.error({error:new fc({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:h,errors:p}=Ya(t);this.playbackParameters=h,void 0!==this.playbackParameters.skipDelayForNonYandexCreatives&&Xc.event({name:"UseOfPublicApiSkipDelayForNonYandexCreativesParameter",data:{config:t},probability:lc}),this.adVolume=new Wh(as(r)),this.adHasBeenUnmuted=new Wh(this.adVolume.getValue()>0),this.isFakeVideoElementWithoutVolumeChangeSupport=c;const m=new F_(n),v=m.onResize;v.add((e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)})),v.add((()=>{this.isNeedToShowVolumeButtonText()||0!==this.volumeButtonCollapseProgress.getValue()||this.startVolumeButtonProgress()})),this.addDestroyHandler((()=>{m.destroy()}));const _=new Wh(!1);this.addDestroyHandler(On(n,(e=>{_.dispatch(e)}))),this.slotParameters={element:n,document:n.ownerDocument,window:n.ownerDocument.defaultView,size:v,isHovered:_},this.skinParameters=o,this.addDestroyHandler(((e,t)=>{const i=Br((()=>{en(e)||(i(),t())}));return i})(n,(()=>{this.destroy({reason:"error",details:new fc({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0})})}))),this.videoContentSize=new Wh(void 0,fa);const g=new Wh(TS(this.playingState.getValue(),this.visibilitySlotParameters.visibilityRatio.getValue()));if(this.addDestroyHandler(En([this.playingState,this.visibilitySlotParameters.visibilityRatio],TS,(e=>g.dispatch(e)))),this.addDestroyHandler((e=>{let{valueSignal:t,time:r,callback:n,win:o}=e,a=0;const s=()=>{if(i(null==o?void 0:o.clearTimeout))return o.clearTimeout(a)},l=t.add((e=>{e?a=o.setTimeout((()=>{n(),l()}),r):s()}));return()=>{s(),l()}})({valueSignal:g,time:2e3,callback:()=>{0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()},win:this.slotParameters.window})),this.onAdStart.addOne((()=>{this.addDestroyHandler(is(r,(e=>{this.videoContentSize.dispatch(e)}))),this.videoContentSize.dispatch(Nn(r))})),this.adHasBeenUnmuted.addOne((e=>{e&&0===this.volumeButtonCollapseProgress.getValue()&&this.startVolumeButtonProgress()})),this.volumeStatus.addOne((()=>{this.isNeedToShowVolumeButtonText()&&"mutedStart"===this.volumeStatus.getValue()?this.volumeButtonCollapseProgress.dispatch(0):this.volumeButtonCollapseProgress.dispatch(1)})),this.addDestroyHandler((()=>{m.destroy()})),Bn(r)){const e=new F_(r);this.addDestroyHandler((()=>e.destroy())),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotParameters.size;Yt(p),this.videoNode=r,us(this.videoNode),this.timeToSkip.add((e=>{this.adSkippableState.dispatch(0===e)}));const y=this.adVolume.add((e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),y())}));this.addDestroyHandler(En([this.adVolume,this.adVolumeAvailability,this.adHasBeenUnmuted],((e,t,i)=>function(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unknown"}({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i})),(e=>this.volumeStatus.dispatch(e)))),bS++,100===bS&&Xc.error({error:new fc({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),Xc.event({name:"CreateAdDisplayController",probability:lc,data:{config:this.playbackParameters}}),this.desiredBitrate=t.desiredBitrate,this.videoNodeController=new vS(r,this.slotParameters.window),this.onAdEnd.add((()=>this.setVisibleNativeControls(!0))),this.onReady.add((()=>this.setVisibleNativeControls(!1)));const S=this.playbackParameters.controlsSettings;this.addDestroyHandler(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,controlsSettingsFromConfig:n,slotSize:o,skinControlsHideReasons:a,isCreativeWithOwnControls:s,vastAdControlsSettings:l,publicApiControlsSettings:d,productType:c,isBrandliftSurveyCreative:u,isNewBrandliftSurveyCreativeDesignEnabled:h}=e,p={};return En([r,o,a,s,l,d,c,u],((e,t,r,o,a,s,l,d)=>{let{width:c}=t;if("idle"===e||!(c>=140)||o)return Yp;const u={controlsVisibility:ae(r,(e=>!(e.length>0)&&void 0))};return Ua(a,n,s,u,i?{controlsVisibility:{mute:!1}}:void 0,l&&_t(l)?{controlsVisibility:{disclaimers:!1,ageLabel:!1}}:void 0,h&&d?{controlsVisibility:{skip:!1}}:void 0).controlsVisibility}),Xt((e=>{p=e,t(p)}),(e=>{for(const i of Gp)if(e[i]!==p[i])return p=e,void t(p)})))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,controlsSettingsFromConfig:S,slotSize:this.slotParameters.size,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings,productType:this.currentViewerProductType,isBrandliftSurveyCreative:this.isBrandliftSurveyCreative,isNewBrandliftSurveyCreativeDesignEnabled:"TRUE"===rc.getFlagValueAndActivateTestId("VAS_SURVEY_USE_NEW_BRANDLIFT_DESIGN")},(e=>{this.combinedSkinControlsVisibility.dispatch(e)}))),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t,nextViewer:i}=e;const r=void 0===i?this.playbackParameters.contentAfterAd:Lp;Cd(r.poster,(e=>{let{url:t}=e;Hr(t)}));const{mediaAd:n}=t;this.isCreativeWithOwnControls.dispatch(n.isCreativeWithOwnControls()),this.adSystemType.dispatch(n.getIsYandexCreative()?"yandex":"external"),this.contentAfterAdPod.dispatch(r);const o=za(n.vastAd);this.vastAdControlsSettings.dispatch(o),this.themeEmptyParameters.dispatch(Ba(n.vastAd));(La(n.vastAd)||ir(n.vastAd))&&this.disclaimerParameters.dispatch(ss(n.vastAd,this.playbackParameters.lang)),t.packshotStartLatch.subscribe((()=>{this.isPackshotPlaying.dispatch(!0)})),this.currentViewerProductType.dispatch(n.vastAd.productType),this.isBrandliftSurveyCreative.dispatch(ls(n.vastAd)),this.initCreativeType(t)})),this.onAdMediaEnd.add((()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.contentAfterAdPod.dispatch(Bp),this.vastAdControlsSettings.dispatch(void 0),this.themeEmptyParameters.dispatch(void 0),this.disclaimerParameters.dispatch(void 0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1),this.currentViewerProductType.dispatch(void 0),this.isBrandliftSurveyCreative.dispatch(!1)})),this.onAdPodStartRequest.add((e=>{const{mediaAd:t}=e,{vastAd:i}=t;this.socialAdvertising.dispatch(function(e){var t;return!0===(null==(t=e.adParametersObject)?void 0:t.socialAdvertising)}(i));const{abuseUrl:r,adParametersObject:n}=i;if(!r)return;const{adParameters:o}=n||{},a=o?Sn(o).legalInfoText:void 0;this.abuseParameters.dispatch({abuseUrl:r,legalInfoText:a})})),this.onBeforeAdStart.add((()=>{this.slotParameters.element.appendChild(this.creativesLayoutContainer),this.slotParameters.element.appendChild(this.skinContainer),this.addDestroyHandler((()=>{me(this.creativesLayoutContainer),me(this.skinContainer)}))})),this.onBeforeAdStart.addOne((()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(z("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout((()=>{const t=Date.now()-e;z("mark slow start, actual passed time=["+t+"]ms"),Xc.event({name:"AdSlowStart",probability:lc,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)}),1e3),this.onAdStart.addOne((()=>{i()})),this.addDestroyHandler((()=>{i()})),this.autoplayAbilitySignal.add((e=>{e.requireUserGesture&&this.onAdStartRejected.dispatch(void 0)})),this.autoplayAbilitySignal.add((e=>{e.requireMute&&this.videoNodeController.setMuted(!0)}))})),this.onAdMediaStart.add((e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)})),this.onAdMediaEnd.add((()=>{this.adPodBackground.dispatch(void 0)})),this.addDestroyHandler((e=>{if(this.isFinished=!0,this.playingState.dispatch("end"),Cd(this.viewersList,((t,i)=>{if("unload"===e.reason)return void t.destroy({reason:"unload",details:void 0});const r=this.adPodDestroyReasonObjects[i];void 0===r?t.destroy({reason:"destroy",details:void 0}):t.destroy(r)})),this.viewersList.length=0,this.adBlockIdentification.removeAll(),this.adVolume.removeAll(),this.volumeButtonCollapseProgress.removeAll(),this.volumeStatus.removeAll(),g.removeAll(),this.slotParameters.size.removeAll(),this.visibilitySlotParameters.visibilityRatio.removeAll(),this.visibilitySlotParameters.size.removeAll(),this.videoContentSize.removeAll(),this.timeToSkip.removeAll(),this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.adHasBeenUnmuted.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll(),this.desiredPlayStateByVisibility.removeAll(),this.adVolume.removeAll(),this.autoplayAbilitySignal.removeAll(),this.currentViewer){if(this.currentViewer.isCreativeStartRequested.getValue()){const e=this.currentViewer.mediaAd.adBreak.adType;this.onAdMediaEnd.dispatch({adType:e})}this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0}this.videoNodeController.destroy(),me(this.nativeControlsHideStyle)})),this.addDestroyHandler(En([this.vastAdControlsSettings,this.abuseParameters,this.abuseDisplayStatus],ds,(e=>this.adPodCloseState.dispatch(e)))),this.adPodCloseState.add((e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})})),this.onAdPodPlayAdMedia.add((e=>{let{viewer:t}=e;this.adPodCurrentSubtitles.dispatch([]);const i=(e=>{const{adParametersObject:t}=e;if(!u(t))return;if(!u(t.subtitles))return;const{vtt:i}=t.subtitles;return f(i)?i:void 0})(t.mediaAd.vastAd);let r;if(i)try{r=new nS(i)}catch(Kg){Xc.event({name:"SubtitleProviderInitializationError",data:{message:Kg.message},probability:lc})}Xv||t.addDestroyHandler(En([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],((e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i})),(e=>{let{remainingTime:t,duration:i,isPackshotPlaying:n}=e;const o=Math.max(0,i-t);if(n)this.adPodCurrentSubtitles.dispatch([]);else if(r){const e=r.findCuesByCurrentTime(o);this.adPodCurrentSubtitles.dispatch(e)}})))}));const{skinContainer:T,creativesLayoutContainer:E}=this.prepareContainersToAppend();this.skinContainer=T,this.creativesLayoutContainer=E,this.prepareSkin(),this.addDestroyHandler(_e((()=>{this.destroy({reason:"unload",details:void 0})}),null!=Wl?Wl:window)),this.addDestroyHandler((()=>{this.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained.dispatch(this.isLastAdPodRetainedMedia())})),this.addDestroyHandler((e=>{this.onDestroy_PUBLIC_DO_NOT_USE.dispatch(e),this.onDestroy_PUBLIC_DO_NOT_USE.removeAll()})),this.isFullscreen.dispatch(Dn(window,r)),this.addDestroyHandler(((e,t)=>{if(iS.has(t)){const i=iS.get(t);null==i||i.tasks.push(e)}else{const i=()=>{const e=iS.get(t);e&&(pe(e.tasks),e.timeoutId=window.setTimeout(i,t))};iS.set(t,{timeoutId:window.setTimeout(i,t),tasks:[e]})}return()=>{const i=iS.get(t);if(!i)return;const{timeoutId:r,tasks:n}=i,o=n.indexOf(e);-1!==o&&n.splice(o,1),0===n.length&&(window.clearTimeout(r),iS.delete(t))}})((()=>{const e=Dn(window,r);this.isFullscreen.dispatch(e)}),1e3)),this.watchDocumentVisibility(),this.onAdPodStartRequest.add((e=>{const t=e.getVideoSlotClickUrl();this.videoSlotClickUrl.dispatch(t)})),this.addDestroyHandler((()=>{this.videoSlotClickUrl.dispatch(void 0)})),this.initAdSequence()}prepareContainersToAppend(){return{skinContainer:this.slotParameters.document.createElement("div"),creativesLayoutContainer:this.slotParameters.document.createElement("div")}}async prepareToPlayAd(e){const t=this.onReady.promise(),i=this.onAdEnd.promise();this.pause(),this.showAd(e),await Promise.race([t,i.then((()=>{throw new fc({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})}))])}showAd(e){var t;const i=Date.now(),r=Bn(this.videoNode)?en(this.videoNode):void 0;if(!1===r){const e=this.slotParameters.element,t=Z_(e)?en(e):void 0;return Xc.error({error:new fc({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:t}})}),Promise.resolve()}if(!e.length)return Xc.error({error:new fc({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.playbackParameters}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&Xc.event({name:"CallShowAdMultipleTimes",probability:lc,data:void 0});const{adBreak:n,adConfig:o}=e[0];return this.adBlockIdentification.dispatch({partnerId:o.partnerId,impId:null!=(t=o.impId)?t:n.impId,adType:n.adType}),this.isFinished=!1,new Promise(((t,r)=>{this.viewersList=Sd(e,(e=>{let t;e.vastAd.trackingEvents=kt(e.vastAd.trackingEvents,this.playbackParameters.trackingEvents);const i=e.getJSMediaFile();t=!!i&&zf(i.url);const r=ja({playbackParameters:this.playbackParameters,vastAd:e.vastAd,adBreak:e.adBreak,isYandexAdCreative:t}),n=new Yf({adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:r});return n.adVideoIsBuffering.add((e=>this.adVideoIsBuffering.dispatch(e))),n.onImpression.add(this.onAdPodImpression),n.onFirstQuartile.add(this.onAdPodFirstQuartile),n.onMidpoint.add(this.onAdPodMidpoint),n.onThirdQuartile.add(this.onAdPodThirdQuartile),n.onAdInteraction.add(this.onAdInteractionWrapper),n})),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:n.adType}),this.onAdPodStart.addOne((()=>{Xc.values({name:"AdStarted",probability:lc,data:{config:this.playbackParameters},labels:{},values:{startTime:Date.now()-i},sensors:{}})})),this.startAdPlayback(n.adType).then((()=>t())).catch((e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:n.adType}),r(e)})),this.addDestroyHandler(this.subscribeInteractionHandlers())})).catch((e=>{Fr(e),Xc.errorToStats(e)})).then((()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:n.adType}),this.destroyBlur()}))}getAdPlacementOptions(){const{videoNode:e,currentViewer:t}=this;let i;t&&(i=t.mediaAd.getAdPodId());let r,n,o=0;return t&&(o=t.getBufferingTime()),t&&(r=t.mediaAd.adBreak.adType),t&&(n=Sa(t.mediaAd)),Rn({win:this.slotParameters.window,slotSize:this.slotParameters.size.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilitySlotParameters.visibilityRatio.getValue(),adPodId:i,videoNode:e,bufferingTime:o,adBreakType:r,adFormatType:n})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=cv.NORMAL),null==(r=this.currentViewer)||r.resizeAd(e,t,i)}async play(){const{currentViewer:e}=this;return e?(e.startCreative({startStrategy:this.getAutoplay()?"startPlaying":"warmupOnly"}),new Promise(((t,i)=>{e.addDestroyHandler((e=>{const r=Wa(e);r?i(r):t()}))}))):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void Xc.error({error:new fc({code:"NO_AD_POD_TO_SKIP",details:void 0})});if(this.currentViewer.isDestroyed)Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_DESTROY",details:void 0})});else if(this.currentViewer.isStarted.getValue()){if(!this.isFinished)return this.currentViewer.getAdSkippableState()?void this.currentViewer.skipAd():((this.getCurrentViewerSkipDelay()||this.timeToSkip.getValue()>0)&&Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})}),void Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD_POD",details:void 0})}));Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_POD_AFTER_FINISH",details:void 0})})}else Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_POD_BEFORE_START",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:r}=e;const{abuseUrl:n}=this.abuseParameters.getValue();n||Xc.error({error:new fc({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})});Ea({eventName:"close",trackingEventDetails:void 0,trackingUrls:[w(n,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(r),pixelsSource:"adParameters"})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdWidth())?e:0}getAdHeight(){var e,t;return null!=(e=null==(t=this.currentViewer)?void 0:t.getAdHeight())?e:0}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}getCurrentViewerSkipDelay(){return this.currentViewer?this.currentViewer.adPodViewerPlaybackParams.skipDelay:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!=(e=null==t?void 0:t.mediaAd.getDuration())?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Cd(this.viewersList,(t=>{const i=t.getDuration();i>0&&(e+=i)})),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewersWithVideoCountBeforeCurrent(){let e=0;if(this.currentViewer)for(let t=0;t<this.viewersList.length;t++){const i=this.viewersList[t];if(i===this.currentViewer)break;i.mediaAd.getIsIndependentOnVideoElement()||e++}return e}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.slotParameters.element.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(((e,t,i,r)=>{const n=e[t];let o=n;return i?o=cc(n,(e=>e!==r)):i||M(n,r)||(o=[...n],o.push(r)),hs({},e,{[t]:o})})(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!u(e)&&!1!==e&&void 0!==e){const t=new fc({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw Xc.error({error:t}),R("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=u(e)?ps({},t,{controlsVisibility:ps({},t.controlsVisibility,e)}):ps({},t,{visibility:e}),Xc.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:lc}),z("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return Sh(this.adPodDestroyReasonObjects,(e=>{let{reason:t}=e;return"complete"===t}))}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(!0===this.pausedByVisibilityRatio.getValue())return z("autoplay=false due to paused state by visibility"),!1;if(this.getViewersWithVideoCountBeforeCurrent()>0)return z("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return z("autoplay=false due to requireUserGesture"),!1;const e=this.playingState.getValue();if("idle"!==e){const t="pause"!==e;return z("autoplay=["+t+"] due to playingStateValue"),t}return z("autoplay=true due to default"),!0}setVisibleNativeControls(e){e?me(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=ra(this.slotParameters.element,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle))}closeAbuseScreen(){var e;this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==(null==(e=this.adBlockIdentification.getValue())?void 0:e.adType)&&this.resume(),this.abuseDisplayStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=Ae;this.addDestroyHandler((()=>t())),this.addDestroyHandler(this.adPodBackground.add((i=>{u(i)&&f(i.color)?t=Jr(e,{backgroundColor:i.color}):t()})))}initBackground(e){let{backgroundSlot:t}=this.playbackParameters;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!Bn(e))return;const{parentElement:t}=e;if(t)return t;Xc.error({error:new fc({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void z("BackgroundBlur container cannot be created");this.initBackgroundColor(t);if(!eu(e,(e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background})))return;if(z("BackgroundBlur is presented in AdBreak"),!Qf)return void z("BackgroundBlur is NOT supported");const r=new eS({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{r.destroy()},Xc.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:lc}),this.addDestroyHandler(En([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotParameters.size],((e,t,r,n)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const o=n.width/n.height,a=r.width/r.height-o;return Math.abs(a)>.1}),(e=>{r.setPlaying(e)}))),this.addDestroyHandler((()=>null==r?void 0:r.destroy()))}playAdMedia(e){let{viewer:t,viewerIndex:i,nextViewer:r,destroyCallback:n}=e;this.currentViewer=t,this.onAdPodStartRequest.dispatch(t),t.trackOnCreativeInit();let o=NaN;t.playingState.subscribeValueConditionOnce((e=>"play"===e),(()=>{o=Date.now()})),this.adContentSize.dispatch(t.mediaAd.getAdContentDimensions()),t.isStarted.addOne((()=>{this.adContentSize.dispatch(t.getAdContentSize())})),t.addDestroyHandler((()=>{this.adContentSize.dispatch(void 0)})),t.isStarted.add((()=>{isNaN(o)?Xc.error({error:new fc({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Xc.values({name:"AdPodStart",probability:lc,values:{startTime:Date.now()-o},data:{src:t.getScriptSrc(),config:this.playbackParameters,playRequestTime:String(o),adPodId:t.mediaAd.getAdPodId(),position:t.mediaAd.vastAd.parseIndex,bidreqid:t.mediaAd.vastAd.bidreqid,campaignid:t.mediaAd.vastAd.campaignid,pageId:t.mediaAd.vastAd.pageId,impId:t.mediaAd.vastAd.impId,vmapRequestId:t.mediaAd.vastAd.vmapRequestId},labels:{},sensors:{}})})),this.onAdPodPlayAdMedia.dispatch({viewer:t,viewerIndex:i,nextViewer:r});const a=t.playingState.getValue();"idle"!==a&&Xc.error({error:new fc({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:a}})}),t.playingState.subscribeValueCondition((e=>"end"!==e),(e=>{this.currentViewer===t?this.playingState.dispatch(e):Xc.error({error:new fc({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:e}})})})),t.addDestroyHandler((e=>{const i=Wa(e);i&&(this.trackError(i),Xc.error({error:i}),Fr("AdPod playing error",i),this.onAdPodError.dispatch({error:i,adPodId:t.mediaAd.getAdPodId()})),this.currentViewer=void 0,n(e)})),this.onAdPodComplete.add((()=>{t.isDestroyed||(t.destroy({reason:"destroy",details:void 0}),Xc.error({error:new fc({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:t.getScriptSrc()}})}))})),t.startCreative({startStrategy:this.getAutoplay()?"startPlaying":"warmupOnly"})}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=Bn(t);if(i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),r={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},n=oS(e),{parentElement:o}=e;return A((()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),n(),at(e,r),o&&o!==e.parentElement&&Xc.error({error:new fc({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})}))}(t);this.onBeforeDestroy.addOne((t=>{let{reason:i}=t;"unload"!==i&&e()}));const i=Ka(t);this.onBeforeDestroy.addOne(i);const r=function(e){if(!Bn(e))return Ae;const t=e.getAttribute("src")||e.src||null,i=Sd(h(e.getElementsByTagName("source")),(e=>({src:e.getAttribute("src"),type:e.getAttribute("type")})));return A((()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Cd(i,(t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),_(t,((e,t)=>{i.setAttribute(t,String(e))}))})),ts(e,(()=>{e.load()}))}))}(t);this.onBeforeDestroy.addOne((e=>{let{reason:t}=e;this.isLastAdPodRetainedMedia()||"unload"!==t&&r()})),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add((()=>{oS(t)})))}let r;const n=Sh(this.viewersList,(e=>e.mediaAd.getIsIndependentOnVideoElement())),{videoSlotCanAutoPlay:o}=this.playbackParameters;this.videoNode;if(n?(z("autoplayAbility=positive for independentOnVideoElement ad"),r=Wv):"boolean"===typeof o?(z("autoplayAbility=["+o+"] due to videoSlotCanAutoPlay"),r=o?Wv:jv):i?(z("start autoplay ability request"),r=await this.requestAutoplayAbility(),z("autoplayAbility=["+JSON.stringify(r)+"]")):(z("autoplayAbility=positive for fake video element"),r=Wv),this.isFinished)throw new fc({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(r);const a=A((()=>{this.onReady.dispatch(void 0)})),s=A((()=>{this.onAdStart.dispatch({adType:e})}));return Cd(this.viewersList,((t,i)=>{t.addDestroyHandler((t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)})),t.onReady.addOne(a),t.isStarted.addOne(s),t.isStarted.add((()=>{this.onAdPodStart.dispatch(void 0)})),t.onPause.add((()=>{this.onAdPodPause.dispatch(void 0)})),t.onResume.add((()=>{this.onAdPodResume.dispatch(void 0)})),t.onVolumeChange.add((()=>{this.adVolume.dispatch(t.getVolume())})),t.isStarted.addOne((()=>{this.adVolume.dispatch(t.getVolume())}));const{skipDelay:r}=t.adPodViewerPlaybackParams;var n;t.isStarted.addOne((()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration()),this.updateTimeToSkip(t,r,i)})),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:r,playingState:n,isStarted:o,isBuffering:a,callback:s}=e;const l=new Dg,d=new Wh(-1);return l.subscribe((()=>d.removeAll)),o.addOne((()=>{const e=new Ky({win:t,duration:i.getValue()*im,callback:e=>{const t=W(e,0,1);s(t)},onFinish:Ae});d.add((t=>{j(t)&&e.adjustPosition(t)})),l.subscribe((()=>{e.stop()})),l.subscribe(En([r,i],((e,t)=>j(e)&&Ee(t)?(t-e)/t:-1),(e=>{d.dispatch(e)}))),l.subscribe(En([d,n,a],((e,t,i)=>j(e)&&"play"===t&&!i),(t=>{t?e.start():e.stop()})))})),()=>{l.dispatch(void 0)}}({win:this.slotParameters.window,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add((()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add((()=>{this.adMediaState.dispatch({name:"stalled"})}))),t.addDestroyHandler(this.videoNodeController.playingState.add((e=>{e===Yv.PLAY&&this.adMediaState.dispatch({name:"playing"})})))})),t.addDestroyHandler((()=>{this.adMediaState.dispatch({name:"idle"})})),t.addDestroyHandler((()=>{this.adPodRemainingTime.dispatch(-2),this.skinAnimationProgress.dispatch(0)})),t.playbackPosition.add((e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)})),t.onClickThrough.add((e=>this.onClickThrough.dispatch(e))),!(n=t).isVpaidAdPodViewer()||n.mediaAd.vastAd.imhoParams||n.mediaAd.getIsYandexCreative()||Ti(n.mediaAd.vastAd)?t.isStarted.addOne((()=>{t.playbackPosition.add((()=>{this.updateTimeToSkip(t,r,i)}))})):t.onAdSkippableStateChange.add((e=>{this.timeToSkipComputed.dispatch(e?0:qf)}))})),new Promise((t=>{this.playAdViewers(e,(()=>{t([])}))}))}playAdViewers(e,t){this.adPodDestroyReasonObjects=[];const i=Sd(this.viewersList,((t,i)=>{const r=this.viewersList[i+1];return n=>{if(this.timeToSkipComputed.dispatch(qf),this.timeToSkipAdCreative.dispatch(void 0),this.isFinished){const e=new fc({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),n()}const o=this.getAdPodContainerSizeError(t);if(o)return t.mediaAd.trackError(o),this.onAdPodError.dispatch({error:o,adPodId:t.mediaAd.getAdPodId()}),this.adPodDestroyReasonObjects.push({reason:"error",details:o}),R('You are using unplayable "slot" sizes, check passed element dimensions.'),n();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Fa(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia({viewer:t,viewerIndex:i,nextViewer:r,destroyCallback:t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),n()}})}}));let r=-1;!function e(){r++;const n=i[r];void 0===n?t():n(e)}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const{size:t,element:i}=this.visibilitySlotParameters,r=t.getValue();if(Cn(r,U_))return;const n=i.getBoundingClientRect();if(Cn(n,U_))return;const o=0===r.width||0===r.height,a="none"===Ln(i).display;let s;return s=o?a?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new fc({code:s,details:{adPodId:e.mediaAd.getAdPodId(),slotSize:{width:n.width,height:n.height},config:this.playbackParameters,adConfig:e.mediaAd.adConfig,usesVisibilitySlot:Boolean(this.visibilitySlotParameters)}})}async requestAutoplayAbility(){te(this.slotParameters.window)&&!this.videoNode.hasAttribute("playsinline")&&(Xc.event({name:"NoPlaysinlineOnVideoTagInTouchScreenDeviceForRAA",probability:lc,data:void 0}),R('Attribute "playsinline" is NOT set on the <video/> element, this may cause the inability to autoplay'));const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=mn(e),n=new Gv(e,{checkSoundEnabled:i,promise:r});return{promise:n.promise,stop:n.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});this.addDestroyHandler(i);let r=!1;return new Promise((n=>{t.then((t=>{r=!0,Xc.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},sensors:{},data:{config:this.playbackParameters,autoplayAbility:t},labels:{},probability:lc}),n(t)})).catch((e=>{r=!0,this.isFinished||Xc.error({error:new fc({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:{error:e}})})})),"idle"===this.playingState.getValue()&&this.playingState.addOne((e=>{r||(z("RAA stopped by playingState=["+e+"]"),i(),n(Wv))}))}))}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:e,details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){t[r].trackVastEvent(e,void 0)}this.stop()}startVolumeButtonProgress(){(e=>{let{win:t,callback:i,addDestroyHandler:r}=e;const n=new Ky({win:t,duration:250,callback:e=>{const t=W(e,0,1);i(t),1===t&&n.stop()},onFinish:Ae});r((()=>n.stop())),n.start()})({win:this.slotParameters.window,callback:e=>{this.volumeButtonCollapseProgress.dispatch(e)},addDestroyHandler:e=>this.addDestroyHandler(e)})}isNeedToShowVolumeButtonText(){return"DISABLE"!==Kv&&"small"!==Xa(this.slotParameters.size.getValue())}updateTimeToSkip(e,t,i){const r=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return qf;if(r>i-2)return qf;if(!j(t))return qf;const n=i-t;return r<=n?0:r-n}({remainingTime:e.getAdRemainingTime(),duration:e.getDuration(),skipDelay:t});this.timeToSkipComputed.dispatch(r)}watchDocumentVisibility(){const e=this.visibilitySlotParameters.element.ownerDocument;this.documentVisibility.dispatch(ue(e)),this.addDestroyHandler(Wn(e,(e=>this.documentVisibility.dispatch(e)))),this.addDestroyHandler((()=>{this.documentVisibility.removeAll()}))}initAdSequence(){const{adSequence:e}=this.playbackParameters;e?this.displayAdSequence.dispatch(e):this.addDestroyHandler(En([this.playingAdPodIndex,this.adPodsCount],((e,t)=>({index:e,count:t})),this.displayAdSequence.dispatch.bind(this.displayAdSequence)))}initCreativeType(e){const{mediaAd:t}=e,i=Sa(t);let r;"survey"===i?r="survey":cs(i,e.getVideoSlotClickUrl())?r="fullyClickable":La(t.vastAd)&&(r="themeEmpty"),this.creativeType.dispatch(r)}}class OS extends Yc{constructor(e){var t;let{videoSlot:i,slot:r,mediaAds:n,playbackParameters:o,skinParameters:a}=e;super(),this.pauseAd=this.createPlaybackMethod("pauseAd",(()=>{z("[AdPlaybackController]: method pauseAd() is called"),this.adDisplayController.pause()})),this.resumeAd=this.createPlaybackMethod("resumeAd",(()=>{z("[AdPlaybackController]: method resumeAd() is called"),this.adDisplayController.resume()})),this.isPlayAdCalled=new Dg,this.getPublicInstance=()=>({playAd:this.playAd,warmupAd:this.warmupAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility}),this.getAdMediaState=()=>this.adDisplayController.adMediaState.getValue(),this.getAdContentSize=()=>this.adDisplayController.adContentSize.getValue(),this.setControlsVisibility=e=>this.adDisplayController.setPublicApiControlsSettings(e),this.getMediaElementStatusAfterAdStopped=()=>{if(this.isDestroyed)return{lastMediaRetained:Boolean(this.adDisplayController.lastMediaRetained.getValue())}},this.playAd=()=>{if(z("[AdPlaybackController]: method playAd() is called"),this.isPlayAdCalled.getDispatched()){De(new fc({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled.dispatch(void 0),this.adDisplayController.showAd(this.mediaAds).then((()=>{this.destroy("adComplete")})).catch(q)},this.warmupAd=()=>{this.playAd(),this.pauseAd()},this.stopAd=()=>{z("[AdPlaybackController]: method stopAd() is called"),this.destroy("stopAd")},this.getAdPlayingState=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle",this.getAdSkippableState=()=>this.adDisplayController.adSkippableState.getValue(),this.getAdPodTimeToSkip=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?qf:this.adDisplayController.timeToSkip.getValue(),this.getAdPodCloseState=()=>this.adDisplayController.adPodCloseState.getValue(),this.getAdPodAdTuneState=()=>this.adDisplayController.adTuneState.getValue(),this.getAdVolume=()=>!this.isPlayAdCalled.getDispatched()||this.isDestroyed?0:this.adDisplayController.getVolume(),this.setAdVolume=e=>{this.isPlayAdCalled.getDispatched()&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))},this.getAdVolumeAvailabilityState=()=>!(!this.isPlayAdCalled.getDispatched()||this.isDestroyed)&&this.adDisplayController.getAdVolumeAvailability(),this.getAdRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdRemainingTime():this.getAdDuration(),this.getAdPodRemainingTime=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration(),this.getAdDuration=()=>this.isPlayAdCalled.getDispatched()?this.adDisplayController.getDuration():As(this.mediaAds),this.getAdPodDuration=()=>{var e;if(this.isPlayAdCalled.getDispatched())return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds;return null!=(e=null==t?void 0:t.getDuration())?e:0},this.skipAd=()=>{if(this.getAdSkippableState())this.adDisplayController.skipAllViewers();else if(this.isDestroyed)Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_AFTER_DESTROY",details:void 0})});else if(this.isPlayAdCalled){if(this.adDisplayController.getCurrentViewerSkipDelay()||this.getAdPodTimeToSkip()>0)return void Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_BEFORE_SKIPPABLE_STATE_CHANGE",details:void 0})});Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_NON_SKIPPABLE_AD",details:void 0})})}else Xc.error({error:new fc({code:"ATTEMPT_TO_SKIP_AD_BEFORE_START",details:void 0})})},this.getCurrentViewerAssets=()=>this.adDisplayController.getCurrentViewerAssets(),this.subscribe=(e,t)=>{if("function"!==typeof t)return Ae;const i=i=>{try{t(i)}catch(hw){Xc.error({error:new fc({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),q(hw)}},r=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(r);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(r);case"AdStartRequest":return this.isPlayAdCalled.getDispatched()?Ae:this.isPlayAdCalled.subscribe(r);case"AdStarted":return this.adDisplayController.onAdStart.add(r);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(r);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(r);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(r);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(r);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(r);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(r);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add((()=>{i({})}));case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(r);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(r);case"AdClickThru":return this.adDisplayController.onClickThrough.add(r);case"AdPodError":return this.adDisplayController.onAdPodError.add((e=>{let t,{error:r,adPodId:n}=e;"string"===typeof r.code?t=r.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",Xc.error({error:new fc({code:t,details:{error:r,adPodId:n}})})),i({code:t,adPodId:n})}));case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(r);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(r);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(r);case"AllAdPodVideoComplete":return this.adDisplayController.onAllAdPodComplete.add(r);case"AdStopped":return this.adDisplayController.onDestroy_PUBLIC_DO_NOT_USE.add((e=>{let{reason:t}=e;"unload"!==t&&r()}));case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add((e=>{i({skippableState:e})}));case"AdVolumeChange":return this.adDisplayController.adVolume.add((()=>{i({})}));case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add((()=>{i({})}));case"AdPlayingStateChange":return this.adDisplayController.playingState.add((e=>{i({playingState:e})}));case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(r);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(r);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(r);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(r);default:return Ae}},this.videoSlot=i,this.slot=r,this.mediaAds=n,this.playbackParameters=o;const s=new F_(r);this.addDestroyHandler((()=>{s.destroy()}));const l=null!=(t=o.visibilitySlot)?t:r,d=new sg(l,{numberOfMeasurementSteps:10,enableTrackVisibility:false});this.addDestroyHandler((()=>{d.destroy(void 0)}));const c={element:r,size:s.onResize,visibilityRatio:d.totalVisibilityRatioValueSignal};this.adDisplayController=new CS({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,skinParameters:a,visibilitySlotParameters:c,retainLastMediaAfterPlayback:this.playbackParameters.retainLastMediaAfterPlayback}),this.addDestroyHandler((e=>{this.adDisplayController.destroy({reason:e,details:void 0})})),this.addDestroyHandler(_e((()=>{this.destroy("unload")}),null!=Wl?Wl:window))}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled.getDispatched()&&!this.isDestroyed)t();else{De(new fc({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}var wS=e(5676),PS=e.n(wS);const IS=e=>{var t;na(PS());const{children:i,onSplitResult:r,fontStyle:n}=e,o=i,[a,s]=Ho([]),l={"--stw-text-lines-count":a.length,"--stw-font":n},d=Wo(null),{width:c}=null!=(t=function(e){const[t,i]=Ho(void 0);return jo((()=>{if(!e.current)return;const t=new F_(e.current);return t.onResize.add((e=>i(e))),i(t.getSize()),()=>t.destroy()}),[e.current]),t}(d))?t:{};return zo((()=>{if(void 0===c||void 0===i||0===i.length)return;const e=d.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const a=(e=>{const t=new jh,{canvas:i,text:r,context:n,fontStyle:o}=e;t.addOne(Jr(i,{font:o}));const a=n.font;t.addOne((()=>{n.font=a})),n.font=o;const s=n.measureText(" ").width,l=i.offsetWidth,d=r.split(" "),c=[];let u=[],h="",p=0;for(let A=0;A<d.length;A++){const e=d[A],t=n.measureText(e).width;if(t>l){c.length=0;break}const i=h.length>0?" ":"",r=h+i+e,o=p+(i?s:0)+t;o>=l?(c.push(u),u=[],u.push(e),h=e,p=t,A===d.length-1&&c.push(u)):(u.push(e),h=r,p=o,A===d.length-1&&c.push(u))}return t.dispatch(void 0),c.length?c:void 0})({canvas:e,context:t,text:o,mode:"lines",fontStyle:n});a&&(null==r||r(a),s(a))}),[d,c,undefined,o,n]),_o("div",{style:l,className:wS.locals.SplitTextLinesWrapper__container},_o("div",{className:wS.locals.SplitTextLinesWrapper__lines},Sd(a,((e,t)=>{const i=t===a.length-1,r=e.join("");let n=0;const o=r.length,s={"--stw-text-line-length":o,"--stw-text-line-words-count":e.length,"--stw-text-line-index":t};return _o(yo,{key:r},_o("div",{className:wS.locals.SplitTextLinesWrapper__textLine,style:s},Sd(e,((t,i)=>{const r=i===e.length-1?"":"\xa0";return _o("span",{key:""+t+i,className:wS.locals.SplitTextLinesWrapper__word,style:{"--stw-text-word-index":i}},Sd(t.split(""),((e,t)=>{const i=e+"-"+t,r=Math.round(100*n/o),a=W(Math.floor(r/30),0,2),s={"--stw-text-char-inside-word-index":t,"--stw-text-char-inside-line-index":n,"--stw-text-char-inside-line-percent":r,"--stw-text-char-inside-line-third":a};return n+=1,_o("span",{key:i,className:wS.locals.SplitTextLinesWrapper__char,style:s},e)})),r)}))),!i&&_o("br",null))}))),_o("canvas",{className:wS.locals.SplitTextLinesWrapper__canvas,ref:d}))},DS=Uo({});DS.Provider.displayName="ControlsVisibilityContext";const NS=()=>Xo(DS),RS=Uo({isPackshotPlaying:!1});RS.Provider.displayName="SkinPackshotContext";const kS=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:ia(t)}},VS=()=>Xo(RS);var LS=e(2935),BS=e.n(LS);const MS=Uo(0);MS.Provider.displayName="AdAnimationProgressContext";const xS=e=>{let{skinAnimationProgress:t}=e;return ia(t)},US=()=>Xo(MS),FS=Uo(NaN);FS.Provider.displayName="AdDurationContext";const HS=e=>{let{adDisplayController:t}=e;return ia(t.adPodDuration)},zS=()=>Xo(FS),jS=Uo({playingState:"idle",play:Ae,pause:Ae,isStarted:!1,isSlowStart:!1});jS.Provider.displayName="PlayingStateContext";const WS=e=>{let{adDisplayController:t}=e;const[i,r]=Ho(!1),n=ia(t.playingState),o=ia(t.adSlowStart);zo((()=>{const e=t.onAdStart.addOne((()=>{r(!0)}));return()=>{e()}}),[]);return{playingState:n,play:()=>{t.resume()},pause:()=>{t.pause()},isStarted:i,isSlowStart:o}},GS=()=>Xo(jS),YS=(e,t)=>{const{bodyAnimationEnlargementDelay:i,bodyAnimationEnlargementDuration:r,bodyAnimationShowDelay:n,bodyAnimationShowDuration:o,showLineDelay:a}=t,{titleAnimationHideDelay:s,titleAnimationHideDuration:l,titleAnimationEnlargementNextLineDelay:d,titleSinglePartDuration:c,titleAnimationEnlargementDelay:u,titleAnimationEnlargementDuration:h,titleAnimationShowDelay:p}=e;return{"--ctat-animation-body-animation-enlargement-delay":i+"ms","--ctat-animation-body-animation-enlargement-duration":r+"ms","--ctat-animation-body-animation-show-delay":n+"ms","--ctat-animation-body-animation-show-duration":o+"ms","--ctat-animation-body-animation-show-line-delay":a+"ms","--ctat-animation-title-animation-show-delay":p+"ms","--ctat-animation-title-animation-enlargement-delay":u+"ms","--ctat-animation-title-animation-enlargement-duration":h+"ms","--ctat-animation-title-animation-hide-delay":s+"ms","--ctat-animation-title-animation-hide-duration":l+"ms","--ctat-animation-title-enlargement-next-line-delay":d+"ms","--ctat-animation-title-part-duration":c+"ms"}},XS=()=>{na(BS());const{isPackshotPlaying:e}=VS(),{themeEmptyParameters:t,clickThrough:i,shouldShowTitleAndBody:r}=Pf(),{title:n,body:o,clickUrl:a,targetUrl:s}=null!=t?t:{},l=NS(),d=!1!==l.title,c=!1!==l.body,u=!1!==l.actionButton,[h,p]=Ho(void 0),[A,m]=Ho(void 0),v=Wo(null),_=Wo(null),g=()=>{i({url:a})},{isReadyToAnimate:y,containerStyle:f,titleFontStyle:S,bodyFontStyle:T}=_s(h,A,v,_,u);return"TRUE"===rc.getFlagValueAndActivateTestId("VAS_NEW_CALL_TO_ACTION_TEXT")&&CSS&&CSS.supports("animation-delay","var(--time)")&&r()&&!e?_o("div",{className:LS.locals.CallToActionTextContainer},_o("div",{className:ta(LS.locals.CallToActionText,{[LS.locals.CallToActionText__animated]:y}),style:f},_o("div",{className:LS.locals.CallToActionText__overlay},d&&n&&_o("div",{className:LS.locals.CallToActionText__title,ref:v},_o(Jy,{url:s,onClick:g,pointerEvents:"none"},_o(IS,{fontStyle:S,onSplitResult:e=>p(e)},n))),c&&o&&_o("div",{className:LS.locals.CallToActionText__body,ref:_},_o(Jy,{url:s,onClick:g,pointerEvents:"none"},_o(IS,{fontStyle:T,onSplitResult:e=>m(e)},o)))))):null},KS="TRUE"===pA("VAS_ADVERTISER_INFO_LINK")||void 0,qS=Uo({isAbuseSupported:!1,abuseButtonClickHandler:Ae,abuseDisplayStatus:"hidden",abuseScreenCloseHandler:Ae,abuseVariantChooseHandler:Ae,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:Ae,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:Ae,isAbuseSubmitted:!1,setAbuseSubmitted:Ae,abuseSubmitType:void 0,setAbuseSubmitType:Ae,previousDisplayType:"default",setPreviousDisplayType:Ae,destroyCurrentViewer:Ae,abuseScaleRate:void 0,setAbuseScaleRate:Ae,legalInfoText:void 0,onAbuseCopyLinkToClipboardClick:Ae,resetAbuseVisualState:Ae,abusePlaceholderHint:"",abusePlaceholderText:""});qS.Provider.displayName="AbuseContext";const QS=e=>{let{adDisplayController:t}=e;const i=ia(t.pauseByOpenAbuseScreen),r=ia(t.abuseDisplayStatus),{abuseParameters:n,playingState:o}=t,{abuseUrl:a,legalInfoText:s}=ia(n),l=function(e){void 0===e&&(e="");const t=ic.VAS_UAAS_CONFIG.isInternalNetwork;if(KS||t)return r_+e.slice(e.lastIndexOf("/"))}(a),[d,c]=Ho(""),[u,h]=Ho("default"),[p,A]=Ho(!1),[m,v]=Ho(undefined),[_,g]=Ho("default"),[y,f]=Ho(undefined);zo((()=>{"play"===o.getValue()&&"hidden"!==r&&t.handleAbuseScreenCloseByResumeError()}),[r,o]);const S=(e=>{var t;const i=null==(t=ia(e.themeEmptyParameters))?void 0:t.clickUrl;return i&&w(i,{[du]:nc,[lu]:oc,[cu]:e.getAdPlacementOptions().adPodId})})(t),T=S?()=>{t.onAbuseCopyLinkToClipboardClick(S)}:void 0,E=Yo((()=>{A(!1),v(void 0),h("default")}),[A,v,h]),b=pf();let C="",O="";switch(m){case"complaint":C=b("ABUSE_PLACEHOLDER_TEXT_COMPLAINT"),O=b("ABUSE_PLACEHOLDER_HINT_COMPLAINT");break;case"hide":C=b("ABUSE_PLACEHOLDER_TEXT_HIDE"),O=b("ABUSE_PLACEHOLDER_HINT_HIDE")}return{isAbuseSupported:Boolean(a),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseDisplayStatus:r,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,onAbuseCopyLinkToClipboardClick:T,abuseCustomReasonText:d,abuseCustomReasonTextHandler:c,abuseActiveDisplayType:u,setAbuseActiveDisplayType:h,resetAbuseVisualState:E,abuseSubmitType:m,setAbuseSubmitType:v,isAbuseSubmitted:p,setAbuseSubmitted:A,previousDisplayType:_,setPreviousDisplayType:g,abuseScaleRate:y,setAbuseScaleRate:f,legalInfoText:s,abusePlaceholderHint:O,abusePlaceholderText:C,advertiserInfoUrl:l}},JS=()=>Xo(qS),ZS=Uo({socialAdvertising:!1});ZS.Provider.displayName="SocialAdvertisingContext";const $S=e=>{let{adDisplayController:t}=e;return{socialAdvertising:ia(t.socialAdvertising)}},eT=()=>Xo(ZS);var tT=e(8866),iT=e.n(tT);const rT=e=>{let{isActive:t}=e;return na(iT()),_o("svg",{className:ta(tT.locals.AbuseAnimationIcon,{[tT.locals.AbuseAnimationIcon_cross]:t}),width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},_o("g",{className:tT.locals.AbuseAnimationIcon__lines},_o("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:ta(tT.locals.AbuseAnimationIcon__line,tT.locals.AbuseAnimationIcon__line_left)}),_o("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:ta(tT.locals.AbuseAnimationIcon__line,tT.locals.AbuseAnimationIcon__line_right)})),_o("g",null,_o("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),_o("g",null,_o("circle",{class:ta(tT.locals.AbuseAnimationIcon__dot,tT.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),_o("circle",{class:tT.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),_o("circle",{class:ta(tT.locals.AbuseAnimationIcon__dot,tT.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))};var nT=e(2013),oT=e.n(nT);const aT=e=>{let{isActive:t}=e;na(oT());const i=ta(nT.locals.AbuseNoAnimationIcon__dots,{[nT.locals.AbuseNoAnimationIcon__dots_Hidden]:t}),r=ta(nT.locals.AbuseNoAnimationIcon__lines,{[nT.locals.AbuseNoAnimationIcon__lines_Hidden]:!t});return _o("svg",{width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",className:nT.locals.AbuseNoAnimationIcon},_o("rect",{className:nT.locals.AbuseNoAnimationIcon__circle,width:"24",height:"24",rx:"12"}),_o("g",{className:r},_o("path",{d:"M 7 7 L 17 17","stroke-width":"2","stroke-linecap":"round",stroke:"#fff"}),_o("path",{d:"M 7 17 L 17 7","stroke-width":"2","stroke-linecap":"round",stroke:"#fff"})),_o("g",{className:i},_o("g",null,_o("circle",{fill:"#fff",cx:"12",cy:"6",r:"1.5"}),_o("circle",{cx:"12",cy:"12",r:"1.5"}),_o("circle",{fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))},sT=e=>{let{width:t,height:i}=e;return t<=240||i<=280};var lT=e(8971),dT=e.n(lT);const cT=e=>{let{onClickHandler:t,isActive:i}=e;na(dT());const r=sT(py());return _o("div",{onClick:t,className:ta(lT.locals.AbuseBurgerButton,{[lT.locals.AbuseBurgerButton_inFullSize]:r})},_o(LA?aT:rT,{isActive:i}))};var uT=e(2020),hT=e.n(uT);const pT=e=>{let{children:t,isActive:i=!0,url:r,onClick:n,className:o,buttonClassName:a,contentClassName:s}=e;na(hT());const l=ta(uT.locals.Button,o,{[uT.locals.Button_active]:i,[uT.locals.Button_link]:Boolean(r)}),d=_o("div",{className:uT.locals.Button__clickable},_o("div",{className:a},_o("div",{className:ta(uT.locals.Button__content,s)},t)));return r?_o("a",{className:l,href:r,target:"_blank",onClick:n},d):_o("div",{className:l,onClick:n},d)};var AT=e(2645),mT=e.n(AT);const vT=e=>{let{icon:t,className:i}=e;return t?_o("div",{className:i},t):null},_T=e=>{let{buttonText:t,leftIcon:i,rightIcon:r,onClick:n,url:o}=e;na(mT());const a=Yo((()=>{n&&n()}),[n]);return _o(pT,{className:AT.locals.AbuseOptionButton,url:o,buttonClassName:AT.locals.AbuseOptionButton__clickable,contentClassName:AT.locals.AbuseOptionButton__content,onClick:a},_o(vT,{icon:i,className:AT.locals.AbuseOptionButton__leftIcon}),t,_o(vT,{icon:r,className:AT.locals.AbuseOptionButton__rightIcon}))},gT=e=>{let{className:t}=e;return _o(gs,{className:t})},yT=e=>{let{className:t}=e;return _o(ys,{className:t})},fT=e=>"anotherReasonAd"===e?_o(gT,null):"about"===e||"advertiserInfo"===e?_o(yT,null):void 0;var ST=e(7486),TT=e.n(ST);const ET=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=pf();return _o("div",{className:ST.locals.AbuseDisplay__complaintDisplay},_o("div",{className:ST.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Sd(D(t),(e=>_o(_T,{key:e,onClick:i[e],rightIcon:fT(e),buttonText:t[e]}))))},bT=e=>{let{className:t}=e;return _o(fs,{className:t})},CT=e=>{let{className:t}=e;return _o(Ss,{className:t})},OT=e=>{let{className:t}=e;return _o(Ts,{className:t})},wT=e=>{let{className:t}=e;return _o(Es,{className:t})},PT=e=>{let{className:t}=e;return _o(bs,{className:t})},IT=e=>{switch(e){case"hide":return _o(OT,null);case"complaint":return _o(CT,null);case"about":return _o(PT,null);case"advertiserInfo":return _o(wT,null);default:return}},DT=e=>{let{buttonTexts:t,onClickHandlers:i,legalInfoText:r,isVisibleAbuse:n}=e;const{onAbuseCopyLinkToClipboardClick:o,advertiserInfoUrl:a}=JS(),s=pf(),[l,d]=Ho(!1);return zo((()=>{n||d(!1)}),[n]),_o("div",null,r&&_o("div",{className:ST.locals.AbuseDisplay__legal},r),Sd(D(t),(e=>{let r;switch(e){case"advertiserInfo":if(!a)return null;r=a;break;case"about":r=i_;break;default:r=void 0}return _o(_T,{key:e,url:r,onClick:i[e],leftIcon:IT(e),rightIcon:fT(e),buttonText:t[e]})})),o&&_o(_T,{key:"copy",onClick:()=>{o&&(o(),d(!0))},buttonText:s(l?"ABUSE_COPIED":"ABUSE_COPY_TEXT"),leftIcon:_o(bT,null)}))},NT=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const r=pf();return _o("div",{className:ST.locals.AbuseDisplay__hideDisplay},_o("div",{className:ST.locals.AbuseDisplay__text},r("ABUSE_IMPROVE_REASON_TEXT")),Sd(D(t),(e=>_o(_T,{key:e,onClick:i[e],rightIcon:fT(e),buttonText:t[e]}))))},RT=e=>{let{className:t}=e;return _o(Cs,{className:t})},kT=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:r,abuseCustomReasonTextHandler:n,setAbuseActiveDisplayType:o}=JS(),a=pf(),s=Yo((()=>{o(t)}),[t]);return _o("div",{className:ST.locals.AbuseDisplay__customReasonDisplay},_o("div",{className:ST.locals.AbuseDisplay__customReasonDisplayHeader},_o("div",{className:ST.locals.AbuseDisplay__arrowLeftIcon,onClick:s},_o(RT,null)),_o("div",{className:ST.locals.AbuseDisplay__hint},a("ABUSE_OPTION_ANOTHER_REASON"))),_o("div",{className:ST.locals.AbuseDisplay__messageBox},_o("textarea",{className:ST.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:a("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onInput:e=>{const t=e.currentTarget.value;t&&n(t)},value:r}),_o(pT,{className:ST.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:ST.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:r})},a("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},VT=e=>{let{isVisibleAbuse:t,socialAdvertising:i}=e;na(TT());const{abuseVariantChooseHandler:r,abuseActiveDisplayType:n,setAbuseActiveDisplayType:o,isAbuseSubmitted:a,setAbuseSubmitted:s,setAbuseSubmitType:l,previousDisplayType:d,destroyCurrentViewer:c,setPreviousDisplayType:u,legalInfoText:h,resetAbuseVisualState:p}=JS(),A=py(),m=sT(A),[v,_]=Ho(null),g={current:null};zo((()=>{!t&&a&&(p(),c())}),[a,t,p]),zo((()=>{if(m)return;const e=g.current;e&&_(e.offsetHeight+"px")}),[n,m]),zo((()=>{m&&_(null)}),[m]);const y=Go((()=>ae(e_,((e,t)=>()=>{if(u(n),"hide"===t){if(i)return void r(t);o("hide"),l("hide"),s(!0),r(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0})}else if("complaint"===t)o("complaint"),l("complaint"),s(!0),r(t,{noDestroyOnClick:!0,needToHideCreativesContiner:!0});else if("anotherReasonAd"===t)o("message");else{const e="about"===t||"advertiserInfo"===t;p(),r(t,{noDestroyOnClick:e})}}))),[r,n,i]),f={height:null!=v?v:""},S=pf(),T=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),advertiserInfo:e("ABUSE_OPTION_ADVERTISER_INFO"),about:e("ABUSE_OPTION_ABOUT")}))(S),E=(e=>Kd(D(Jv),((t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t}),{}))(S),b=((e,t)=>t?Kd(D($v),((t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t}),{}):Kd(D(Zv),((t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"politicalAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t}),{}))(S,i);return _o("div",{className:ta(ST.locals.AbuseDisplay,{[ST.locals.AbuseDisplay_fullSize]:m,[ST.locals.AbuseDisplay_visible]:t}),style:f},_o("div",{className:ST.locals.AbuseDisplay__content,ref:g},"default"===n?_o(DT,{isVisibleAbuse:t,legalInfoText:h,buttonTexts:T,onClickHandlers:y}):null,"hide"===n?_o(NT,{buttonTexts:E,onClickHandlers:y}):null,"complaint"===n?_o(ET,{buttonTexts:b,onClickHandlers:y}):null,"message"===n?_o(kT,{onClickHandler:r,previousDisplayType:d}):null))};var LT=e(8561),BT=e.n(LT);const MT=()=>{na(BT());const{isAbuseSubmitted:e,abusePlaceholderText:t,abusePlaceholderHint:i}=JS(),{width:r}=py();if(!e)return null;const n=r<=640;return _o("div",{className:ta(LT.locals.AbusePlaceholder,{[LT.locals.AbusePlaceholder_place_left]:n,[LT.locals.AbusePlaceholder_place_center]:!n})},_o("div",{className:LT.locals.AbusePlaceholder__container},_o("div",{className:LT.locals.AbusePlaceholder__text},t),_o("div",{className:LT.locals.AbusePlaceholder__hint},i)))};var xT=e(1155),UT=e.n(xT);const FT=()=>{na(UT());const{abuseDisplayStatus:e,isAbuseSupported:t}=JS(),i=NS(),r=yS(i),n="selection"===e,{abuseScreenCloseHandler:o,abuseButtonClickHandler:a}=JS(),{socialAdvertising:s}=eT();if(!r)return null;if(!t)return null;return _o("div",{className:xT.locals.AbuseContainer},_o(MT,null),_o(cT,{onClickHandler:()=>n?o():a(),isActive:n}),_o(VT,{isVisibleAbuse:n,socialAdvertising:s}))},HT=Uo({isHovered:!1,userHasInteracted:!1});HT.Provider.displayName="SlotHoverContext";const zT=e=>{const t=ia(e),[i,r]=Ho(t);return zo((()=>{t&&r(!0)}),[t]),{isHovered:t,userHasInteracted:i}},jT=()=>Xo(HT),WT=Uo(void 0),GT=()=>Xo(WT),YT=Uo({isTouchScreenDevice:!1});YT.Provider.displayName="IsTouchScreenDeviceContext";const XT=e=>{let{adDisplayController:t}=e;return{isTouchScreenDevice:te(t.slotParameters.window)}},KT=Uo("middle");KT.Provider.displayName="SkinSizeNameContext";const qT=()=>Xo(KT),QT=Uo({skinVariant:"default"});QT.Provider.displayName="SkinVariantContext";const JT=e=>{let{skinVariant:t}=e;return{skinVariant:t}},ZT=Uo({skipButtonPosition:"callToActionLine"});ZT.Provider.displayName="SkipButtonContext";const $T=e=>{let{adDisplayController:t}=e;const{adFormatType:i}=t.getAdPlacementOptions();let r;return r="survey"===i?"top":"callToActionLine",{skipButtonPosition:r}},eE=()=>Xo(ZT),tE=Uo(void 0);tE.Provider.displayName="VideoSlotClickUrlContext";const iE=()=>Xo(tE),rE=Uo({volumeStatus:"unknown",volume:0,setVolume:Ae,setMuted:Ae});rE.Provider.displayName="VolumeContext";const nE=e=>{let{adDisplayController:t}=e;return{volumeStatus:ia(t.volumeStatus),volume:ia(t.adVolume),setVolume:e=>t.setVolume(e),setMuted:e=>t.setMuted(e)}},oE=()=>Xo(rE);var aE=e(5050),sE=e.n(aE);const lE=()=>(na(sE()),_o("div",{className:aE.locals.ControlsBottomShadow})),dE=e=>Math.floor(1e4*e)/1e4;var cE=e(1172),uE=e.n(cE);const hE="#F8CC46",pE=1,AE=e=>{let{currentNumber:t,count:i,color:r,adAnimationProgress:n,backgroundOpacity:o=pE}=e;na(uE());const{width:a,transform:s}=function(e){let{currentNumber:t,count:i}=e;const r=4*(i-1)/i,n=4*t;return{width:"calc("+dE(100/i)+"% - "+dE(r)+"px)",transform:"translateX(calc("+dE(100*t)+"% + "+dE(n)+"px))"}}({currentNumber:t,count:i});return _o("div",{className:cE.locals.TimelineBar__container,style:{width:a,transform:s}},_o("div",{className:ta(cE.locals.TimelineBar,cE.locals.TimelineBar__background),style:{opacity:""+o}}),_o("div",{className:ta(cE.locals.TimelineBar,cE.locals.TimelineBar__progress),style:{transform:"scaleX("+n+")",backgroundColor:r}}))};var mE=e(4659),vE=e.n(mE);const _E=e=>{let{text:t,textLength:i,viewBox:r}=e;return na(vE()),_o("svg",{className:ta(mE.locals.DisclaimerSvg),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:r},_o("text",{className:mE.locals.DisclaimerSvg_text,lengthAdjust:"spacing",textLength:i,y:"85%"},t))};var gE=e(550),yE=e.n(gE);const fE=((e,t,i,r)=>{const n=((e,t,i,r)=>{const n=(t-r)/(e-i),o=t-n*e;return e=>n*e+o})(e,t,i,r),o=(a=t,s=r,e=>Math.max(a,Math.min(e,s)));var a,s;return e=>{const t=n(e);return o(t)}})(100,5,600,330),SE=e=>{let{text:t,heightPortion:i}=e;const r=py();na(yE());const{textLength:n,viewBox:o,fontSize:a}=function(e,t){const{width:i,height:r}=e,n=r,o=Math.min(n,fE(i)),a=Math.max(i,t.length*o/1.2);return{fontSize:o,textLength:a,textPositionOffset:(n+o/2)/2,viewBox:"0 0 "+a+" "+n}}({width:r.width,height:r.height*i},t);return _o("div",{className:gE.locals.Disclaimer,style:{height:r.height*i,fontSize:a}},_o(_E,{text:t,textLength:n,viewBox:o}))},TE={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:function(e,t,i,r,n){const o=t=>{const r=1-t;return 3*r*r*t*e+3*r*t*t*i+t*t*t},a=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*r+e*e*e},s=t=>{const r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*i};return e=>{const t=e;let i,r,l,d,c,u;for(l=t,u=0;u<8;u++){if(c=o(l)-t,Math.abs(c)<n)return a(l);if(d=s(l),Math.abs(d)<1e-6)break;l-=c/d}if(i=0,r=1,l=t,l<i)return a(i);if(l>r)return a(r);for(;i<r;){if(c=o(l),Math.abs(c-t)<n)return a(l);t>c?i=l:r=l,l=.5*(r-i)+i}return a(l)}}(.6,.7,.61,1.09,.01)},EE="linear",bE=Uo(void 0);bE.Provider.displayName="AdAnimationUnmuteButtonContext";const CE=e=>{let{adDisplayController:t}=e;return ia(t.volumeButtonCollapseProgress)},OE=()=>Xo(bE);var wE=e(1796),PE=e.n(wE);const IE=e=>{let{className:t}=e;return na(PE()),_o(ws,{className:ta(wE.locals.MuteIcon,t)})};var DE=e(5751),NE=e.n(DE);const RE=["isActive","className","size"],kE=e=>{let{isActive:t=!0,className:i,size:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,RE);na(NE());const o=ta(DE.locals.SquareButton,i,{[DE.locals.SquareButton_active]:t,[DE.locals.SquareButton_fullSize]:"small"!==r});return _o(pT,Ps({},n,{isActive:t,className:o,buttonClassName:DE.locals.SquareButton__basebutton,contentClassName:DE.locals.SquareButton__basecontent}))};var VE=e(1197),LE=e.n(VE);const BE=e=>{let{className:t}=e;return na(LE()),_o(Is,{className:ta(VE.locals.UnmuteIcon,t)})};var ME=e(3683),xE=e.n(ME);const UE=()=>{const{playingState:e}=GS(),t=OE(),i=NS();na(xE());const r=pf(),{volumeStatus:n,setMuted:o}=oE(),a=TE.easeOut(OE()),s=1-a,l="unmuted"===n,d=Yo((()=>{o(!0)}),[]),c=qT(),u="small"!==c,h=Yo((()=>{o(!1)}),[]),p=!(Os({playingState:e,volumeStatus:n,controlsVisibility:i})&&void 0!==t),A=r("UNMUTE");return _o(kE,{className:ta(ME.locals.VolumeButton,l?ME.locals.MuteButton:ME.locals.UnmuteButton,p&&ME.locals.MuteButton__hidden),onClick:l?d:h,size:c},_o("div",{className:ME.locals.VolumeButton__content},_o("div",{className:ta(ME.locals.VolumeButton__iconContainer,{[ME.locals.VolumeButton__iconContainer_fullSize]:u})},_o(l?IE:BE,{className:ME.locals.VolumeButton__icon})),1!==a&&_o("div",{className:ta(ME.locals.UnmuteButton__text,ME.locals.UnmuteButton__text_animation,{[ME.locals.UnmuteButton__text_fullSize]:u}),style:{maxWidth:140*s,transform:"scale("+s+")",opacity:s,marginRight:12*s}},A)))};var FE=e(8453),HE=e.n(FE);const zE=e=>{let{style:t}=e;const{playingState:i}=GS(),r=NS();na(HE());const{volumeStatus:n,setMuted:o}=oE(),a="unmuted"===n,s=Yo((()=>{o(!0)}),[]),l=Yo((()=>{o(!1)}),[]);return Os({playingState:i,volumeStatus:n,controlsVisibility:r})?_o("div",{style:t,className:FE.locals.MuteUnmuteButtonWithoutBackground,onClick:a?s:l},_o(a?IE:BE,null)):null},jE=Uo({adPodsCount:0,playingAdPodIndex:0});jE.Provider.displayName="MediaFileContext";const WE=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:ia(t),playingAdPodIndex:ia(i)}};var GE=e(7864),YE=e.n(GE);const XE=e=>{let{color:t}=e;na(YE());const{adPodsCount:i,playingAdPodIndex:r}=Xo(jE),n=US();return!1!==NS().timeline?_o("div",{className:GE.locals.Timeline},Sd(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(i),(e=>_o(AE,e<r?{key:e,adAnimationProgress:1,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:e===r?{key:e,adAnimationProgress:n,currentNumber:e,count:i,backgroundOpacity:.3,color:t}:{key:e,adAnimationProgress:0,currentNumber:e,count:i,backgroundOpacity:.3,color:t})))):null};var KE=e(6413),qE=e.n(KE);const QE=e=>{na(qE());const t=pf(),{themeEmptyParameters:i,clickThrough:r}=Pf(),{isPackshotPlaying:n}=VS(),o=py(),{clickUrl:a,greenUrl:s,targetUrl:l}=i||{},d=Yo((()=>{r({url:a})}),[r,a]),{actionButton:c}=NS();if(!1===c)return null;if(!i)return null;if(n)return null;const{showLabelOnButton:u,faviconSrc:h}=e,p=t("THEME_EMPTY_ACTION_BUTTON_LABEL"),A=t("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),m=null!=s?s:A,v=o.width>=260;return _o(Jy,{url:l,onClick:d},_o("div",{className:KE.locals.ActionPanelSmall__clickableContainer},_o("div",{className:KE.locals.ActionPanelSmall},h?_o("div",{className:KE.locals.ActionPanelSmall__favIconContainer},_o("img",{className:KE.locals.ActionPanelSmall__favIcon,src:h,alt:"favicon"})):void 0,v&&_o("span",{className:KE.locals.ActionPanelSmall__label},m),_o("div",{style:{paddingRight:4}},_o(yf,{size:"small"},u?p:void 0)))))},JE=e=>{let{className:t}=e;const{clickThrough:i,themeEmptyParameters:r}=Pf(),n=py(),o=n.width<450||n.height<300;if(!r)return null;const{clickUrl:a,punyDomain:s,greenUrl:l,label:d,targetUrl:c}=r,u=Zy(s),h=Yo((()=>{i({url:a})}),[i,a]);return _o("div",{className:t},o?_o(QE,{showLabelOnButton:!0,faviconSrc:u}):_o(Cf,{title:void 0,greenUrl:l,buttonLabel:d,targetUrl:c,onClickThrough:h,faviconSrc:u}))},ZE=Uo(Bp);ZE.Provider.displayName="ContentAfterAdPodContext";const $E=Uo({timeToSkip:qf,skipCurrentAdPod:Ae});$E.Provider.displayName="SkipContext";const eb=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:ia(i),skipCurrentAdPod:Yo((()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():Xc.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})}),[])}},tb=e=>{let{className:t}=e;return _o(Ds,{className:t})};var ib=e(3765),rb=e.n(ib);const nb=e=>{let{className:t}=e;na(rb());const{skipCurrentAdPod:i,timeToSkip:r}=Xo($E),n=py(),o=pf(),a=NS(),s=Xo(ZE),l=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return B(String(t),2,"0")}(r);if(!1===a.skip)return null;if(r===qf)return null;const d=o("SKIP"),c=0===r,u=ta(t,ib.locals.SkipButton__clickable,c&&ib.locals.SkipButton_active),h=va(n),p=n.width>320;let A;return A="startVideo"===s.type||"continueVideo"===s.type?s.poster:[],_o("div",{className:u,onClick:i,style:{fontSize:.28*h}},_o("div",{className:ib.locals.SkipButton},p&&_o(ab,{skipTitle:d,image:A}),_o("div",{className:ib.locals.SkipButton__contentRight},_o(ob,{countdownString:l}))))},ob=e=>{let{countdownString:t}=e;if(!t)return _o(tb,{className:ib.locals.SkipButton__icon});const[i,r]=t;return _o("div",{className:ib.locals.SkipButton__timeToSkipString},_o("span",{className:ib.locals.SkipButton__timeToSkipString__leftDigit},i),_o("span",{className:ib.locals.SkipButton__timeToSkipString__rightDigit},r))},ab=e=>{let{skipTitle:t,image:i}=e;return _o("div",{className:ib.locals.SkipButton__contentLeft},i.length>0?_o("img",{src:i[0].url,className:ib.locals.SkipButton__leftImage}):_o("div",{className:ib.locals.SkipButton__skipText},t))},sb={number:(e,t,i)=>t+(i-t)*e,boolean:(e,t)=>t};var lb=e(4993),db=e.n(lb);const cb=(e,t,i)=>Go((()=>e?Sd((e=>{let{maxLines:t,maxLettersInLine:i,decrease:r=.8,text:n}=e;const o=[],a=n.split(/\s+/g),s=[],l=Math.floor(i*r);for(;a.length>0;){const e=a.shift();if("string"!==typeof e)continue;let t=0;const r=e.length>l?l:e.length;for(let i=0;i<r;i++){const r=e.charAt(i);r!==r.toLowerCase()&&t++}const n=Math.floor(i-(i-l)*t/l);if(e.length>n){let t,i,r=e.lastIndexOf("-");r===e.length-1&&(r=e.lastIndexOf("-",r-1)),r>-1?(i=e.slice(0,r+1),t=e.slice(r+1)):(i=e.slice(0,n),t=e.slice(n)),a.unshift(i,t)}else s.push(e)}const d=1/r;return Cd(s,(e=>{const t=o.pop()||[];let r=0;Cd(t,(e=>{r+=Rs(e,d)+1})),r+=Rs(e,d),r>=i?(o.push(t),o.push([e])):(t.push(e),o.push(t))})),cc(o,(e=>Boolean(e.length))).slice(0,t)})({maxLines:t,maxLettersInLine:i,text:e}),(e=>e.join(" "))):[]),[e,t,i]),ub=e=>{let{className:t}=e;na(db());const i=US(),r=zS(),n=py(),{themeEmptyParameters:o,clickThrough:a}=Pf(),s=NS();if(!o)return null;const{title:l,body:d,targetUrl:c,clickUrl:u}=o,h=i<.36,p=h&&!1!==s.title,A=!h&&!1!==s.body,m=cb(h?l:d,4,44);if(!A&&!p)return _o("div",{style:{flex:1}});const v=Math.min(n.width,n.height),_=r*i;if(!Ee(_))return null;const g=e=>function(e,t,i,r){void 0===r&&(r=0);const n=.014*i,o=.012*i;return{left:Ns({position:e,unit:"number",steps:[{duration:t*(.05+n+r),value:-400},{duration:t*(.07-n),values:[-400,0],easing:"easeOutBack"},{duration:t*(.205+o),value:0},{duration:t*(.035-o),values:[0,400],easing:"easeIn"},{duration:t*(.049-n),values:[-400,0],easing:"easeOutBack"},{duration:t*(.444+o),value:0},{duration:t*(.035-o),values:[0,180],easing:"easeIn"}]})+"%"}}(_,r,e),y=Yo((()=>{a({url:u})}),[a,u]);return _o("div",{className:ta(t,lb.locals.TitleAndBody),style:{fontSize:.05*v}},Sd(m,((e,t)=>_o(yo,{key:t},_o(Jy,{url:c,onClick:y},_o("span",{style:null==g?void 0:g(t),className:lb.locals.TitleAndBody_line},e)),_o("br",null)))))};var hb=e(9976),pb=e.n(hb);const Ab=e=>{let{showSkipButton:t}=e;na(pb());const{themeEmptyParameters:i}=Pf(),{isPackshotPlaying:r}=VS(),n=NS(),o=py(),a=qT(),s=!1!==n.actionButton&&void 0!==i,l=t&&!1!==n.skip;if(r)return null;let d;d=l?o.width<750:"small"===a;const c=ta(hb.locals.CallToActionControls,d?hb.locals.CallToActionControls_twoLines:hb.locals.CallToActionControls_oneLine),u="TRUE"!==rc.getFlagValueAndActivateTestId("VAS_NEW_CALL_TO_ACTION_TEXT");return _o("div",{className:c},s&&_o(JE,{className:hb.locals.CallToActionControls__ActionPanel}),u&&_o(ub,{className:hb.locals.CallToActionControls__TitleAndBody}),t&&_o(nb,{className:hb.locals.CallToActionControls__SkipButton}))},mb=Uo({cues:[]});mb.Provider.displayName="SubtitlesContext";const vb=e=>{let{adDisplayController:t}=e;return{cues:ia(t.adPodCurrentSubtitles)}};var _b=e(4061),gb=e.n(_b);const yb=e=>{let{style:t={}}=e;na(gb());const{cues:i}=Xo(mb);return i.length>0?_o("div",{className:_b.locals.Subtitles__container,style:t},Sd(i,(e=>{let{text:t}=e;return _o("div",{className:_b.locals.Subtitles__subtitle},t)}))):null};var fb=e(2990),Sb=e.n(fb);const Tb=()=>{na(Sb());const{isAbuseSubmitted:e}=JS(),{skinVariant:t}=Xo(QT),{skipButtonPosition:i}=eE();if(e)return null;return"videoInCombo"===t?_o("div",{className:fb.locals.BottomControls__container},_o(wb,null)):_o("div",{className:fb.locals.BottomControls__container},_o(Ab,{showSkipButton:"callToActionLine"===i}),_o(bb,null),_o(Eb,null),_o(XE,{color:hE}))},Eb=()=>{const e=GT(),t=NS();if(!e||!1===t.disclaimers)return _o("div",{style:{height:"6px"}});const{text:i,mandatoryHeightPortion:r}=e;return _o("div",{className:fb.locals.DisclaimerContainer},_o(SE,{heightPortion:r,text:i}))},bb=()=>{const e="small"===qT();return _o(yo,null,!e&&_o(yb,null),_o("div",{className:fb.locals.ButtonControls},_o(UE,null),e&&_o(yb,{style:{flex:1}})))},Cb=e=>{let{shouldShowHoverControls:t}=e;return _o("div",{className:ta(t?fb.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_visible:fb.locals.ComboVideoControlsMuteAndTimelineWithHoverEffects_hidden)},_o(zE,null),_o("div",{style:{position:"absolute",left:12,right:12,bottom:40}},_o(XE,{color:hE})))},Ob=()=>_o(yo,null,_o(zE,{style:{paddingBottom:10}}),_o(XE,{color:hE})),wb=()=>{const{isTouchScreenDevice:e}=Xo(YT),t=iE(),i=Boolean(t),{height:r}=py(),n=!e||!i,{isHovered:o}=jT(),a=zS(),{playingState:s}=GS(),l=US(),d=NS(),{volumeStatus:c}=oE(),u=o||a*l<2||"pause"===s,h=Os({playingState:s,volumeStatus:c,controlsVisibility:d}),p=!1!==d.timeline;let A;A=!!(h||p)&&(!!u||!n);const m=Math.max(48,r/8);return _o("div",null,_o("div",{style:{position:"absolute",left:0,right:0,bottom:0}},_o("div",{className:A?fb.locals.ComboVideoControls__controlsBottomShadow_visible:fb.locals.ComboVideoControls__controlsBottomShadow_hidden},_o(lE,null)),_o(Eb,null)),_o("div",{style:{position:"absolute",left:0,right:0,bottom:0}},n?_o(Cb,{shouldShowHoverControls:u}):_o(Ob,null)),_o("div",{style:{position:"absolute",left:0,right:0,bottom:m}},_o(Ab,{showSkipButton:!1})))};var Pb=e(4115),Ib=e.n(Pb);tc({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const Db=e=>{let{className:t}=e;return na(Ib()),_o(ks,{className:ta(Pb.locals.SpinnerIcon__css_animated,t)})},Nb=Db;var Rb=e(9130),kb=e.n(Rb);const Vb=e=>{let{className:t}=e;return na(kb()),_o(Nb,{className:ta(Rb.locals.Spinner,t)})},Lb=e=>{let{className:t}=e;return _o(Vs,{className:t})};var Bb=e(7276),Mb=e.n(Bb);const xb=e=>{let{onClick:t,size:i}=e;na(Mb());const r=ta(Bb.locals.CirclePlayButton,{[Bb.locals.CirclePlayButton_fullSize]:"small"!==i}),n=ta(Bb.locals.CirclePlayButton__icon,{[Bb.locals.CirclePlayButton__icon_fullSize]:"small"!==i});return _o(pT,{className:r,contentClassName:Bb.locals.CirclePlayButton__basecontent,onClick:t},_o(Lb,{className:n}))},Ub=()=>{const e=qT(),{play:t}=GS();return _o(xb,{size:e,onClick:()=>{Xc.event({name:"SkinPlayByCircleButton",data:{}}),t()}})};var Fb=e(7012),Hb=e.n(Fb);const zb=()=>{na(Hb());const{playingState:e,isStarted:t,isSlowStart:i}=GS(),{play:r,loader:n}=NS(),{isAbuseSubmitted:o,abuseDisplayStatus:a}=JS(),{isPackshotPlaying:s}=VS(),l=sT(py());if(o)return null;const d="pause"===e,c=d&&!1!==r&&!("selection"===a&&l)&&!s,u=!c&&!d&&!t&&i&&!1!==n;return _o("div",{className:Fb.locals.CenterControls},c&&_o(Ub,null),u&&_o(Vb,null))};var jb=e(2636),Wb=e.n(jb);const Gb=Uo({creativeType:void 0});Gb.Provider.displayName="CreativeTypeContext";const Yb=e=>{let{adDisplayController:t}=e;return{creativeType:ia(t.creativeType)}},Xb=()=>Xo(Gb);var Kb=e(8409),qb=e.n(Kb);const Qb=e=>{let{icon:t,onClick:i,className:r}=e;return na(qb()),_o("div",{className:ta(Kb.locals.ControlPanelButton,r),onClick:i},t)};var Jb=e(873),Zb=e.n(Jb);const $b=Uo({adSystemType:void 0,openAdSystemWebsite:Ae});$b.Provider.displayName="AdSystemContext";const eC=e=>{let{adDisplayController:t}=e;return{adSystemType:ia(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}},tC=()=>{const e=pf(),{socialAdvertising:t}=eT(),{adSystemType:i,openAdSystemWebsite:r}=Xo($b),{themeEmptyParameters:n,clickThrough:o}=Pf(),a=iE(),{playingState:s}=GS(),l=NS(),{creativeType:d}=Xb(),c="survey"===d,u=void 0!==i,h=!1!==l.adLabel&&"idle"!==s,p=u&&h,A=p&&"yandex"===i&&!c;let m=e("AD_TITLE");c?m=e("SURVEY_AD_LABEL"):t&&(m=e("SOCIAL_ADVERTISING_AD_LABEL"));return{onClick:()=>{var e;if(t)return r();if(c)return o({url:"https://surveys.yandex.ru/landing/?from=direct_adlabel&utm_source=direct_adlabel"});const i=null!=(e=null==n?void 0:n.clickUrl)?e:a;return o({url:i})},label:m,shouldShowAdLabelText:p,title:e("YANDEX_DIRECT"),shouldShowHint:A}};var iC=e(4647),rC=e.n(iC);const nC=()=>{na(rC());const{label:e,title:t,shouldShowHint:i,onClick:r}=tC();return!1===NS().adLabel?null:_o("div",{className:iC.locals.BackpackAdLabel,title:i?t:void 0,onClick:r},e)},oC=Uo(void 0);oC.Provider.displayName="AdSequenceContext";const aC=()=>{const e=Xo(oC),t=NS(),i=pf();return e&&!1!==t.backpackAdSequence?_o("span",{"data-ad-sequence":!0},e.index+1," ",i("OF")," ",e.count):null},sC=()=>{const{themeEmptyParameters:e}=Pf(),t=NS(),{ageRestriction:i}=e||{};return!1!==t.ageLabel&&f(i)?_o("span",null,i):null},lC=e=>{let{className:t}=e;na(Zb());const i=qT(),{supportsFullscreen:r}=mf(),n="TRUE"!==rc.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL");return _o("div",{className:ta(Jb.locals.Backpack,t)},n&&_o("div",{className:Jb.locals.Backpack_labels},_o(nC,null),_o(aC,null),_o(sC,null)),"small"===i&&r&&_o("div",{className:Jb.locals.Backpack_buttons},_o(Qb,{icon:_o(Ls,null)})))};var dC=e(2219),cC=e.n(dC),uC=e(8265),hC=e.n(uC);const pC=e=>{let{className:t}=e;const{playingState:i,play:r,pause:n}=GS();return _o(Qb,{className:t,onClick:"pause"===i?r:n,icon:_o("pause"===i?Ms:Bs,null)})};var AC=e(6535),mC=e.n(AC);const vC=()=>{na(mC());const{volumeStatus:e,setMuted:t,setVolume:i,volume:r}=oE(),n="unmuted"===e,[o,a]=Ho(!1),[s,l]=Ho(!1),d=Wo(null);return _o("div",{onMouseEnter:()=>{a(!0)},onMouseLeave:()=>{a(!1)},className:ta(AC.locals.ControlPanelSoundButton,(s||o)&&AC.locals.ControlPanelSoundButton_opened)},_o(Qb,{onClick:()=>{t(n)},icon:_o(_C,{volume:r})}),_o("div",{className:AC.locals.ControlPanelSoundButton__SliderContainer,onMouseDown:e=>{if(!d.current)return;l(!0);const{left:t,width:r}=d.current.getBoundingClientRect(),n=d.current.ownerDocument,o=e=>{const n=W((e.clientX-t)/r,0,1);i(n)},a=()=>{l(!1),null==n||n.removeEventListener("mousemove",o),null==n||n.removeEventListener("mouseup",a)};n.addEventListener("mousemove",o),n.addEventListener("mouseup",a),o(e)},ref:d},_o("div",{className:AC.locals.ControlPanelSoundButton__SliderContainerLiner}),_o("div",{className:AC.locals.ControlPanelSoundButton__SliderContainerThumbContainer},_o("div",{className:AC.locals.ControlPanelSoundButton__SliderContainerThumb,style:{left:Math.round(100*r)+"%"}}))))},_C=e=>{let{volume:t}=e;return _o(0===t?Fs:t<.24?xs:t<.5?Us:Hs,null)},gC=e=>{let{className:t}=e;na(hC());const{playingState:i}=GS(),{volumeStatus:r}=oE(),{supportsFullscreen:n}=mf(),o=NS(),a=Os({controlsVisibility:o,volumeStatus:r,playingState:i}),s=!1!==o.play;return _o("div",{className:ta(uC.locals.ControlPanelControls,t)},s&&_o(pC,null),a&&_o(vC,null),n&&_o(Qb,{icon:_o(Ls,null),className:uC.locals.ControlPanelControls__fullscreenButton}))};var yC=e(9740),fC=e.n(yC);const SC=e=>{let{className:t}=e;na(fC());const i=100*US();return!1!==NS().timeline?_o("div",{className:ta(yC.locals.ContolPanelTimeLine,t)},_o("div",{className:yC.locals.ContolPanelTimeLine_bar,style:{width:i+"%"}})):null},TC=()=>{na(cC());const{creativeType:e}=Xb(),t="survey"===e,r="small"===qT(),{height:n}=py(),o=t?0:n*gS,a=(()=>{const e="TRUE"===rc.getFlagValueAndActivateTestId("VAS_NEW_SKIN_DELAY_INITIAL_PANEL_MINIMIZATION"),t=US(),r=zS(),n=x(r)?t*r:0,{isHovered:o}=jT(),{playingState:a}=GS(),s="small"===qT(),l="pause"===a,[d,c]=Ho((()=>!e&&!s)),[u,h]=Ho(!e),p=Wo(null);return zo((()=>{u||n<3||h(!0)}),[u,n]),jo((()=>{if(u)return null!==p.current&&clearTimeout(p.current),s||o||l?c(!1):(p.current=setTimeout((()=>{c(!0)}),500),()=>{i(clearTimeout)&&null!==p.current&&clearTimeout(p.current)})}),[o,s,l,u]),d})(),s=r||t;return _o("div",{style:{minHeight:o},className:ta(dC.locals.ControlPanel,{[dC.locals.ControlPanel_small]:s,[dC.locals.ControlPanel_minimized]:a})},_o(lC,null),_o(SC,{className:dC.locals.ControlPanel__timeLine}),!s&&_o(gC,{className:dC.locals.ControlPanel__controls}))},EC=()=>{na(Wb());const{skipButtonPosition:e}=eE();return _o("div",{className:jb.locals.BottomControlsLayer},_o(Ab,{showSkipButton:"callToActionLine"===e}),_o(TC,null))};var bC=e(1054),CC=e.n(bC);const OC=()=>{na(CC());const e=GT(),t=NS();if(void 0===e||!1===t.disclaimers)return null;const{text:i,mandatoryHeightPortion:r}=e;return _o("div",{className:bC.locals.DisclaimersLayer},_o(SE,{text:i,heightPortion:r}))};var wC=e(8315),PC=e.n(wC);const IC=()=>{na(PC());const e="small"===qT(),{play:t,pause:i}=GS(),{creativeType:r}=Xb(),n="themeEmpty"===r,{isPackshotPlaying:o}=VS(),a=(()=>{const{playingState:e,isStarted:t,isSlowStart:i}=GS(),{play:r,loader:n}=NS(),{isAbuseSubmitted:o,abuseDisplayStatus:a}=JS(),{isPackshotPlaying:s}=VS(),l=sT(py());if(o)return"none";const d="pause"===e,c=d&&!1!==r&&!("selection"===a&&l)&&!s;return c||d||t||!i||!1===n?c?"paused":"none":"loading"})();return"loading"===a?_o("div",{className:wC.locals.OverlayLayer__spinnerContainer},_o(Vb,null)):e&&!o&&n?"paused"===a?_o("div",{className:wC.locals.OverlayLayer__playButtonContainer,onClick:t},_o(Ms,null)):_o("div",{className:wC.locals.OverlayLayer__pauseContainer,onClick:i}):null};var DC=e(5170),NC=e.n(DC);const RC=e=>{let{size:t,title:i,label:r,ageRestriction:n,surveyQuestionNumber:o,surveyQuestionCount:a,onClick:s}=e;na(NC());const l=pf();if(!f(r)&&!f(n))return null;const d=f(r),c=void 0!==o&&a&&a>2;return _o("div",{className:ta(DC.locals.AdLabel,{[DC.locals.AdLabel_fullSize]:"small"!==t,[DC.locals.AdLabel_clickable]:d,[DC.locals.AdLabel_survey]:Ee(o)&&Ee(a)}),title:f(i)?i:void 0,onClick:d?s:void 0},r,n?_o(yo,null,f(r)&&_o("span",{className:DC.locals.AdLabel__delimiter},"|"),_o("span",{className:DC.locals.AdLabel__ageLabel},n)):null,c?_o(yo,null,f(r)&&_o("span",{className:DC.locals.AdLabel__delimiter},"|"),_o("span",null,o," ",l("OF")," ",a," ",l("SURVEY_AD_LABEL_OF_QUESTIONS"))):null)};var kC=e(6937),VC=e.n(kC);const LC=e=>{let{onClick:t}=e;na(VC());const i=NS(),r=pf()("SOCIAL_ADVERTISING_AD_LABEL");return!1===i.socialAdLabel?null:_o("a",{className:kC.locals.SocialAdvertisingAdLabel,onClick:t},r)},BC=()=>{const e=NS(),t=qT(),{socialAdvertising:i}=eT(),{themeEmptyParameters:r}=Pf(),{ageRestriction:n}=r||{},o=!1!==e.ageLabel,{title:a,shouldShowAdLabelText:s,shouldShowHint:l,label:d,onClick:c}=tC();return i?_o(LC,{onClick:c}):_o(RC,{size:t,label:s?d:void 0,title:l?a:void 0,ageRestriction:o?n:void 0,onClick:c})};var MC=e(9931),xC=e.n(MC);const UC=()=>{na(xC());const e="small"===qT(),{creativeType:t}=Xb(),i=e&&"themeEmpty"!==t&&"survey"!==t,{skipButtonPosition:r}=eE(),n="TRUE"===rc.getFlagValueAndActivateTestId("VAS_NEW_SKIN_USE_OLD_AD_LABEL"),o="RIGHT"===rc.getFlagValueAndActivateTestId("VAS_NEW_SKIN_TOP_BUTTONS_POSITION");return _o(yo,null,n&&_o(BC,null),_o("div",{className:MC.locals.TopControlsLayer},e&&_o(zE,{style:{padding:4,marginLeft:o?"auto":""}}),i&&_o(pC,{className:MC.locals.TopControlsLayer__playButton}),"top"===r&&_o(nb,{className:MC.locals.TopControlsLayer__skipButton})))},FC=()=>_o(yo,null,_o(OC,null),_o(XS,null),_o(IC,null),_o(EC,null),_o(UC,null),_o(FT,null));var HC=e(4499),zC=e.n(HC);const jC=()=>{na(zC());const{skipButtonPosition:e}=eE();return _o("div",{className:HC.locals.TopControls},_o(BC,null),"top"===e&&_o(nb,{className:HC.locals.TopControls__skinButton}))},WC=()=>{const{shouldUseNewSkin:e}=mf();return e?_o(FC,null):_o(yo,null,_o(XS,null),_o(jC,null),_o(Tb,null),_o(zb,null),_o(FT,null))},GC=Uo(void 0);GC.Provider.displayName="VideoContentSizeContext";const YC=Uo(au);YC.Provider.displayName="VideoSlotSizeContext";const XC=[e=>{return _o(KT.Provider,{value:(t=e.adDisplayController,Xa(ia(t.slotParameters.size))),children:e.children});var t},e=>{return _o(Af.Provider,{value:(t=e.adDisplayController,{supportsFullscreen:!1,shouldUseNewSkin:t.isNewSkinEnabled}),children:e.children});var t},e=>_o(Ay.Provider,{value:my(e.slotElement),children:e.children}),e=>_o(jS.Provider,{value:WS(e),children:e.children}),e=>_o(jE.Provider,{value:WE(e.adDisplayController),children:e.children}),e=>_o(MS.Provider,{value:xS(e.adDisplayController),children:e.children}),e=>_o(FS.Provider,{value:HS(e),children:e.children}),e=>_o(uy.Provider,{value:hy(e.adDisplayController.slotParameters.size),children:e.children}),e=>{return _o(YC.Provider,{value:(t=e.adDisplayController.videoSlotSize,ia(t))},e.children);var t},e=>{return _o(GC.Provider,{value:(t=e.adDisplayController.videoContentSize,ia(t))},e.children);var t},e=>_o($E.Provider,{value:eb(e),children:e.children}),e=>_o(ZT.Provider,{value:$T(e),children:e.children}),e=>_o(QT.Provider,{value:JT(e.adDisplayController.skinParameters),children:e.children}),e=>{return _o(tE.Provider,{value:(t=e.adDisplayController,ia(t.videoSlotClickUrl)),children:e.children});var t},e=>_o(YT.Provider,{value:XT(e),children:e.children}),e=>_o(HT.Provider,{value:zT(e.adDisplayController.slotParameters.isHovered),children:e.children}),e=>_o(uf.Provider,{value:hf(e.adDisplayController.playbackParameters),children:e.children}),e=>{return _o(DS.Provider,{value:(t=e.adDisplayController.combinedSkinControlsVisibility,ia(t)),children:e.children});var t},e=>_o(rE.Provider,{value:nE(e),children:e.children}),e=>_o(bE.Provider,{value:CE(e),children:e.children}),e=>_o(qS.Provider,{value:QS(e),children:e.children}),e=>_o($b.Provider,{value:eC(e),children:e.children}),e=>{return _o(ZE.Provider,{value:(t=e.adDisplayController,ia(t.contentAfterAdPod)),children:e.children});var t},e=>_o(ZS.Provider,{value:$S(e),children:e.children}),e=>_o(Of.Provider,{value:wf(e.adDisplayController),children:e.children}),e=>{return _o(WT.Provider,{value:(t=e.adDisplayController,ia(t.disclaimerParameters)),children:e.children});var t},e=>_o(RS.Provider,{value:kS(e.adDisplayController),children:e.children}),e=>_o(mb.Provider,{value:vb(e)},e.children),e=>_o(Gb.Provider,{value:Yb(e),children:e.children}),e=>{return _o(oC.Provider,{value:(t=e.adDisplayController,ia(t.displayAdSequence)),children:e.children});var t}];const KC=(qC=()=>_o(WC,null),(e,t)=>{const i=new jh,r=new jh,n=new jh,o=new Promise(((e,t)=>{i.addOne((()=>{i.removeAll(),r.removeAll(),e()})),r.addOne((e=>{i.removeAll(),r.removeAll(),t(e)}))})),a=new Promise(((e,t)=>{n.addOne((()=>{t()}))})),s=_o(dy,{onFirstRender:e=>{"success"===e.status?i.dispatch(void 0):r.dispatch(e.error)},onRuntimeError:()=>{n.dispatch(void 0)}},_o(cy,{components:XC,componentsProps:{id:"skin",adDisplayController:t,slotElement:e}},qC()));return z("Skin: render skin"),xo(s,e),{firstRenderPromise:o,runtimeErrorPromise:a,clear:()=>{i.removeAll(),r.removeAll(),z("Skin: destroy skin"),xo(null,e)}}});var qC;const QC=["preloadTimeout"];var JC=0,ZC=Ws("preloadPromise"),$C=Ws("showAdPlaybackControllers"),eO=Ws("subscriptions"),tO=Ws("mediaAds"),iO=Ws("vast"),rO=Ws("cancelPreloading"),nO=Ws("destroyPreloading");class oO{constructor(e,t){var r=this;Object.defineProperty(this,ZC,{writable:!0,value:void 0}),Object.defineProperty(this,$C,{writable:!0,value:[]}),Object.defineProperty(this,eO,{writable:!0,value:[]}),Object.defineProperty(this,tO,{writable:!0,value:void 0}),Object.defineProperty(this,iO,{writable:!0,value:void 0}),this.createPlaybackController=function(e,t,i){void 0===i&&(i={}),Xc.event({name:"CreatePlaybackController",probability:lc,data:{config:i}});const{config:n,errors:o}=Ya(i);Yt(o);i.renderSkin;const a=new OS({videoSlot:e,slot:t,mediaAds:js(r,tO)[tO],playbackParameters:n,skinParameters:{renderSkinFunction:KC,skinVariant:"default"}}).getPublicInstance();a.subscribe("AdStartRequest",(()=>{js(r,rO)[rO]("PublicControllerPlayAd")}));const s=cc(js(r,eO)[eO],(e=>{let{event:t}=e;return"CreateAdPlaybackController"===t}));return Cd(s,(e=>{let{handler:t}=e;return t({playbackController:a})})),a},this.showAd=function(e,t,i){void 0===i&&(i={}),js(r,rO)[rO]("AdStoreShowAd");const n=r.createPlaybackController(e,t,i);js(r,$C)[$C].push(n);const o=new Promise((e=>{n.subscribe("AdStopped",(()=>{js(r,$C)[$C]=cc(js(r,$C)[$C],(e=>e!==n)),e()}))}));return n.playAd(),o},this.getAdDuration=()=>As(js(this,tO)[tO]),this.separateAdPods=()=>Sd(js(this,tO)[tO],(e=>{const t=new oO([e],js(this,iO)[iO]);return Cd(js(this,eO)[eO],(e=>{let{event:i,handler:r}=e;t.subscribe(i,r)})),t})),this.getAdSourceTypes=()=>cc(Sd(js(this,tO)[tO],(e=>{let{contentType:t}=e;return t})),((e,t,i)=>i.indexOf(e)===t)),this.getAdBreakType=()=>{return"midroll"===(e=js(this,tO)[tO][0].adBreak).adType?null!=(t=e.originalAdType)?t:"midroll":e.adType;var e,t},this.setStatsRootFields=e=>{Xc.setRootFields(e)},this.hasNotReplacedBroadcastAd=()=>(Xc.error({error:new fc({code:"USING_HAS_NOT_REPLACED_BROADCAST_AD_METHOD_FROM_AD_STORE",details:void 0})}),!1),this.hasYandexCreative=()=>eu(js(this,tO)[tO],(e=>e.getIsYandexCreative())),this.getNonYandexVastXmlTree=()=>this.hasYandexCreative()?void 0:zs(js(this,iO)[iO]),this.destroy=()=>{Cd(js(this,$C)[$C],(e=>{e.stopAd()})),js(this,$C)[$C].length=0,js(this,nO)[nO]("AdStoreDestroy"),js(this,ZC)[ZC]=void 0,js(this,eO)[eO].length=0},this.preload=e=>{let{preloadTimeout:t=zp}=e,r=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,QC);if(i(Cc(window)))return Promise.resolve();const n=eh(t).promise.then((()=>js(this,nO)[nO]("Timeout")));if(void 0===js(this,ZC)[ZC]){const e=Sd(js(this,tO)[tO],(e=>e.preload(r)));js(this,ZC)[ZC]=Promise.all(e).then(Ae)}return Promise.race([js(this,ZC)[ZC],n])},this.filterAdPodsIndependentOnHtmlControls=e=>{const[t,i]=Ji(js(this,tO)[tO],(e=>e.getIfIsRequiredHtmlControls()));js(this,tO)[tO]=Gr(i),Cd(t,(t=>{t.trackError(new fc({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))}))},this.preventPlaying=(e,t)=>{Cd(js(this,tO)[tO],(i=>{i.trackError(new fc({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))})),js(this,tO)[tO]=[]},this.getAdPodsCount=()=>js(this,tO)[tO].length,this.subscribe=(e,t)=>(js(this,eO)[eO].push({event:e,handler:t}),()=>{js(this,eO)[eO]=cc(js(this,eO)[eO],(i=>!(i.event===e&&i.handler===t)))}),Object.defineProperty(this,rO,{writable:!0,value:e=>{Cd(js(this,tO)[tO],(t=>{t.isPreloaded()||t.cancelPreloading(e)}))}}),Object.defineProperty(this,nO,{writable:!0,value:e=>{Cd(js(this,tO)[tO],(t=>{t.cancelPreloading(e)}))}}),js(this,tO)[tO]=e,js(this,iO)[iO]=t}}class aO extends Yc{constructor(e){let{adConfig:t,vmap:i,adBreak:r,adPlacementOptions:n}=e;if(super(),this.getPublicInstance=()=>({loadAd:this.loadAd,destroy:()=>this.destroy()}),this.load=async e=>{const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t},this.loadAd=async()=>{try{const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new fc({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new oO(t,i)}catch(hw){throw Fr(hw),Xc.errorToStats(hw),hw}},this.getInPageBlock=()=>Qr(this.getAdBreaks(),"inpage")[0],this.getPrerollBlock=()=>Qr(this.getAdBreaks(),"preroll")[0],this.getDefaultAdBreakToPlayAd=()=>{const{impId:e}=this.adConfig;return e?function(e,t){return rd(e,(e=>e.impId===t))}(this.getAdBreaks(),e):Qr(this.getAdBreaks(),"preroll")[0]},this.adConfig=t,this.adBreak=r,this.vmap=i,this.adPlacementOptions=n,z("AdLoader: create"),Xc.event({name:"CreateAdLoader",probability:lc,data:{adConfig:t,adBreak:r}}),ah({secureMode:t.secureMode,url:void 0})){const e=Cp();e.addUser(),this.addDestroyHandler((()=>{e.removeUser()})),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:5e3})}}getAdBreaks(){return this.adBreak?[this.adBreak]:this.vmap.adBreaks}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return qr({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}class sO{constructor(){this.adBreaks=[],this.isSingleVideoSession=!1}}const lO={start:"preroll",end:"postroll"},dO=D({inpage:0,preroll:0,midroll:0,pauseroll:0,postroll:0,replaced:0,notReplaced:0,inroll:0}),cO={dark:"dark",light:"light"},uO={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},hO=e=>{const t=qs("Collapse",e);return!0===qs("Repeat",e)?"auto":!1===t?"manual":null};"TRUE"===pA("REQUEST_VMAP_FROM_YANDEX_RU")&&ic.LOADER_LOADED_FROM_AN_YANDEX_RU;const pO={impId:0,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},AO={adTagURI:"",adFoxParameters:void 0,inlineVast:void 0},mO=rl({adType:"preroll"},AO,pO),vO=e=>{if(!u(e))return;const{preferableAdSize:t}=e;if(!u(t))return;const{width:i,height:r}=t;return Ee(i)&&Ee(r)?{width:i,height:r}:void 0},_O=D(ih),gO="Unsafe",yO=e=>{if(!u(e))return gO;const{secureMode:t}=e;return t&&-1!==_O.indexOf(t)?t:gO},fO=dl({adType:"inpage",replayMode:null,stick:!1},AO,pO),SO=cl({adType:"midroll",broadcastReplace:!1},AO,{repeatAfter:0,maxRepeatCount:0,repeatNumber:0,timeOffset:10},pO),TO=ul({adType:"postroll"},AO,pO),EO={inpage:fO,preroll:mO,midroll:SO,postroll:TO},bO=D(EO),CO=["vastBase64","adBreakType"],OO=["videoContentId"],wO={width:16,height:9},PO={width:"",height:"",marginLeft:"",marginTop:""},IO=(DO=$f,NO=Zf,e=>{let t,i;const r=()=>{DO(i),i=NaN},n=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return r(),i=NO((r=>{i=NaN,t=e.call(this,r,...o)})),t};return n.cancel=r,n});var DO,NO;const RO=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();class kO extends Yc{constructor(e){super(),this.overlapVisibility=new Wh(!1),this.recalculateElementOverlap=IO((()=>{if(this.isDestroyed)return;const e=!Sl(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.params=e,this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(Br(this.recalculateElementOverlap));const{promise:e,clear:t}=eh(0);e.then(this.recalculateElementOverlap).catch(q),this.addDestroyHandler(t)}}const VO=[0,0];class LO extends Yc{constructor(e,t){super(),this.placeholderSlot=e,this.containerElement=t}waitTillContainerVisibleWithOffset(e){const t=this.containerElement.ownerDocument.defaultView.IntersectionObserver;let i=Ae;const r=new Promise((r=>{const n=new t((e=>{let[{isIntersecting:t,intersectionRatio:n}]=e;(t||n>0)&&(i(),r())}),{threshold:0,rootMargin:e+" 0px"});n.observe(this.containerElement),i=()=>{n.disconnect()}}));return this.addDestroyHandler(i),r}whenCanShow(){const e=this.placeholderSlot,t=og;if(z("whenCanShow: start logic with threshold=[0.5]"),function(e,t){return ue(e.ownerDocument)&&jn(e)>=t}(e,t))return z("whenCanShow: element is already visible"),Promise.resolve(void 0);if(fl(e)&&_l(e))return z("whenCanShow: element is at the end of the <body>"),Promise.resolve(void 0);const i=[],r=()=>{z("whenCanShow: stop logic"),pe(Sd(i,(e=>()=>N(e))))};let n=Ae;if(Du&&!function(e){return e.top!==e.self}(window)){z("whenCanShow: use intersection observer");const i=e.getBoundingClientRect().height*t;this.waitTillContainerVisibleWithOffset("-"+i+"px").then((()=>{z("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+i+"]"),n()})).catch(q)}return i.push(Br((()=>{const i=ue(document),o=jn(e),a=i&&o>=t,s=fl(e)&&_l(e);a||s?(z("whenCanShow: visibility detected by interval isVisible=["+a+"] isAtTheEndOfTheBody=["+s+"]"),n(),r()):z("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+i+"}] elementVisibilityRatio=["+o+"] threshold=["+"0.5]")}))),this.addDestroyHandler(r),new Promise((e=>{n=e}))}getVisualVisibilitySensor(){const e=ig(window)&&"TRUE"===rc.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY"),t=new sg(this.placeholderSlot,{considerDocumentVisibility:!1}),i=new Wh(!1);t.totalVisibilityValueSignal.add((e=>i.dispatch(e)));const r=new Wh(!0);if(!e){const e=new kO({element:this.placeholderSlot,points:[VO]});r.dispatch(e.overlapVisibility.getValue()),this.addDestroyHandler(e.overlapVisibility.add(r)),this.addDestroyHandler((()=>{e.destroy()}))}const n=new Wh(t.totalVisibilityValueSignal.getValue()&&r.getValue());return En([i,r],((e,t)=>e&&t),(e=>n.dispatch(e))),this.addDestroyHandler((()=>{r.removeAll(),t.destroy()})),n}waitForWarmingUpPosition(){return Du?this.waitTillContainerVisibleWithOffset("200%"):Promise.resolve()}}const BO="_displayController_"+Math.floor(1e3*Math.random());class MO extends class{constructor(e){var t;this.adStarted=!1,this.paused=!0,t=e,this[BO]=t,bl(this).onBeforeAdStart.add((e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(Kg){console.error(Kg)}})),bl(this).onAdStartRejected.add((()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(Kg){console.error(Kg)}})),bl(this).onAdStart.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(Kg){console.error(Kg)}})),bl(this).onAdMediaStart.add((e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{z("PublicController: call onPlayStateChanged(true) within onAdMediaStart"),this.onPlayStateChanged(!0)}catch(Kg){console.error(Kg)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(Kg){console.error(Kg)}})),bl(this).onAdMediaEnd.add((e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(Kg){console.error(Kg)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(Kg){console.error(Kg)}if("function"===typeof this.onPlayStateChanged)try{z("PublicController: call onPlayStateChanged(false) within onAdMediaEnd"),this.onPlayStateChanged(!1)}catch(Kg){console.error(Kg)}})),bl(this).onAdEnd.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(Kg){console.error(Kg)}})),bl(this).onClickThrough.add((()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(Kg){console.error(Kg)}})),bl(this).onAdSkipped.add((e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(Kg){console.error(Kg)}})),bl(this).onAdPodClose.add((()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(Kg){console.error(Kg)}}));const i=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{z("PublicController: call onPlayStateChanged(true) within start or resume"),this.onPlayStateChanged(!0)}catch(Kg){console.error(Kg)}};bl(this).onAdPodResume.add(i),bl(this).onAdPodStart.add(i),bl(this).onAdPodPause.add((()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{z("PublicController: call onPlayStateChanged(false) within onAdPodPause"),this.onPlayStateChanged(!1)}catch(Kg){console.error(Kg)}})),bl(this).adSkippableState.add((e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(Kg){console.error(Kg)}})),bl(this).onAdPodImpression.add((()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(Kg){console.error(Kg)}})),bl(this).adContentSize.add((()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(Kg){console.error(Kg)}})),bl(this).adPodRemainingTime.add((()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(Kg){console.error(Kg)}}))}getCurrentContentType(){const e=bl(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=bl(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===bl(this).getVolume());const t=async()=>{bl(this).setMuted(bl(this).autoplayAbilitySignal.getValue().requireMute||e);try{await bl(this).play()}catch(hw){Xc.error({error:new fc(hw,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===bl(this).getCurrentContentType()?bl(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){bl(this).pause()}skip(){Xc.event({name:"PublicControllerSkip",probability:lc,data:{}}),bl(this).skipAllViewers()}clickThrough(){bl(this).clickThrough({},"PublicControllerMethodCall")}getPaused(){return bl(this).getPaused()}getMuted(){return 0===bl(this).getVolume()}getVolume(){return bl(this).getVolume()}setVolume(e){bl(this).setVolume(e)}getDuration(){return bl(this).getDuration()}getAdWidth(){return bl(this).getAdWidth()}getAdHeight(){return bl(this).getAdHeight()}getCurrentTime(){return bl(this).getCurrentTime()}getAdSkippableState(){return bl(this).adSkippableState.getValue()}getAdContentSize(){return bl(this).adContentSize.getValue()}setStatsRootFields(e){Xc.event({name:"UsingSetStatsRootFieldsInPublicController",probability:lc,data:void 0}),Xc.setRootFields(e)}destroy(){bl(this).destroy({reason:"stopAd",details:void 0})}setControlsVisibility(e){bl(this).setPublicApiControlsSettings(e)}}{constructor(e){super(e.displayController),this.play=e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e)),this.resume=()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume()),this.pause=()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()),this.params=e}}let xO=!1;const UO=()=>{xO=!0},FO=()=>{xO=!1},HO=()=>xO,zO={stickTo:"auto",stickyColorScheme:"dark"},jO=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class WO extends Yc{constructor(){super(),this.initialState="Inline",this.currentState=this.initialState,this.transitionWays={Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"},this.onStateChange=[],this.subscribeForStateTransition=(e,t)=>this.subscribeForStateChange((i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler((()=>{this.onStateChange.length=0}))}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=cc(this.onStateChange,(t=>t!==e))}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var GO=e(9881),YO=e.n(GO);const{locals:XO}=YO(),KO=e(4738);class qO extends Yc{constructor(e){super(),this.setDescription=Ae,this.description="",this.withDisabledAnimation=e=>{this.setAnimationEnabled(!1),e(),this.params.layout.stickyWrapperElement.offsetLeft,this.setAnimationEnabled(!0)},this.waitForAnimationEnd=()=>{const e=eh(400),t=e=>e.target===this.params.layout.stickyWrapperElement&&("width"===e.propertyName||"transform"===e.propertyName);let i=Ae;const r=new Promise((e=>i=ve({element:this.params.layout.stickyWrapperElement,eventName:"transitionend",listener:i=>{t(i)&&e()}}))),n=()=>{e.clear(),i()};this.addDestroyHandler(n);return Promise.race([e.promise,r]).then(n)},this.params=e,this.render(),this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper,!0),jO(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__variant__flyroll,!0):this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__variant__covering,!0)}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=jO(this.params.stickyConfig.stickTo)||(e=>{let{adWidth:t,adHeight:i,windowWidth:r,description:n,isAdaptiveCreative:o}=e;if(!n)return!1;if(o)return!0;const a=t/i*180;return!!Ee(a)&&a/r<.55})({adWidth:(null==e?void 0:e.width)||0,adHeight:(null==e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__additionalContent_enabled,t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":case"Attached":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__unAnimated,!0)}render(){const e=this.params.layout.stickyWrapperElement,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler((()=>{me(t),me(i)}))}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,XO.yaInpageAdditionalContent,!0),jO(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,XO.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{if("dark"===this.params.stickyConfig.stickyColorScheme)this.toggleClassName(e,XO.yaInpageAdditionalContent_dark,!0);else Ae();e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,XO.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,XO.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(ve({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,XO.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,XO.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(ve({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,XO.yaInpageCross,!0),e.innerHTML=KO,this.addDestroyHandler(ve({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:r}=e;return i?r.add(t):r.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.layout.stickyWrapperElement,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__sticky,e),jO(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__sticky__covering,e),!jO(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:Ae()}}setAttachStateClassNames(e){this.toggleStickyWrapperClassName(XO.yaInPageStickyWrapper__detached,!e)}}const QO={covering:{x:0,y:0},flyroll:{x:32,y:24}};class JO{constructor(e){this.intrinsicStickPosition={horizontal:"right",vertical:"bottom"},this.params=e,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},(()=>this.actualizeStickPosition()))}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return jO(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:320,height:180}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=jO(this.params.stickyConfig.stickTo)?QO.flyroll:QO.covering,i={x:jO(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:r,scale:n,translation:o}=(e=>{let{direction:t,offsets:i,getInpageCurrentRect:r,getViewDimensions:n,getStickyDimensions:o,getPlaceholderDimensions:a}=e;const s=i.x*-t.x,l=i.y*-t.y,d=r(),c=d.left,u=d.top,h=n(),p={x:(-1===t.x?0:h.width-d.width)-c+s,y:(-1===t.y?0:h.height-d.height)-u+l},A=o(),m=a(),v={x:A.width/m.width,y:A.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:v}})({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:r,transform:"translate("+o.x+"px, "+o.y+"px) scale("+n.x+", "+n.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return Cl({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getStickyWrapperDOMRect(),{width:o,height:a}=this.getViewDimensions(),s="bottom"===e.vertical?a-n+"px":"";return Cl({top:"top"===e.vertical?r+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?o-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=jO(this.params.stickyConfig.stickTo)?QO.flyroll:QO.covering,i="top"===e.vertical?t.y+"px":"",r="bottom"===e.vertical?t.y+"px":"",n="left"===e.horizontal?t.x+"px":"",o="right"===e.horizontal?t.x+"px":"",a=this.getStickyDimensions();return{top:i,right:o,bottom:r,left:n,width:jO(this.params.stickyConfig.stickTo)?a.width+"px":"100%",height:a.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getPlaceholderDOMRect(),{left:o,right:a,top:s,bottom:l,width:d,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-r+"px":"",bottom:"bottom"===e.vertical?n-l+"px":"",left:"left"===e.horizontal?o-t+"px":"",right:"right"===e.horizontal?i-a+"px":"",width:d+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const ZO=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class $O{constructor(e){this.storedStyles=[],this.elements=e}save(){Cd(this.elements,(e=>{this.storedStyles.push(this.extract(e))}))}restore(){Cd(this.elements,((e,t)=>{Un(e,this.storedStyles[t])})),this.storedStyles.length=0}extract(e){return Kd(ZO,((t,i)=>(t[i]=e.style[i],t)),{})}}class ew extends Yc{constructor(e){super(),this.handleWindowResize=IO((()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),this.setDescription=e=>this.stickyInpageLayout.setDescription(e),this.handleFromInlineToDetachTransition=()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation((()=>{Un(this.params.layout.stickyWrapperElement,Ol({position:"fixed"},this.stickyPositioning.getDetachedStateRect()))})),jO(this.stickyConfig.stickTo)||Un(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions())),this.stickyInpageLayout.handleClassNames()},this.handleFromDetachToStickyTransition=async()=>{jO(this.stickyConfig.stickTo)?Un(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles()):(Un(this.params.layout.stickyWrapperElement,this.stickyPositioning.getStickyStateRect()),Un(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation((()=>{Un(this.params.layout.stickyWrapperElement,Ol({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()))})),this.stickyInpageLayout.handleClassNames()},this.handleFromStickyToAttachTransition=async()=>{this.stickyInpageLayout.withDisabledAnimation((()=>{Un(this.params.layout.stickyWrapperElement,Ol({position:"absolute"},this.stickyPositioning.getAttachedStateRect()))})),this.stickyInpageLayout.handleClassNames()},this.handleFromAttachToInlineTransition=async()=>{this.stickyInpageLayout.handleClassNames(),jO(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation((()=>{Un(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect())})),this.stickyInpageLayout.withDisabledAnimation((()=>{Un(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles())})),Un(this.params.layout.stickyWrapperElement,{transform:""},!0)):(Un(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect()),Un(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation((()=>this.stylesStore.restore()))},this.params=e,this.win=this.params.layout.containerWindow,this.stickyFSA=new WO,this.addDestroyHandler((()=>this.stickyFSA.destroy())),this.stickyConfig=Ol({},zO,Gs(this.params.stickyConfig)),this.stickyInpageLayout=new qO({stickyFSA:this.stickyFSA,layout:this.params.layout,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler((()=>this.stickyInpageLayout.destroy())),this.stickyPositioning=new JO({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.layout.placeholderElement.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect()}),this.stylesStore=new $O([this.params.layout.stickyWrapperElement,this.params.layout.wrapperElement]),this.addDestroyHandler(ve({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}class tw extends Yc{constructor(e){var t;super(),this.replayMode=null,this.pausedByContainerVisibility=!1,this.pausedByDocumentVisibility=!1,this.isSticky=new Wh(!1),this.documentVisibility=new Wh(!1),this.pauseByPublicMethodSignal=new Wh(!1),this.packshotPlayingState=new Wh(!1),this.showAds=async e=>{const{layout:t}=this.params,[i]=e.slice(-1),{vastAd:r}=i,{clickThrough:n}=r,o=Ra(r,this.params.layout.placeholderSize.getValue());o&&"manual"===this.replayMode&&(z("InPage: packshot image found for manual mode ["+o+"]"),this.displayController.onAdPodThirdQuartile.addOne((()=>{Se(o)})));try{let i;if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.onAdMediaStart.addOne((e=>{let{viewer:t}=e;i=t})),this.displayController.autoplayAbilitySignal.getValue().requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.add((()=>{(this.displayController.getViewersWithVideoCountBeforeCurrent()>0||!this.displayController.autoplayAbilitySignal.getValue().requireUserGesture)&&this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")})),z("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),Xc.event({name:"InPageWaitingForUserGesture",probability:lc,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})):(z("inPage: start to play ad"),this.displayController.play().catch((e=>{Xc.error({error:new fc(e,{code:"InPageOnReadyPlayError"})})})),Xc.event({name:"InPageAutoplay",probability:lc,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if("manual"===this.replayMode){const e=t.packshotContainer;t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),z("inPage: ad played. show packshot");const{disableObjectFit:a,disableOverlay:s,disableButton:l}=this.params.adConfig.packshotSettings||{};o?Xc.event({name:"InPagePackshotBackgroundImage",data:{vastAd:r}}):this.displayController.isLastAdPodRetainedMedia()?(a||(t.videoSlot.style.objectFit="cover"),Xc.event({name:"InPagePackshotBackgroundLoopedVideo",probability:lc,data:{vastAd:r}})):Xc.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:r}});const d=!0===l?void 0:this.getThemeEmptyParameters(n,r),{title:c,hasTitle:u}=Me(r.adParametersObject),h=this.displayController.isLastAdPodRetainedMedia()?this.displayController.videoNodeController:void 0,p=new Nf({parent:e,parentSize:t.videoSlotContainerSize,packshotNewDesignMode:"OFF",videoNodeController:h,imageUrl:o,win:t.containerWindow,clickUrl:n,disableOverlay:s,descriptionText:r.description,duration:1/0,title:!1===u?void 0:c,themeEmptyParameters:d,lang:this.displayController.playbackParameters.lang,openClickThroughUrl:()=>{var e;null==(e=i)||e.clickThrough({url:n,id:void 0,playerHandles:void 0})}});this.packshotPlayingState.add((e=>{p.setPlaying(e)})),this.addDestroyHandler((e=>{let{reason:t}=e;"unload"!==t?p.destroy({reason:"stopAd",details:void 0}):p.destroy({reason:"unload",details:void 0})}))}else z("inPage: finish playing ad"),this.isSticky.getValue()&&await this.turnOffStickyMode({animated:!0}),this.destroy({reason:"adComplete",details:void 0})}catch(hw){this.destroy(hw)}},this.handleDocumentVisibilityChange=e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(z("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,Xc.event({name:"InPageDocumentVisibilityResume",probability:lc,data:{}})):(z("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,Xc.event({name:"InPageDocumentVisibilityPause",probability:lc,data:{}}))},this.handleVisibilityChange=e=>{this.documentVisibility.getValue()&&(this.packshotPlayingState.dispatch(e),e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(z("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):!this.isSticky.getValue()&&this.pausedByContainerVisibility&&this.displayController.getPaused()&&(z("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),Xc.event({name:"InPageElementVisibilityResume",probability:lc,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(z("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isSticky.getValue()||this.pausedByContainerVisibility||this.displayController.getPaused()||(z("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),Xc.event({name:"InPageElementVisibilityPause",probability:lc,data:{}})))},this.onceWhenCanShowInpage=()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(Kg){console.error(Kg)}},this.handleStickyInpageCrossClick=()=>{this.stickyInPageController&&(z("inPage: handle cross click"),Xc.event({name:"InPageStickyCrossClick",probability:lc,data:{}}),this.turnOffStickyMode({animated:!0}),this.placeholderVisibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))},this.makeStickAction=async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(hw){Xc.error({error:new fc(hw,{code:"InPageOnStickError"})})}},this.handlePauseByMethodCall=e=>{e&&this.isSticky.getValue()&&(z("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))},this.params=e,z("inPage: run constructor"),this.addDestroyHandler((e=>{z("inPage: destroy error=["+JSON.stringify(e)+"]")}));const{layout:i,adConfig:r,initialContainerRect:n}=e,{containerElement:o,placeholderElement:a,placeholderSize:s,videoSlotContainerSize:l,wrapperElement:d}=i;this.replayMode="replayMode"in r?r.replayMode:null,this.isContainerSizeFixed=n.height>0,z("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(n)+"]"),this.isContainerSizeFixed?(Un(a,{height:"100%"}),Un(o,{height:"100%"})):(z("inPage: adjust to default ad size"),wl({placeholderElement:a,placeholderWidth:s.getValue().width,adContentSize:wO})),this.placeholderVisibilitySlot=null!=(t=r.visibilitySlot)?t:a;const c=ig(window)&&"TRUE"===rc.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY"),u=new F_(d),h=new sg(d,{numberOfMeasurementSteps:10}),p=new sg(this.placeholderVisibilitySlot,{numberOfMeasurementSteps:10,enableTrackVisibility:c}),A=Mn([this.isSticky,p.totalVisibilityRatioValueSignal,h.totalVisibilityRatioValueSignal],((e,t,i)=>e?i:t)),m=Mn([this.isSticky,s,u.onResize],((e,t,i)=>e?i:t));this.addDestroyHandler((()=>{u.destroy(),h.destroy(),p.destroy(void 0),A.teardown(),m.teardown()}));const v={element:this.placeholderVisibilitySlot,size:m.valueSignal,visibilityRatio:A.valueSignal},_=Pl({},r,{backgroundBlur:!1},"manual"===this.replayMode?{packshotSettings:{isEnabled:!1}}:{}),g=new CS({config:_,videoNode:i.videoSlot,videoWrapperNode:i.slot,backgroundSlot:i.backgroundContainer,visibilitySlotParameters:v,skinParameters:{renderSkinFunction:KC,skinVariant:"videoInCombo"},measurersSlot:r.visibilitySlot,retainLastMediaAfterPlayback:"manual"===this.replayMode});this.displayController=g,this.subscribeDisplayControllerEvents(g);const y=new LO(this.placeholderVisibilitySlot,this.params.layout.containerElement);this.addDestroyHandler((()=>y.destroy()));const f=Mn([y.getVisualVisibilitySensor(),p.totalVisibilityRatioValueSignal],((e,t)=>e&&t>=og));this.addDestroyHandler((()=>{f.teardown()})),this.placeholderVisibility=f.valueSignal;const S=new Wh(Nn(i.videoSlot),fa);if(this.addDestroyHandler(is(i.videoSlot,(e=>S.dispatch(e)))),this.addDestroyHandler((()=>{S.removeAll()})),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=r;e&&this.addDestroyHandler(En([l,S],((t,i)=>Er({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e})),(e=>{const t=l.getValue(),r=S.getValue();z("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(t)+"] adContentSize=["+JSON.stringify(r)+"]");const n=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:r,multiplier:n}}=e;if(1===n||!t||!i)return;const o=r?t:i,a=r?i:t,s=a*n,l=a*(n-1)*-1/2;return{width:r?o:s,height:r?s:o,marginLeft:r?0:l,marginTop:r?l:0}}({slotSize:t,videoEarsCompensation:e}),o=n?ae(n,(e=>e+"px")):PO;Un(i.videoSlot,o)})))}else{const e=e=>{wl({placeholderElement:a,placeholderWidth:s.getValue().width,adContentSize:e})};e(g.adContentSize.getValue()),this.addDestroyHandler(g.adContentSize.add(e))}this.displayController.abuseDisplayStatus.add((e=>{if("hidden"===e){this.displayController.pauseByOpenAbuseScreen.getValue()&&this.placeholderVisibility.getValue()&&this.displayController.resume()}})),this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(ue(i.containerDocument)),this.addDestroyHandler(Wn(i.containerDocument,(e=>this.documentVisibility.dispatch(e)))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler((()=>{this.pauseByPublicMethodSignal.removeAll(),this.isSticky.removeAll(),this.packshotPlayingState.removeAll()})),this.publicController=new MO({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController});let{backgroundSlot:T}=r;T||(T=i.backgroundContainer);const E=new eS({container:T,videoNode:i.videoSlot});Xc.event({name:"InitBackgroundBlurInPage",data:{},probability:lc}),r.backgroundSlot?E.setPlaying(!0):this.addDestroyHandler(En([S,l],((e,t)=>{if(void 0===e)return!1;const i=t.width/t.height,r=e.width/e.height-i;return Math.abs(r)>.1}),(e=>{E.setPlaying(e)}))),this.addDestroyHandler((()=>{E.destroy()})),i.makeVisible(),z("inPage: call constructor callback"),this.processInPage(y).catch((e=>this.destroy({reason:"error",details:e})))}async processInPage(e){const{adConfig:t,layout:i}=this.params,r=e.whenCanShow();z("inPage: create adLoader");const n=function(e){const{config:t}=vl(e);return t?new aO(t):null}({rawAdConfig:Pl({},t,{adBreakType:"inpage"}),adPlacementOptions:this.displayController.getAdPlacementOptions()});if(!n)throw new fc({code:"FAILED_TO_CREATE_INPAGE_AD_LOADER",details:void 0});this.addDestroyHandler((()=>{n.destroy()}));const o=n.getInPageBlock();if(!o)throw new fc({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:t}});(e=>{let{win:t,inPageConfig:i,adBreak:r}=e;return!q_(t)&&("boolean"===typeof i.stick?i.stick:r.stick)})({win:window,inPageConfig:t,adBreak:o})&&(z("inPage: initialize sticky"),this.stickyConfig=Pl({stickTo:o.stickTo,stickyColorScheme:o.stickyColorScheme},Gs(Ys(t))),this.stickyInPageController=new ew({layout:i,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough({},"StickyInPageActionButton"),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler((()=>{this.turnOffStickyMode({animated:!1})}))),z("inPage: wait for loadAd");const a=await this.loadAd(n,o);Du&&(z("inPage: wait for warming up"),await Promise.race([e.waitForWarmingUpPosition(),r])),z("inPage: warm up ad"),await this.warmAdUp(a),z("inPage: wait till visible"),await r;ig(window)&&"TRUE"===rc.getFlagValueAndActivateTestId("VAS_ENABLE_INTERSECTION_OBSERVER_TRACK_VISIBILITY")&&!this.placeholderVisibility.getValue()&&(z("inPage: wait for placeholder visibility"),await this.placeholderVisibility.promise()),z("inPage: visibility reached"),this.onceWhenCanShowInpage();let s=this.showAds(a);"auto"===this.replayMode&&this.displayController.onAdEnd.add((async()=>{if(!this.displayController.areAllAdPodsCompleted())return z("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy({reason:"stopAd",details:void 0});z("inPage: all AdPods has been completed"),await s,this.isDestroyed||(z("inPage: play ad again"),Xc.event({name:"InPageReplayAdAutomatically",probability:lc,data:{}}),s=this.showAds(a))}))}subscribeDisplayControllerEvents(e){e.addDestroyHandler((e=>this.destroy(e))),e.onAdPodStart.addOne((async()=>{this.placeholderVisibility.add(function(e,t,i,r){function n(){null!==o&&clearTimeout(o),o=null}3===arguments.length&&"boolean"!==typeof i&&(r=i,i=!1);let o=null;const a=function(){const a=arguments;r=r||this,i&&null===o&&e.apply(r,a),n(),o=window.setTimeout((function(){i||e.apply(r,a),o=null}),t)};return a.cancel=n,a}((e=>{z("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)}),400));const e=this.placeholderVisibility.getValue();z("handle AdPodStart with visualVisibilityValue=["+e+"] visibility=["+this.displayController.visibilitySlotParameters.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(e)})),e.onAdStop.add((()=>{this.displayController.destroy({reason:"stopAd",details:void 0})})),e.onAdMediaStart.add((e=>{var t;let{viewer:i}=e;null==(t=this.stickyInPageController)||t.setDescription(i.mediaAd.vastAd.description)}))}async loadAd(e,t){const i=await e.load(t);return i.length>1&&Xc.event({name:"InPageHasMultipleMediaAds",probability:lc,data:{mediaAdsCount:i.length}}),i}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(Ae),await this.displayController.prepareToPlayAd(e)}async warmAdUp(e){const{layout:t}=this.params;Xc.event({name:"InPageWarmUpStart",probability:lc,data:{relativeCoordinates:Fn(t.videoSlot),verticalScroll:N((()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop))}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},r=this.changeStickyState({willBeSticky:!1,animated:t});return ku(r)?r.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isSticky.getValue()!==t&&(t&&HO()?(z("InPage: cannot transition INTO sticky because of lock"),!1):t&&this.displayController.getPaused()?(z("InPage: cannot transition INTO sticky because of paused state"),!1):(z("InPage: can change sticky state: return willBeSticky="+t),!0)))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:r}=this;if(!r)return;const n=()=>{const e=this.stickyConfig.stickTo;Xc.event({name:"InPageChangeStickyState",probability:lc,data:{willBeSticky:t,stickTo:e}});const n=!t;if(this.displayController.setSkinControlHideReason("timeline",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",n,"INPAGE_STICKY_RETAINS_CONTROL"),z("inPage: change sticky state, willBeSticky=>"+t),t)return UO(),this.isSticky.dispatch(!0),this.displayController.setBlurDisplay(!1),i?r.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};FO(),this.isSticky.dispatch(!1);const t=i?r.unSticky():void 0;return t?t.then(e).catch(q):e(),t}};return i?this.makeStickAction(n):n()}getThemeEmptyParameters(e,t){const i=this.displayController.themeEmptyParameters.getValue();if(void 0!==i)return i;return{ageRestriction:void 0,body:void 0,clickUrl:e,greenUrl:void 0,label:t.adParametersObject&&Da(t.adParametersObject)||qu("LEARN_MORE",this.params.adConfig.lang),punyDomain:void 0,title:void 0,showTitleAndBody:!0}}}const iw=function(e){void 0===e&&(e=window);try{const t=e.document;if(!Boolean(t.body.attachShadow))return!1;const i=t.createElement("div");return $r(function(e,t){try{if(d(e.attachShadow))return e.attachShadow(t);if(d(e.createShadowRoot))return e.createShadowRoot();if(d(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(Kg){}return null}(i,{mode:"open"}))}catch(t){return!1}},{locals:rw}=YO();class nw extends Yc{constructor(e){super(),this.containerElement=e,this.containerWindow=N((()=>e.ownerDocument.defaultView),(e=>{Xc.error({error:new fc(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})}))||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.classList.add(rw.yaInPagePlaceholderElement),this.placeholderElement=t;const i=this.containerDocument.createElement("div");Un(i,{width:"100%",height:"100%"}),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(rw.yaInPageWrapper),this.wrapperElement=r,this.stickyWrapperElement.appendChild(this.wrapperElement),this.backgroundContainer=document.createElement("div"),Un(this.backgroundContainer,{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this.wrapperElement.appendChild(this.backgroundContainer),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(rw.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer),this.slot=this.containerDocument.createElement("div"),this.slot.classList.add(rw.InPageLayout__slot),this.wrapperElement.appendChild(this.slot),this.packshotContainer=this.containerDocument.createElement("div"),this.packshotContainer.classList.add(rw.InPageLayout__packshotContainer),this.wrapperElement.appendChild(this.packshotContainer),this.videoSlot=(e=>{const t=function(e){return e.createElement("video")}(e);var i;return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=.5,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(rw.InPageLayout__videoSlot),(i=t).setAttribute("playsinline","playsinline"),i.setAttribute("webkit-playsinline","webkit-playsinline"),t})(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.containerElement.appendChild(this.placeholderElement);const n=ra(this.containerElement,YO().toString());this.addDestroyHandler((()=>{me(n)}));const o=new F_(t);this.placeholderSize=o.onResize,this.addDestroyHandler((()=>o.destroy()));const a=new F_(this.videoSlotContainer);this.videoSlotContainerSize=a.onResize,this.addDestroyHandler((()=>a.destroy()))}makeVisible(){Un(this.placeholderElement,{visibility:"visible"})}setPackshotContainerVisibility(e){Un(this.packshotContainer,{display:e?"block":"none"})}setSlotVisibility(e){Un(this.slot,{display:e?"block":"none"})}}const ow=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:r,win:n=window}=e;const o=N((()=>n.document.querySelectorAll(""+i))),a={insertAfter:null,insertInto:null,win:n};if(!o||0===o.length||!m(i)||!i)return a.insertInto="string"===typeof t?n.document.getElementById(t):t,a;const s=r||0;if(!x(parseInt(""+s,10))&&!/^\d+%$/.test(""+s)&&!/^\d+$/.test(""+s))throw new fc({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:r,insertAfter:i}});const l=o.length;if(0===l)return a;const d=((e,t)=>{let i=m(e)?parseInt(e,10):e;if(m(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else Ee(i)&&(i-=1);return i=W(i,0,t-1),i})(s,l),c=o[d];return a.insertAfter=c,a},aw=e=>{let{insertAfter:t,insertInto:i}=e;return null!=t?t:i},sw=p(window.WeakSet)?new window.WeakSet:[],lw={place(e){const t=aw(e);return wd(sw)?sw.push(t):sw.add(t)},free(e){const t=aw(e);return wd(sw)?sw.splice(sw.indexOf(t),1):sw.delete(t)},isFree(e){const t=aw(e);return wd(sw)?-1===sw.indexOf(t):!1===sw.has(t)}},dw=(e,t)=>{z("inPage: normalizeInPageConfig");const i=(e=>{if(!u(e))throw new fc({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Ua(Mt(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&ye(e.vastUrl)&&(i=w(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:r}=e;if(void 0!==r&&(!j(r)||r>=1))throw new fc({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:r}});let n;if(Z_(e.visibilitySlot))n=e.visibilitySlot,Xc.event({name:"UsingVisibilitySlot",probability:lc,data:{config:e}});else if(void 0!==e.visibilitySlot)throw new fc({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}});const o="EXP"===rc.getFlagValueAndActivateTestId("VAS_INPAGE_STICKY_DISABLED");return Il({},e,{visibilitySlot:n,controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!=r?r:0,stick:!o&&e.stick,stickTo:o?void 0:e.stickTo})})(t),{insertPosition:r,insertAfter:n}=i;z("inPage: prepareGetOrCreateContainerElementParams");const o=ow({insertPosition:r,insertAfter:n,containerElementOrId:e});if(a=o,!Boolean(a.insertAfter||a.insertInto))throw new fc({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});var a;if(!lw.isFree(o))throw new fc({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});lw.place(o);const s=(e=>{let{insertAfter:t,insertInto:i,win:r=window}=e;if(void 0===t||null===t)return i;const n=r.document.createElement("div");return t.parentNode.insertBefore(n,t.nextSibling)})(o),l=s.getBoundingClientRect();if(0===l.width)throw new fc({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:n,insertPosition:r,containerRect:l}});const d=s.ownerDocument.defaultView,c=ya(s);let h;iw(d)&&!c&&Xc.error({error:new fc({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:N((()=>s.outerHTML))}})}),z("inPage: create InPageLayout"),c?h=c:(h=document.createElement("div"),s.appendChild(h));const p=new nw(h);return p.addDestroyHandler((()=>{lw.free(o)})),{layout:p,adConfig:i,initialContainerRect:l,containerElementByParams:s}},cw=("y"===V(window,"adsdkgrforced")?100:1)/100,uw="https://"+jd+"/captchapgrd";Qa(window,{videoAd:{loadedModules:{["InPage"]:{addInPageVideo:(e,t,i)=>{z("inPage: add inpage video");const r="function"===typeof i?ge(i,"INPAGE_CALLBACK_ERROR"):Ae;let n;try{n=dw(e,t)}catch(hw){return z("inPage: prepareInPageParameters error=["+hw+"]"),De(hw),void r(hw)}Xc.event({name:"AddInPageVideo",probability:lc,data:{adConfig:t,containerElementOrId:String(e),containerRect:n.initialContainerRect}});try{const e=new tw(n);z("inPage: call public callback"),r(e.publicController),e.addDestroyHandler((e=>{me(n.containerElementByParams),n.layout.destroy(),"error"===e.reason&&e.details&&(De(e.details),r(e.details))})),e.addDestroyHandler(_e((()=>{e.destroy({reason:"unload",details:void 0})}),null!=Wl?Wl:window))}catch(hw){z("inPage: create InPage error=["+hw+"]"),Xc.error({error:new fc(hw,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),r(hw)}}}}}},"ya"),!0===(!rc.isTestIdActivated("VAS_LOAD_GR_ON_SMALL_PERCENT")&&!!Xc.shouldLogEventWithProbability(lc)&&!!Xc.shouldLogEventWithProbability(cw)&&("TRUE"===rc.getFlagValueAndActivateTestId("VAS_LOAD_GR_ON_SMALL_PERCENT")||void 0))&&(e=>{const t=xr(e);if(!t)return void Xc.event({name:"GrCannotCreateIframe",data:void 0});const i=()=>{me(t)},r=t.contentWindow;(async e=>{var t;const i=Date.now();try{await or({src:uw,win:e}).promise}catch(hw){return void Xc.event({name:"GrCannotLoadScript",data:{error:hw}})}const r=Date.now(),n=r-i,o=e,a=null!=(t=o.PGreed)?t:o.Greed;if(a)try{const e=await a.safeGet(2e3),t=Date.now()-r;Xc.event({name:"GrData",data:{data:e,spentOnGet:t,spentOnScriptLoad:n}})}catch(hw){Xc.event({name:"GrGetError",data:{error:hw}})}else Xc.event({name:"GrNoVariable",data:void 0})})(r).then(i).catch(i)})(window.document.body)}()}();