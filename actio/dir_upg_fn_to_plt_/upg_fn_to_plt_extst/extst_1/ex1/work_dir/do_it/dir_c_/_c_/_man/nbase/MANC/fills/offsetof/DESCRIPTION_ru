Макрокоманда offsetof() возвращает смещение поля member от начала структуры type.
Эта макрокоманда удобна, так как размеры полей, составляющих структуру, могут значительно изменяться в зависимости от реализаций, а компиляторы могут добавлять различное количество дополнительных байт между полями. Следовательно, смещение элемента не всегда является суммой размеров предыдущих элементов.

Если member не выровнен по границе байта (т.е., если это битовое поле), то компилятор вернёт ошибку.