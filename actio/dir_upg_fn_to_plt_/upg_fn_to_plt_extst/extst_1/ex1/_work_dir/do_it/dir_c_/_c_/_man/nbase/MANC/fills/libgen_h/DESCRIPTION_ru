Предупреждение: есть две разных функции basename() — смотрите далее.
Функция dirname() и basename() разделяют строку с путём, заканчивающуюся null, на каталог и имя файла. Обычно, dirname() возвращает строку до последнего символа '/', не включая его, а basename() возвращает часть, следующую за последним символов '/'. Конечные символы '/' не считаются частью пути.

Если path не содержит косую черту, то dirname() возвращает строку «.», а basename() возвращает копию path. Если строка path равна «/», то dirname() и basename() возвращают строку «/». Если значение path равно указателю null или указывает на пустую строку, то dirname() и basename() возвращают строку «.».

Если объединить строку, возвращаемую dirname(), «/» и строку, возвращаемую basename(), то получится первоначальный путь.

Функции dirname() и basename() могут изменить содержимое path, поэтому желательно передавать копию строки при их вызове.

Данные функции могут возвращать указатели на статически выделенную память, которая может измениться при последующих вызовах. Или же они могут возвращать указатель на часть path, поэтому строка, на которую ссылается path, не должна изменяться или освобождаться до тех пор, пока указатель, возвращаемый функцией, станет ненужным.

В следующих примерах (взяты из SUSv2) показаны строки, возвращаемые dirname() и basename() для различных путей:

путь	dirname	basename
/usr/lib	/usr	lib

/usr/	/	usr

usr	.	usr

/	/	/

.	.	.

..	.	..

