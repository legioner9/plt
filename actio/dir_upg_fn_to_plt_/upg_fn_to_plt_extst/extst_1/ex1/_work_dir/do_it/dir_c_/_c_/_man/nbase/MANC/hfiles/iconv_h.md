### UP
[iconv.h](##iconv.h)
[MAIN](##MAIN)
[MAIN_ru](##MAIN_ru)
[ANCORS](##ANCORS)
[ISU](##ISU)
[inet](##A_inet)
[inet](##books_inet)
[inet](##examples_inet)
[inet](##classic_inet)
[inet](##enters_inet)
[inet](##issue_code_inet)
[H_FILE](##H_FILE)
[H_SYNOPSIS](##H_SYNOPSIS)
[H_BUGS](##H_BUGS)
[H_DESCRIPTION_ru](##H_DESCRIPTION_ru)
[H_DESCRIPTION](##H_DESCRIPTION)
[H_ERRORS](##H_ERRORS)
[H_MIRRORS](##H_MIRRORS)
[H_EXAMPLES](##H_EXAMPLES)
[H_CODE_h](##H_CODE_h)
[H_CODE_c](##H_CODE_c)
[H_CODE_m](##H_CODE_m)
[H_BOOKS](##H_BOOKS)
[H_BOOKS_ru](##H_BOOKS_ru)
[H_SUBSTANCES](##H_SUBSTANCES)

[cat_hfiles](../cat_hfiles.md)
[cat_utils](../cat_utils.md)
[cat_structs](../cat_structs.md)
[cat_param](../cat_params.md)
[cat_macros](../cat_macross.md)
[cat_const](../cat_consts.md)
[cat_type](../cat_types.md)
[cat_any](../cat_anys.md)

[UP](###UP)
## MAIN
:iconv.h:
[next](##MAIN_ru)

<<MAIN>>
[MAIN](../fills/iconv_h/MAIN)


[UP](###UP)
## MAIN_ru
:iconv.h:
[next](##ANCORS)

----------------------------------------------------- 
-------------------------------------- 
изменяет кодировку символов
-------------------------------------- 
----------------------------------------------------- 
<<MAIN_ru>>
[MAIN_ru](../fills/iconv_h/MAIN_ru)


[UP](###UP)
## ANCORS
:iconv.h:
[next](##ISU)

<<ANCORS>>
[ANCORS](../fills/iconv_h/ANCORS)


[UP](###UP)
## ISU
:iconv.h:
[next](##H_FILE)

<<ISU>>
only read
:iconv.h:
[ISU](../contents)
[next](##inet)


[UP](###UP)
## inet
:iconv.h:
[next](##H_FILE)

[UP](###UP)
## A_inet
[manpages.org](https://www.google.ru/search?q=iconv.h+site%3Ahttps%3A%2F%2Fmanpages.org)
[reposcope.com_ru](https://www.google.ru/search?q=iconv.h+site%3Ahttps%3A%2F%2Freposcope.com%2Fmanpages%2Fru)
[pubs.opengroup.org](https://www.google.com/search?q=iconv.h+https%3A%2F%2Fpubs.opengroup.org)
[manpages.debian.org](https://yandex.ru/search/?text=iconv.h+site%3Ahttps%3A%2F%2Fmanpages.debian.org%2F)
[www.opennet.ru](http://www.opennet.ru/man.shtml?category=2&topic=iconv.h)
[man7.org](https://www.google.ru/search?q=iconv.h+site%3Ahttps%3A%2F%2Fman7.org%2Flinux%2Fman-pages)
[en.cppreference.com](https://www.google.com/search?q=iconv.h+en.cppreference.com)
[www.mankier.com](https://www.mankier.com/?q=iconv.h)
[www.codecogs.com](https://www.google.ru/search?q=iconv.h+https%3A%2F%2Fwww.codecogs.com%2Flibrary%2Fcomputing%2F)
[digitalmars.com](https://www.google.ru/search?q=iconv.h+https%3A%2F%2Fdigitalmars.com%2Frtl%2F)


[UP](###UP)
## books_inet
[cpp.com.ru](https://yandex.ru/search/?text=iconv.h+site%3Ahttps%3A%2F%2Fcpp.com.ru)
[linuxhint.com](https://www.google.ru/search?q=iconv.h+site%3Ahttps%3A%2F%2Flinuxhint.com)
[gnu.org](https://www.google.ru/search?q=iconv.h+site%3Ahttps%3A%2F%2Fwww.gnu.org%2Fsoftware%2Flibc%2Fmanual)

[UP](###UP)
## examples_inet
[yandex:examples](https://yandex.ru/search/?text=iconv.h+example+in+c)
[docs.oracle.com](https://www.google.com/search?q=iconv.h+https%3A%2F%2Fdocs.oracle.com)
[manpages.debian.org](https://yandex.ru/search/?text=iconv.h+site%3Ahttps%3A%2F%2Fmanpages.debian.org%2F)
[osr507doc.xinuos.com](https://www.google.com/search?q=iconv.h+http%3A%2F%2Fosr507doc.xinuos.com%2Fen%2Fman)
[cpp.hotexamples.com](https://cpp.hotexamples.com/examples/-/-/iconv.h/cpp-iconv.h-function-examples.html)
[all-ht.ru](https://yandex.ru/search/?text=iconv.h+site%3Ahttp%3A%2F%2Fall-ht.ru%2Finf%2Fprog%2Fc%2F)
[cppreference.com](https://yandex.ru/search/?text=iconv.h+site%3Ahttps%3A%2F%2Fen.cppreference.com%2Fw%2Fc%2F)

[UP](###UP)
## classic_inet
[bogatyrev_c_unix](https://www.google.com/search?q=iconv.h+site%3Ahttps%3A%2F%2Fcpp.com.ru%2Fbogatyrev_c_unix)
[kr_cbook](https://www.google.com/search?q=iconv.h+site%3Ahttps%3A%2F%2Fcpp.com.ru%2Fkr_cbook)

[UP](###UP)
## enters_inet
[pubs.opengroup.org](https://pubs.opengroup.org/onlinepubs/9699919799/idx/head.html)

[UP](###UP)
## issue_code_inet
[code.woboq.org](https://www.google.com/search?h=&sitesearch=https%3A%2F%2Fcode.woboq.org%2Fuserspace%2Fglibc%2F&q=iconv.h)


[UP](###UP)
## H_FILE [iconv_h.md](iconv_h.md)
:iconv.h:
[next](##H_SYNOPSIS)

[UP](###UP)
## H_SYNOPSIS
:iconv.h:
[next](##H_DESCRIPTION_ru)

----------------------------------------------------- 
-------------------------------------- 
#include <iconv.h>
size_t iconv(iconv_t cd,
char **inbuf, size_t *inbytesleft,
char **outbuf, size_t *outbytesleft);
-------------------------------------- 
----------------------------------------------------- 
<<SYNOPSIS>>
[SYNOPSIS](../fills/iconv_h/SYNOPSIS)


[UP](###UP)
## H_DESCRIPTION_ru
:iconv.h:
[next](##H_DESCRIPTION)

----------------------------------------------------- 
-------------------------------------- 
Функция iconv() преобразует последовательность символов с одной кодировкой в последовательность символов с другой кодировкой. Аргумент cd должен быть дескриптором преобразования, созданным ранее с помощью функции iconv_open(3); дескриптор преобразования определяет кодировки символов, которые iconv() использует для преобразования. Аргумент inbuf содержит адрес переменной, которая указывает на первый символ входной последовательности; в inbytesleft содержится количество байт в этом буфере. В аргументе outbuf содержится адрес переменной, которая указывает на первый байт выходного буфера; в outbytesleft содержится количество байт в выходном буфере.
В основной рабочей ситуации значение inbuf не равно NULL и *inbuf не равно NULL. В этом случае функция iconv() преобразует многобайтовую последовательность с начала *inbuf, в многобайтовую последовательность с начала *outbuf. Максимальное количество считанных байт будет равно *inbytesleft, начиная с *inbuf. Максимальное количество записанных байт будет равно *outbytesleft, начиная с *outbuf.
Функция iconv() преобразует один многобайтовый символ за один раз и после каждого преобразования увеличивает *inbuf и уменьшает *inbytesleft на количество преобразованных входных байт, увеличивает *outbuf и уменьшает *outbytesleft на количество преобразованных выходных байт и обновляет состояние преобразования, содержащееся в cd. Если кодировка входных символов зависит от состояния, то функция iconv() также может преобразовать последовательность входных байт в простое обновление состояния преобразования без создания выходных байт; такие входные данные называются переключающей последовательностью. Процесс преобразования может прерваться в четырех случаях:
1.
Для обработки представлена неправильная многобайтная последовательность. В этом случае переменной errno присваивается значение EILSEQ и возвращается значение (size_t) -1. Значение *inbuf не меняется и указывает на начало неправильной многобайтной последовательности.
2.
Входящая последовательность байтов была полностью перекодирована, то есть *inbytesleft уменьшилось до нуля. В этом случае iconv() возвращает количество необратимых преобразований, выполненных функцией во время работы.
3.
Неполная многобайтовая последовательность получена во входных данных и входная байтовая последовательность после неё заканчивается. В этом случае переменная errno устанавливается равной EINVAL и возвращается (size_t) -1. Значение *inbuf не меняется и указывает на начало неполной многобайтовой последовательности.
4.
В буфере вывода нет места для очередного преобразованного символа. В этом случае значение errno устанавливается равным E2BIG и возвращается (size_t) -1.
Особым случаем считается вариант, когда inbuf равно NULL или *inbuf равно NULL, но при этом outbuf не равно NULL и *outbuf не равно NULL. В этом случае функция iconv() пытается установить состояние преобразования cd в начальное состояние и сохранить переключающую последовательность в *outbuf. Максимальное количество записанных байтов будет равно *outbytesleft, начиная с *outbuf. Если в буфере вывода данных нет места для данной последовательности сброса, то переменная errno устанавливается равной E2BIG и возвращается (size_t) -1. В противном случае увеличивается *outbuf и уменьшается *outbytesleft на количество записанных байтов.
В третьем случае, когда inbuf равно NULL или *inbuf равно NULL, и outbuf равно NULL или *outbuf равно NULL, функция iconv() устанавливает состояние преобразования cd равным начальному состоянию.
-------------------------------------- 
----------------------------------------------------- 
<<DESCRIPTION_ru>>
[DESCRIPTION_ru](../fills/iconv_h/DESCRIPTION_ru)


[UP](###UP)
## H_DESCRIPTION
:iconv.h:
[next](##H_ERRORS)

<<DESCRIPTION>>
[DESCRIPTION](../fills/iconv_h/DESCRIPTION)


[UP](###UP)
## H_ERRORS
:iconv.h:
[next](##H_MIRRORS)

----------------------------------------------------- 
-------------------------------------- 
E2BIG
Недостаточно места в *outbuf.
EILSEQ
Во входных данных находится неправильная многобайтовая последовательность.
EINVAL
Во входных данных находится неполная многобайтовая последовательность.
-------------------------------------- 
----------------------------------------------------- 
<<ERRORS>>
[ERRORS](../fills/iconv_h/ERRORS)


[UP](###UP)
## H_MIRRORS
:iconv.h:
[next](##H_BUGS)

<<MIRRORS>>
[MIRRORS](../fills/iconv_h/MIRRORS)


[UP](###UP)
## H_BUGS
:iconv.h:
[next](##H_EXAMPLES)

<<BUGS>>
[BUGS](../fills/iconv_h/BUGS)


[UP](###UP)
## H_EXAMPLES
:iconv.h:
[next](##H_CODE)

<<EXAMPLES>>
[EXAMPLES](../fills/iconv_h/EXAMPLES)


[UP](###UP)
## H_CODE_h
:iconv.h:
[next](##H_CODE_c)

----------------------------------------------------- 
-------------------------------------- 
https://code.woboq.org/userspace/glibc/iconv/iconv.h.html
#ifndef _ICONV_H
#define _ICONV_H        1
#include <features.h>
#define __need_size_t
#include <stddef.h>
__BEGIN_DECLS
/* Identifier for conversion method from one codeset to another.  */
typedef void *iconv_t;
/* Allocate descriptor for code conversion from codeset FROMCODE to
codeset TOCODE.
This function is a possible cancellation point and therefore not
marked with __THROW.  */
extern iconv_t iconv_open (const char *__tocode, const char *__fromcode);
/* Convert at most *INBYTESLEFT bytes from *INBUF according to the
code conversion algorithm specified by CD and place up to
*OUTBYTESLEFT bytes in buffer at *OUTBUF.  */
extern size_t iconv (iconv_t __cd, char **__restrict __inbuf,
size_t *__restrict __inbytesleft,
char **__restrict __outbuf,
size_t *__restrict __outbytesleft);
/* Free resources allocated for descriptor CD for code conversion.
This function is a possible cancellation point and therefore not
marked with __THROW.  */
extern int iconv_close (iconv_t __cd);
__END_DECLS
#endif /* iconv.h */
-------------------------------------- 
----------------------------------------------------- 
<<CODE_h>>
[CODE_h](../fills/iconv_h/CODE_h)


[UP](###UP)
## H_CODE_c
:iconv.h:
[next](##H_CODE_m)

----------------------------------------------------- 
-------------------------------------- 
https://code.woboq.org/userspace/glibc/iconv/iconv.c.html
#include <stddef.h> /* for NULL */
#include <errno.h>
#include <iconv.h>
#include <gconv_int.h>
#include <assert.h>
size_t
iconv (iconv_t cd, char **inbuf, size_t *inbytesleft, char **outbuf,
size_t *outbytesleft)
{
__gconv_t gcd = (__gconv_t) cd;
char *outstart = outbuf ? *outbuf : NULL;
size_t irreversible;
int result;
if (__glibc_unlikely (inbuf == NULL || *inbuf == NULL))
{
if (outbuf == NULL || *outbuf == NULL)
result = __gconv (gcd, NULL, NULL, NULL, NULL, &irreversible);
else
result = __gconv (gcd, NULL, NULL, (unsigned char **) outbuf,
(unsigned char *) (outstart + *outbytesleft),
&irreversible);
}
else
{
const char *instart = *inbuf;
result = __gconv (gcd, (const unsigned char **) inbuf,
(const unsigned char *)  (*inbuf + *inbytesleft),
(unsigned char **) outbuf,
(unsigned char *) (*outbuf + *outbytesleft),
&irreversible);
*inbytesleft -= *inbuf - instart;
}
if (outstart != NULL)
*outbytesleft -= *outbuf - outstart;
switch (__builtin_expect (result, __GCONV_OK))
{
case __GCONV_ILLEGAL_DESCRIPTOR:
__set_errno (EBADF);
irreversible = (size_t) -1L;
break;
case __GCONV_ILLEGAL_INPUT:
__set_errno (EILSEQ);
irreversible = (size_t) -1L;
break;
case __GCONV_FULL_OUTPUT:
__set_errno (E2BIG);
irreversible = (size_t) -1L;
break;
case __GCONV_INCOMPLETE_INPUT:
__set_errno (EINVAL);
irreversible = (size_t) -1L;
break;
case __GCONV_EMPTY_INPUT:
case __GCONV_OK:
/* Nothing.  */
break;
default:
assert (!"Nothing like this should happen");
}
return irreversible;
}
-------------------------------------- 
----------------------------------------------------- 
<<CODE_c>>
[CODE_c](../fills/iconv_h/CODE_c)


[UP](###UP)
## H_CODE_m
:iconv.h:
[next](##H_BOOKS)

<<CODE_m>>
[CODE_m](../fills/iconv_h/CODE_m)


[UP](###UP)
## H_BOOKS
:iconv.h:
[next](##H_BOOKS_ru)

<<BOOKS>>
[BOOKS](../fills/iconv_h/BOOKS)


[UP](###UP)
## H_BOOKS_ru
:iconv.h:
[next](##H_SUBSTANCES)

<<BOOKS_ru>>
[BOOKS_ru](../fills/iconv_h/BOOKS_ru)


[UP](###UP)
## H_SUBSTANCES
:iconv.h:
[UP](###UP)
p[iconv](../utils/iconv/iconv.man)
p[iconv_close](../utils/iconv_close/iconv_close.man)
p[iconv_open](../utils/iconv_open/iconv_open.man)
t[iconv_t](../types/iconv_t/iconv_t.man)
